var c4=Object.defineProperty;var u4=(n,e,t)=>e in n?c4(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var h4=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var Ee=(n,e,t)=>u4(n,typeof e!="symbol"?e+"":e,t);var SB=h4((es,ts)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();function Mo(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var $g={exports:{}},Pu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function d4(){if(L_)return Pu;L_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var h in i)h!=="key"&&(o[h]=i[h])}else o=i;return i=o.ref,{$$typeof:n,type:r,key:c,ref:i!==void 0?i:null,props:o}}return Pu.Fragment=e,Pu.jsx=t,Pu.jsxs=t,Pu}var P_;function f4(){return P_||(P_=1,$g.exports=d4()),$g.exports}var f=f4(),Qg={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function p4(){if(V_)return He;V_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function T(q){return q===null||typeof q!="object"?null:(q=x&&q[x]||q["@@iterator"],typeof q=="function"?q:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,C={};function U(q,W,oe){this.props=q,this.context=W,this.refs=C,this.updater=oe||N}U.prototype.isReactComponent={},U.prototype.setState=function(q,W){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,W,"setState")},U.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function K(){}K.prototype=U.prototype;function B(q,W,oe){this.props=q,this.context=W,this.refs=C,this.updater=oe||N}var $=B.prototype=new K;$.constructor=B,I($,U.prototype),$.isPureReactComponent=!0;var Z=Array.isArray;function ve(){}var L={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function P(q,W,oe){var he=oe.ref;return{$$typeof:n,type:q,key:W,ref:he!==void 0?he:null,props:oe}}function V(q,W){return P(q.type,W,q.props)}function A(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function D(q){var W={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(oe){return W[oe]})}var R=/\/+/g;function le(q,W){return typeof q=="object"&&q!==null&&q.key!=null?D(""+q.key):W.toString(36)}function de(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(ve,ve):(q.status="pending",q.then(function(W){q.status==="pending"&&(q.status="fulfilled",q.value=W)},function(W){q.status==="pending"&&(q.status="rejected",q.reason=W)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function z(q,W,oe,he,ye){var Te=typeof q;(Te==="undefined"||Te==="boolean")&&(q=null);var Se=!1;if(q===null)Se=!0;else switch(Te){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(q.$$typeof){case n:case e:Se=!0;break;case b:return Se=q._init,z(Se(q._payload),W,oe,he,ye)}}if(Se)return ye=ye(q),Se=he===""?"."+le(q,0):he,Z(ye)?(oe="",Se!=null&&(oe=Se.replace(R,"$&/")+"/"),z(ye,W,oe,"",function(Ye){return Ye})):ye!=null&&(A(ye)&&(ye=V(ye,oe+(ye.key==null||q&&q.key===ye.key?"":(""+ye.key).replace(R,"$&/")+"/")+Se)),W.push(ye)),1;Se=0;var Ne=he===""?".":he+":";if(Z(q))for(var Me=0;Me<q.length;Me++)he=q[Me],Te=Ne+le(he,Me),Se+=z(he,W,oe,Te,ye);else if(Me=T(q),typeof Me=="function")for(q=Me.call(q),Me=0;!(he=q.next()).done;)he=he.value,Te=Ne+le(he,Me++),Se+=z(he,W,oe,Te,ye);else if(Te==="object"){if(typeof q.then=="function")return z(de(q),W,oe,he,ye);throw W=String(q),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Se}function X(q,W,oe){if(q==null)return q;var he=[],ye=0;return z(q,he,"","",function(Te){return W.call(oe,Te,ye++)}),he}function ce(q){if(q._status===-1){var W=q._result;W=W(),W.then(function(oe){(q._status===0||q._status===-1)&&(q._status=1,q._result=oe)},function(oe){(q._status===0||q._status===-1)&&(q._status=2,q._result=oe)}),q._status===-1&&(q._status=0,q._result=W)}if(q._status===1)return q._result.default;throw q._result}var xe=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},re={map:X,forEach:function(q,W,oe){X(q,function(){W.apply(this,arguments)},oe)},count:function(q){var W=0;return X(q,function(){W++}),W},toArray:function(q){return X(q,function(W){return W})||[]},only:function(q){if(!A(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return He.Activity=v,He.Children=re,He.Component=U,He.Fragment=t,He.Profiler=i,He.PureComponent=B,He.StrictMode=r,He.Suspense=d,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,He.__COMPILER_RUNTIME={__proto__:null,c:function(q){return L.H.useMemoCache(q)}},He.cache=function(q){return function(){return q.apply(null,arguments)}},He.cacheSignal=function(){return null},He.cloneElement=function(q,W,oe){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var he=I({},q.props),ye=q.key;if(W!=null)for(Te in W.key!==void 0&&(ye=""+W.key),W)!k.call(W,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&W.ref===void 0||(he[Te]=W[Te]);var Te=arguments.length-2;if(Te===1)he.children=oe;else if(1<Te){for(var Se=Array(Te),Ne=0;Ne<Te;Ne++)Se[Ne]=arguments[Ne+2];he.children=Se}return P(q.type,ye,he)},He.createContext=function(q){return q={$$typeof:c,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},He.createElement=function(q,W,oe){var he,ye={},Te=null;if(W!=null)for(he in W.key!==void 0&&(Te=""+W.key),W)k.call(W,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(ye[he]=W[he]);var Se=arguments.length-2;if(Se===1)ye.children=oe;else if(1<Se){for(var Ne=Array(Se),Me=0;Me<Se;Me++)Ne[Me]=arguments[Me+2];ye.children=Ne}if(q&&q.defaultProps)for(he in Se=q.defaultProps,Se)ye[he]===void 0&&(ye[he]=Se[he]);return P(q,Te,ye)},He.createRef=function(){return{current:null}},He.forwardRef=function(q){return{$$typeof:h,render:q}},He.isValidElement=A,He.lazy=function(q){return{$$typeof:b,_payload:{_status:-1,_result:q},_init:ce}},He.memo=function(q,W){return{$$typeof:p,type:q,compare:W===void 0?null:W}},He.startTransition=function(q){var W=L.T,oe={};L.T=oe;try{var he=q(),ye=L.S;ye!==null&&ye(oe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ve,xe)}catch(Te){xe(Te)}finally{W!==null&&oe.types!==null&&(W.types=oe.types),L.T=W}},He.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},He.use=function(q){return L.H.use(q)},He.useActionState=function(q,W,oe){return L.H.useActionState(q,W,oe)},He.useCallback=function(q,W){return L.H.useCallback(q,W)},He.useContext=function(q){return L.H.useContext(q)},He.useDebugValue=function(){},He.useDeferredValue=function(q,W){return L.H.useDeferredValue(q,W)},He.useEffect=function(q,W){return L.H.useEffect(q,W)},He.useEffectEvent=function(q){return L.H.useEffectEvent(q)},He.useId=function(){return L.H.useId()},He.useImperativeHandle=function(q,W,oe){return L.H.useImperativeHandle(q,W,oe)},He.useInsertionEffect=function(q,W){return L.H.useInsertionEffect(q,W)},He.useLayoutEffect=function(q,W){return L.H.useLayoutEffect(q,W)},He.useMemo=function(q,W){return L.H.useMemo(q,W)},He.useOptimistic=function(q,W){return L.H.useOptimistic(q,W)},He.useReducer=function(q,W,oe){return L.H.useReducer(q,W,oe)},He.useRef=function(q){return L.H.useRef(q)},He.useState=function(q){return L.H.useState(q)},He.useSyncExternalStore=function(q,W,oe){return L.H.useSyncExternalStore(q,W,oe)},He.useTransition=function(){return L.H.useTransition()},He.version="19.2.3",He}var U_;function Uy(){return U_||(U_=1,Qg.exports=p4()),Qg.exports}var H=Uy();const bn=Mo(H);var Wg={exports:{}},Vu={},Xg={exports:{}},Zg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function m4(){return q_||(q_=1,(function(n){function e(z,X){var ce=z.length;z.push(X);e:for(;0<ce;){var xe=ce-1>>>1,re=z[xe];if(0<i(re,X))z[xe]=X,z[ce]=re,ce=xe;else break e}}function t(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var X=z[0],ce=z.pop();if(ce!==X){z[0]=ce;e:for(var xe=0,re=z.length,q=re>>>1;xe<q;){var W=2*(xe+1)-1,oe=z[W],he=W+1,ye=z[he];if(0>i(oe,ce))he<re&&0>i(ye,oe)?(z[xe]=ye,z[he]=ce,xe=he):(z[xe]=oe,z[W]=ce,xe=W);else if(he<re&&0>i(ye,ce))z[xe]=ye,z[he]=ce,xe=he;else break e}}return X}function i(z,X){var ce=z.sortIndex-X.sortIndex;return ce!==0?ce:z.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var d=[],p=[],b=1,v=null,x=3,T=!1,N=!1,I=!1,C=!1,U=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function $(z){for(var X=t(p);X!==null;){if(X.callback===null)r(p);else if(X.startTime<=z)r(p),X.sortIndex=X.expirationTime,e(d,X);else break;X=t(p)}}function Z(z){if(I=!1,$(z),!N)if(t(d)!==null)N=!0,ve||(ve=!0,D());else{var X=t(p);X!==null&&de(Z,X.startTime-z)}}var ve=!1,L=-1,k=5,P=-1;function V(){return C?!0:!(n.unstable_now()-P<k)}function A(){if(C=!1,ve){var z=n.unstable_now();P=z;var X=!0;try{e:{N=!1,I&&(I=!1,K(L),L=-1),T=!0;var ce=x;try{t:{for($(z),v=t(d);v!==null&&!(v.expirationTime>z&&V());){var xe=v.callback;if(typeof xe=="function"){v.callback=null,x=v.priorityLevel;var re=xe(v.expirationTime<=z);if(z=n.unstable_now(),typeof re=="function"){v.callback=re,$(z),X=!0;break t}v===t(d)&&r(d),$(z)}else r(d);v=t(d)}if(v!==null)X=!0;else{var q=t(p);q!==null&&de(Z,q.startTime-z),X=!1}}break e}finally{v=null,x=ce,T=!1}X=void 0}}finally{X?D():ve=!1}}}var D;if(typeof B=="function")D=function(){B(A)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,le=R.port2;R.port1.onmessage=A,D=function(){le.postMessage(null)}}else D=function(){U(A,0)};function de(z,X){L=U(function(){z(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(z){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var ce=x;x=X;try{return z()}finally{x=ce}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(z,X){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ce=x;x=z;try{return X()}finally{x=ce}},n.unstable_scheduleCallback=function(z,X,ce){var xe=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?xe+ce:xe):ce=xe,z){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=ce+re,z={id:b++,callback:X,priorityLevel:z,startTime:ce,expirationTime:re,sortIndex:-1},ce>xe?(z.sortIndex=ce,e(p,z),t(d)===null&&z===t(p)&&(I?(K(L),L=-1):I=!0,de(Z,ce-xe))):(z.sortIndex=re,e(d,z),N||T||(N=!0,ve||(ve=!0,D()))),z},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(z){var X=x;return function(){var ce=x;x=X;try{return z.apply(this,arguments)}finally{x=ce}}}})(Zg)),Zg}var B_;function g4(){return B_||(B_=1,Xg.exports=m4()),Xg.exports}var Jg={exports:{}},tr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function y4(){if(z_)return tr;z_=1;var n=Uy();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(d,p,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:d,containerInfo:p,implementation:b}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return tr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,tr.createPortal=function(d,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return o(d,p,null,b)},tr.flushSync=function(d){var p=c.T,b=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=p,r.p=b,r.d.f()}},tr.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},tr.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},tr.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var b=p.as,v=h(b,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,T=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:T}):b==="script"&&r.d.X(d,{crossOrigin:v,integrity:x,fetchPriority:T,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},tr.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=h(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},tr.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,v=h(b,p.crossOrigin);r.d.L(d,b,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},tr.preloadModule=function(d,p){if(typeof d=="string")if(p){var b=h(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},tr.requestFormReset=function(d){r.d.r(d)},tr.unstable_batchedUpdates=function(d,p){return d(p)},tr.useFormState=function(d,p,b){return c.H.useFormState(d,p,b)},tr.useFormStatus=function(){return c.H.useHostTransitionStatus()},tr.version="19.2.3",tr}var H_;function b4(){if(H_)return Jg.exports;H_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Jg.exports=y4(),Jg.exports}var F_;function v4(){if(F_)return Vu;F_=1;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=g4(),e=Uy(),t=b4();function r(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,l=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(l=a.return),s=a.return;while(s)}return a.tag===3?l:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function h(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(r(188))}function p(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(r(188));return a!==s?null:s}for(var l=s,u=a;;){var g=l.return;if(g===null)break;var y=g.alternate;if(y===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===l)return d(g),s;if(y===u)return d(g),a;y=y.sibling}throw Error(r(188))}if(l.return!==u.return)l=g,u=y;else{for(var E=!1,O=g.child;O;){if(O===l){E=!0,l=g,u=y;break}if(O===u){E=!0,u=g,l=y;break}O=O.sibling}if(!E){for(O=y.child;O;){if(O===l){E=!0,l=y,u=g;break}if(O===u){E=!0,u=y,l=g;break}O=O.sibling}if(!E)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?s:a}function b(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=b(s),a!==null)return a;s=s.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),B=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function D(s){return s===null||typeof s!="object"?null:(s=A&&s[A]||s["@@iterator"],typeof s=="function"?s:null)}var R=Symbol.for("react.client.reference");function le(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===R?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case U:return"Profiler";case C:return"StrictMode";case Z:return"Suspense";case ve:return"SuspenseList";case P:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case N:return"Portal";case B:return s.displayName||"Context";case K:return(s._context.displayName||"Context")+".Consumer";case $:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case L:return a=s.displayName||null,a!==null?a:le(s.type)||"Memo";case k:a=s._payload,s=s._init;try{return le(s(a))}catch{}}return null}var de=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},xe=[],re=-1;function q(s){return{current:s}}function W(s){0>re||(s.current=xe[re],xe[re]=null,re--)}function oe(s,a){re++,xe[re]=s.current,s.current=a}var he=q(null),ye=q(null),Te=q(null),Se=q(null);function Ne(s,a){switch(oe(Te,a),oe(ye,s),oe(he,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?i_(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=i_(a),s=a_(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}W(he),oe(he,s)}function Me(){W(he),W(ye),W(Te)}function Ye(s){s.memoizedState!==null&&oe(Se,s);var a=he.current,l=a_(a,s.type);a!==l&&(oe(ye,s),oe(he,l))}function We(s){ye.current===s&&(W(he),W(ye)),Se.current===s&&(W(Se),ku._currentValue=ce)}var Xe,et;function dt(s){if(Xe===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);Xe=a&&a[1]||"",et=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xe+s+et}var _e=!1;function mt(s,a){if(!s||_e)return"";_e=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(ae){var ne=ae}Reflect.construct(s,[],ge)}else{try{ge.call()}catch(ae){ne=ae}s.call(ge.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(ge=s())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),E=y[0],O=y[1];if(E&&O){var G=E.split(`
`),te=O.split(`
`);for(g=u=0;u<G.length&&!G[u].includes("DetermineComponentFrameRoot");)u++;for(;g<te.length&&!te[g].includes("DetermineComponentFrameRoot");)g++;if(u===G.length||g===te.length)for(u=G.length-1,g=te.length-1;1<=u&&0<=g&&G[u]!==te[g];)g--;for(;1<=u&&0<=g;u--,g--)if(G[u]!==te[g]){if(u!==1||g!==1)do if(u--,g--,0>g||G[u]!==te[g]){var ue=`
`+G[u].replace(" at new "," at ");return s.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",s.displayName)),ue}while(1<=u&&0<=g);break}}}finally{_e=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?dt(l):""}function vr(s,a){switch(s.tag){case 26:case 27:case 5:return dt(s.type);case 16:return dt("Lazy");case 13:return s.child!==a&&a!==null?dt("Suspense Fallback"):dt("Suspense");case 19:return dt("SuspenseList");case 0:case 15:return mt(s.type,!1);case 11:return mt(s.type.render,!1);case 1:return mt(s.type,!0);case 31:return dt("Activity");default:return""}}function Li(s){try{var a="",l=null;do a+=vr(s,l),l=s,s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var qt=Object.prototype.hasOwnProperty,Rt=n.unstable_scheduleCallback,xr=n.unstable_cancelCallback,Da=n.unstable_shouldYield,Pi=n.unstable_requestPaint,It=n.unstable_now,_r=n.unstable_getCurrentPriorityLevel,Vi=n.unstable_ImmediatePriority,Lr=n.unstable_UserBlockingPriority,ur=n.unstable_NormalPriority,Ui=n.unstable_LowPriority,On=n.unstable_IdlePriority,qi=n.log,Bi=n.unstable_setDisableYieldValue,hr=null,Wt=null;function _n(s){if(typeof qi=="function"&&Bi(s),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(hr,s)}catch{}}var Ot=Math.clz32?Math.clz32:$n,ks=Math.log,wr=Math.LN2;function $n(s){return s>>>=0,s===0?32:31-(ks(s)/wr|0)|0}var jn=256,Pr=262144,wt=4194304;function Qn(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function An(s,a,l){var u=s.pendingLanes;if(u===0)return 0;var g=0,y=s.suspendedLanes,E=s.pingedLanes;s=s.warmLanes;var O=u&134217727;return O!==0?(u=O&~y,u!==0?g=Qn(u):(E&=O,E!==0?g=Qn(E):l||(l=O&~s,l!==0&&(g=Qn(l))))):(O=u&~y,O!==0?g=Qn(O):E!==0?g=Qn(E):l||(l=u&~s,l!==0&&(g=Qn(l)))),g===0?0:a!==0&&a!==g&&(a&y)===0&&(y=g&-g,l=a&-a,y>=l||y===32&&(l&4194048)!==0)?a:g}function kn(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function zi(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function li(){var s=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),s}function wn(s){for(var a=[],l=0;31>l;l++)a.push(s);return a}function ss(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Vr(s,a,l,u,g,y){var E=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var O=s.entanglements,G=s.expirationTimes,te=s.hiddenUpdates;for(l=E&~l;0<l;){var ue=31-Ot(l),ge=1<<ue;O[ue]=0,G[ue]=-1;var ne=te[ue];if(ne!==null)for(te[ue]=null,ue=0;ue<ne.length;ue++){var ae=ne[ue];ae!==null&&(ae.lane&=-536870913)}l&=~ge}u!==0&&Ds(s,u,0),y!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=y&~(E&~a))}function Ds(s,a,l){s.pendingLanes|=a,s.suspendedLanes&=~a;var u=31-Ot(a);s.entangledLanes|=a,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function Hi(s,a){var l=s.entangledLanes|=a;for(s=s.entanglements;l;){var u=31-Ot(l),g=1<<u;g&a|s[u]&a&&(s[u]|=a),l&=~g}}function Fi(s,a){var l=a&-a;return l=(l&42)!==0?1:is(l),(l&(s.suspendedLanes|a))!==0?0:l}function is(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function dr(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Jt(){var s=X.p;return s!==0?s:(s=window.event,s===void 0?32:R_(s.type))}function fr(s,a){var l=X.p;try{return X.p=s,a()}finally{X.p=l}}var pr=Math.random().toString(36).slice(2),Bt="__reactFiber$"+pr,en="__reactProps$"+pr,Er="__reactContainer$"+pr,Xt="__reactEvents$"+pr,Bo="__reactListeners$"+pr,Ma="__reactHandles$"+pr,La="__reactResources$"+pr,Tr="__reactMarker$"+pr;function ci(s){delete s[Bt],delete s[en],delete s[Xt],delete s[Bo],delete s[Ma]}function Dt(s){var a=s[Bt];if(a)return a;for(var l=s.parentNode;l;){if(a=l[Er]||l[Bt]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(s=f_(s);s!==null;){if(l=s[Bt])return l;s=f_(s)}return a}s=l,l=s.parentNode}return null}function Wn(s){if(s=s[Bt]||s[Er]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function Dn(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(r(33))}function Ar(s){var a=s[La];return a||(a=s[La]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function zt(s){s[Tr]=!0}var Gi=new Set,as={};function mr(s,a){Mn(s,a),Mn(s+"Capture",a)}function Mn(s,a){for(as[s]=a,s=0;s<a.length;s++)Gi.add(a[s])}var Xn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ms={},Ki={};function Pa(s){return qt.call(Ki,s)?!0:qt.call(Ms,s)?!1:Xn.test(s)?Ki[s]=!0:(Ms[s]=!0,!1)}function ui(s,a,l){if(Pa(a))if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+l)}}function Ln(s,a,l){if(l===null)s.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+l)}}function Ht(s,a,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(a,l,""+u)}}function Mt(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Sr(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ur(s,a,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,y=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(E){l=""+E,y.call(this,E)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ut(s){if(!s._valueTracker){var a=Sr(s)?"checked":"value";s._valueTracker=Ur(s,a,""+s[a])}}function os(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var l=a.getValue(),u="";return s&&(u=Sr(s)?s.checked?"true":"false":s.value),s=u,s!==l?(a.setValue(s),!0):!1}function Nr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ls=/[\n"\\]/g;function Sn(s){return s.replace(Ls,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function hi(s,a,l,u,g,y,E,O){s.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.type=E:s.removeAttribute("type"),a!=null?E==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Mt(a)):s.value!==""+Mt(a)&&(s.value=""+Mt(a)):E!=="submit"&&E!=="reset"||s.removeAttribute("value"),a!=null?Yi(s,E,Mt(a)):l!=null?Yi(s,E,Mt(l)):u!=null&&s.removeAttribute("value"),g==null&&y!=null&&(s.defaultChecked=!!y),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?s.name=""+Mt(O):s.removeAttribute("name")}function di(s,a,l,u,g,y,E,O){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||a!=null)){ut(s);return}l=l!=null?""+Mt(l):"",a=a!=null?""+Mt(a):l,O||a===s.value||(s.value=a),s.defaultValue=a}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=O?s.checked:!!u,s.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.name=E),ut(s)}function Yi(s,a,l){a==="number"&&Nr(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function ls(s,a,l,u){if(s=s.options,a){a={};for(var g=0;g<l.length;g++)a["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=a.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&u&&(s[l].defaultSelected=!0)}else{for(l=""+Mt(l),a=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function cs(s,a,l){if(a!=null&&(a=""+Mt(a),a!==s.value&&(s.value=a),l==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=l!=null?""+Mt(l):""}function dn(s,a,l,u){if(a==null){if(u!=null){if(l!=null)throw Error(r(92));if(de(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),a=l}l=Mt(a),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),ut(s)}function Ft(s,a){if(a){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=a;return}}s.textContent=a}var Cr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $i(s,a,l){var u=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":u?s.setProperty(a,l):typeof l!="number"||l===0||Cr.has(a)?a==="float"?s.cssFloat=l:s[a]=(""+l).trim():s[a]=l+"px"}function Zn(s,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in a)u=a[g],a.hasOwnProperty(g)&&l[g]!==u&&$i(s,g,u)}else for(var y in a)a.hasOwnProperty(y)&&$i(s,y,a[y])}function fi(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Va=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pi(s){return us.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Jn(){}var sn=null;function Pn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var qr=null,Vn=null;function Br(s){var a=Wn(s);if(a&&(s=a.stateNode)){var l=s[en]||null;e:switch(s=a.stateNode,a.type){case"input":if(hi(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Sn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var u=l[a];if(u!==s&&u.form===s.form){var g=u[en]||null;if(!g)throw Error(r(90));hi(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<l.length;a++)u=l[a],u.form===s.form&&os(u)}break e;case"textarea":cs(s,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ls(s,!!l.multiple,a,!1)}}}var zr=!1;function hs(s,a,l){if(zr)return s(a,l);zr=!0;try{var u=s(a);return u}finally{if(zr=!1,(qr!==null||Vn!==null)&&(zd(),qr&&(a=qr,s=Vn,Vn=qr=null,Br(a),s)))for(a=0;a<s.length;a++)Br(s[a])}}function er(s,a){var l=s.stateNode;if(l===null)return null;var u=l[en]||null;if(u===null)return null;l=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ds=!1;if(Nn)try{var Ze={};Object.defineProperty(Ze,"passive",{get:function(){ds=!0}}),window.addEventListener("test",Ze,Ze),window.removeEventListener("test",Ze,Ze)}catch{ds=!1}var gr=null,Ps=null,Vs=null;function Qi(){if(Vs)return Vs;var s,a=Ps,l=a.length,u,g="value"in gr?gr.value:gr.textContent,y=g.length;for(s=0;s<l&&a[s]===g[s];s++);var E=l-s;for(u=1;u<=E&&a[l-u]===g[y-u];u++);return Vs=g.slice(s,1<u?1-u:void 0)}function w(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function j(){return!0}function F(){return!1}function se(s){function a(l,u,g,y,E){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var O in s)s.hasOwnProperty(O)&&(l=s[O],this[O]=l?l(y):y[O]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?j:F,this.isPropagationStopped=F,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=j)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=j)},persist:function(){},isPersistent:j}),a}var Ve={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Re=se(Ve),$e=v({},Ve,{view:0,detail:0}),Je=se($e),vt,tt,St,an=v({},$e,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ua,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==St&&(St&&s.type==="mousemove"?(vt=s.screenX-St.screenX,tt=s.screenY-St.screenY):tt=vt=0,St=s),vt)},movementY:function(s){return"movementY"in s?s.movementY:tt}}),Lt=se(an),Gt=v({},an,{dataTransfer:0}),tn=se(Gt),Hr=v({},$e,{relatedTarget:0}),Un=se(Hr),Fr=v({},Ve,{animationName:0,elapsedTime:0,pseudoElement:0}),zo=se(Fr),Us=v({},Ve,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Wi=se(Us),ed=v({},Ve,{data:0}),mi=se(ed),td={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sd(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=rd[s])?!!a[s]:!1}function Ua(){return sd}var yr=v({},$e,{key:function(s){if(s.key){var a=td[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=w(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?nd[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ua,charCode:function(s){return s.type==="keypress"?w(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?w(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),id=se(yr),ad=v({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=se(ad),m=v({},$e,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ua}),_=se(m),S=v({},Ve,{propertyName:0,elapsedTime:0,pseudoElement:0}),M=se(S),J=v({},an,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ie=se(J),we=v({},Ve,{newState:0,oldState:0}),Ge=se(we),on=[9,13,27,32],gt=Nn&&"CompositionEvent"in window,Kt=null;Nn&&"documentMode"in document&&(Kt=document.documentMode);var fs=Nn&&"TextEvent"in window&&!Kt,gi=Nn&&(!gt||Kt&&8<Kt&&11>=Kt),qs=" ",Bs=!1;function Ho(s,a){switch(s){case"keyup":return on.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jl(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var kl=!1;function kR(s,a){switch(s){case"compositionend":return jl(a);case"keypress":return a.which!==32?null:(Bs=!0,qs);case"textInput":return s=a.data,s===qs&&Bs?null:s;default:return null}}function DR(s,a){if(kl)return s==="compositionend"||!gt&&Ho(s,a)?(s=Qi(),Vs=Ps=gr=null,kl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return gi&&a.locale!=="ko"?null:a.data;default:return null}}var MR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gv(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!MR[s.type]:a==="textarea"}function yv(s,a,l,u){qr?Vn?Vn.push(u):Vn=[u]:qr=u,a=Qd(a,"onChange"),0<a.length&&(l=new Re("onChange","change",null,l,u),s.push({event:l,listeners:a}))}var tu=null,nu=null;function LR(s){Jx(s,0)}function od(s){var a=Dn(s);if(os(a))return s}function bv(s,a){if(s==="change")return a}var vv=!1;if(Nn){var tm;if(Nn){var nm="oninput"in document;if(!nm){var xv=document.createElement("div");xv.setAttribute("oninput","return;"),nm=typeof xv.oninput=="function"}tm=nm}else tm=!1;vv=tm&&(!document.documentMode||9<document.documentMode)}function _v(){tu&&(tu.detachEvent("onpropertychange",wv),nu=tu=null)}function wv(s){if(s.propertyName==="value"&&od(nu)){var a=[];yv(a,nu,s,Pn(s)),hs(LR,a)}}function PR(s,a,l){s==="focusin"?(_v(),tu=a,nu=l,tu.attachEvent("onpropertychange",wv)):s==="focusout"&&_v()}function VR(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return od(nu)}function UR(s,a){if(s==="click")return od(a)}function qR(s,a){if(s==="input"||s==="change")return od(a)}function BR(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Gr=typeof Object.is=="function"?Object.is:BR;function ru(s,a){if(Gr(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var l=Object.keys(s),u=Object.keys(a);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!qt.call(a,g)||!Gr(s[g],a[g]))return!1}return!0}function Ev(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Tv(s,a){var l=Ev(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=a&&u>=a)return{node:l,offset:a-s};s=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ev(l)}}function Av(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Av(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Sv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Nr(s.document);a instanceof s.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)s=a.contentWindow;else break;a=Nr(s.document)}return a}function rm(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var zR=Nn&&"documentMode"in document&&11>=document.documentMode,Dl=null,sm=null,su=null,im=!1;function Nv(s,a,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;im||Dl==null||Dl!==Nr(u)||(u=Dl,"selectionStart"in u&&rm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),su&&ru(su,u)||(su=u,u=Qd(sm,"onSelect"),0<u.length&&(a=new Re("onSelect","select",null,a,l),s.push({event:a,listeners:u}),a.target=Dl)))}function Fo(s,a){var l={};return l[s.toLowerCase()]=a.toLowerCase(),l["Webkit"+s]="webkit"+a,l["Moz"+s]="moz"+a,l}var Ml={animationend:Fo("Animation","AnimationEnd"),animationiteration:Fo("Animation","AnimationIteration"),animationstart:Fo("Animation","AnimationStart"),transitionrun:Fo("Transition","TransitionRun"),transitionstart:Fo("Transition","TransitionStart"),transitioncancel:Fo("Transition","TransitionCancel"),transitionend:Fo("Transition","TransitionEnd")},am={},Cv={};Nn&&(Cv=document.createElement("div").style,"AnimationEvent"in window||(delete Ml.animationend.animation,delete Ml.animationiteration.animation,delete Ml.animationstart.animation),"TransitionEvent"in window||delete Ml.transitionend.transition);function Go(s){if(am[s])return am[s];if(!Ml[s])return s;var a=Ml[s],l;for(l in a)if(a.hasOwnProperty(l)&&l in Cv)return am[s]=a[l];return s}var Rv=Go("animationend"),Iv=Go("animationiteration"),Ov=Go("animationstart"),HR=Go("transitionrun"),FR=Go("transitionstart"),GR=Go("transitioncancel"),jv=Go("transitionend"),kv=new Map,om="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");om.push("scrollEnd");function zs(s,a){kv.set(s,a),mr(a,[s])}var ld=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},ps=[],Ll=0,lm=0;function cd(){for(var s=Ll,a=lm=Ll=0;a<s;){var l=ps[a];ps[a++]=null;var u=ps[a];ps[a++]=null;var g=ps[a];ps[a++]=null;var y=ps[a];if(ps[a++]=null,u!==null&&g!==null){var E=u.pending;E===null?g.next=g:(g.next=E.next,E.next=g),u.pending=g}y!==0&&Dv(l,g,y)}}function ud(s,a,l,u){ps[Ll++]=s,ps[Ll++]=a,ps[Ll++]=l,ps[Ll++]=u,lm|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function cm(s,a,l,u){return ud(s,a,l,u),hd(s)}function Ko(s,a){return ud(s,null,null,a),hd(s)}function Dv(s,a,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var g=!1,y=s.return;y!==null;)y.childLanes|=l,u=y.alternate,u!==null&&(u.childLanes|=l),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(g=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,g&&a!==null&&(g=31-Ot(l),s=y.hiddenUpdates,u=s[g],u===null?s[g]=[a]:u.push(a),a.lane=l|536870912),y):null}function hd(s){if(50<Su)throw Su=0,bg=null,Error(r(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Pl={};function KR(s,a,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(s,a,l,u){return new KR(s,a,l,u)}function um(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Zi(s,a){var l=s.alternate;return l===null?(l=Kr(s.tag,a,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=a,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,a=s.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Mv(s,a){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,a=l.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function dd(s,a,l,u,g,y){var E=0;if(u=s,typeof s=="function")um(s)&&(E=1);else if(typeof s=="string")E=XI(s,l,he.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case P:return s=Kr(31,l,a,g),s.elementType=P,s.lanes=y,s;case I:return Yo(l.children,g,y,a);case C:E=8,g|=24;break;case U:return s=Kr(12,l,a,g|2),s.elementType=U,s.lanes=y,s;case Z:return s=Kr(13,l,a,g),s.elementType=Z,s.lanes=y,s;case ve:return s=Kr(19,l,a,g),s.elementType=ve,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case B:E=10;break e;case K:E=9;break e;case $:E=11;break e;case L:E=14;break e;case k:E=16,u=null;break e}E=29,l=Error(r(130,s===null?"null":typeof s,"")),u=null}return a=Kr(E,l,a,g),a.elementType=s,a.type=u,a.lanes=y,a}function Yo(s,a,l,u){return s=Kr(7,s,u,a),s.lanes=l,s}function hm(s,a,l){return s=Kr(6,s,null,a),s.lanes=l,s}function Lv(s){var a=Kr(18,null,null,0);return a.stateNode=s,a}function dm(s,a,l){return a=Kr(4,s.children!==null?s.children:[],s.key,a),a.lanes=l,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Pv=new WeakMap;function ms(s,a){if(typeof s=="object"&&s!==null){var l=Pv.get(s);return l!==void 0?l:(a={value:s,source:a,stack:Li(a)},Pv.set(s,a),a)}return{value:s,source:a,stack:Li(a)}}var Vl=[],Ul=0,fd=null,iu=0,gs=[],ys=0,qa=null,yi=1,bi="";function Ji(s,a){Vl[Ul++]=iu,Vl[Ul++]=fd,fd=s,iu=a}function Vv(s,a,l){gs[ys++]=yi,gs[ys++]=bi,gs[ys++]=qa,qa=s;var u=yi;s=bi;var g=32-Ot(u)-1;u&=~(1<<g),l+=1;var y=32-Ot(a)+g;if(30<y){var E=g-g%5;y=(u&(1<<E)-1).toString(32),u>>=E,g-=E,yi=1<<32-Ot(a)+g|l<<g|u,bi=y+s}else yi=1<<y|l<<g|u,bi=s}function fm(s){s.return!==null&&(Ji(s,1),Vv(s,1,0))}function pm(s){for(;s===fd;)fd=Vl[--Ul],Vl[Ul]=null,iu=Vl[--Ul],Vl[Ul]=null;for(;s===qa;)qa=gs[--ys],gs[ys]=null,bi=gs[--ys],gs[ys]=null,yi=gs[--ys],gs[ys]=null}function Uv(s,a){gs[ys++]=yi,gs[ys++]=bi,gs[ys++]=qa,yi=a.id,bi=a.overflow,qa=s}var qn=null,Pt=null,ct=!1,Ba=null,bs=!1,mm=Error(r(519));function za(s){var a=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw au(ms(a,s)),mm}function qv(s){var a=s.stateNode,l=s.type,u=s.memoizedProps;switch(a[Bt]=s,a[en]=u,l){case"dialog":rt("cancel",a),rt("close",a);break;case"iframe":case"object":case"embed":rt("load",a);break;case"video":case"audio":for(l=0;l<Cu.length;l++)rt(Cu[l],a);break;case"source":rt("error",a);break;case"img":case"image":case"link":rt("error",a),rt("load",a);break;case"details":rt("toggle",a);break;case"input":rt("invalid",a),di(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":rt("invalid",a);break;case"textarea":rt("invalid",a),dn(a,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||u.suppressHydrationWarning===!0||r_(a.textContent,l)?(u.popover!=null&&(rt("beforetoggle",a),rt("toggle",a)),u.onScroll!=null&&rt("scroll",a),u.onScrollEnd!=null&&rt("scrollend",a),u.onClick!=null&&(a.onclick=Jn),a=!0):a=!1,a||za(s,!0)}function Bv(s){for(qn=s.return;qn;)switch(qn.tag){case 5:case 31:case 13:bs=!1;return;case 27:case 3:bs=!0;return;default:qn=qn.return}}function ql(s){if(s!==qn)return!1;if(!ct)return Bv(s),ct=!0,!1;var a=s.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||kg(s.type,s.memoizedProps)),l=!l),l&&Pt&&za(s),Bv(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Pt=d_(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));Pt=d_(s)}else a===27?(a=Pt,no(s.type)?(s=Vg,Vg=null,Pt=s):Pt=a):Pt=qn?xs(s.stateNode.nextSibling):null;return!0}function $o(){Pt=qn=null,ct=!1}function gm(){var s=Ba;return s!==null&&(jr===null?jr=s:jr.push.apply(jr,s),Ba=null),s}function au(s){Ba===null?Ba=[s]:Ba.push(s)}var ym=q(null),Qo=null,ea=null;function Ha(s,a,l){oe(ym,a._currentValue),a._currentValue=l}function ta(s){s._currentValue=ym.current,W(ym)}function bm(s,a,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),s===l)break;s=s.return}}function vm(s,a,l,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var y=g.dependencies;if(y!==null){var E=g.child;y=y.firstContext;e:for(;y!==null;){var O=y;y=g;for(var G=0;G<a.length;G++)if(O.context===a[G]){y.lanes|=l,O=y.alternate,O!==null&&(O.lanes|=l),bm(y.return,l,s),u||(E=null);break e}y=O.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(r(341));E.lanes|=l,y=E.alternate,y!==null&&(y.lanes|=l),bm(E,l,s),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function Bl(s,a,l,u){s=null;for(var g=a,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var O=g.type;Gr(g.pendingProps.value,E.value)||(s!==null?s.push(O):s=[O])}}else if(g===Se.current){if(E=g.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(ku):s=[ku])}g=g.return}s!==null&&vm(a,s,l,u),a.flags|=262144}function pd(s){for(s=s.firstContext;s!==null;){if(!Gr(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Wo(s){Qo=s,ea=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Bn(s){return zv(Qo,s)}function md(s,a){return Qo===null&&Wo(s),zv(s,a)}function zv(s,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ea===null){if(s===null)throw Error(r(308));ea=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else ea=ea.next=a;return l}var YR=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){a.aborted=!0,s.forEach(function(l){return l()})}},$R=n.unstable_scheduleCallback,QR=n.unstable_NormalPriority,fn={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xm(){return{controller:new YR,data:new Map,refCount:0}}function ou(s){s.refCount--,s.refCount===0&&$R(QR,function(){s.controller.abort()})}var lu=null,_m=0,zl=0,Hl=null;function WR(s,a){if(lu===null){var l=lu=[];_m=0,zl=Tg(),Hl={status:"pending",value:void 0,then:function(u){l.push(u)}}}return _m++,a.then(Hv,Hv),a}function Hv(){if(--_m===0&&lu!==null){Hl!==null&&(Hl.status="fulfilled");var s=lu;lu=null,zl=0,Hl=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function XR(s,a){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){u.status="fulfilled",u.value=a;for(var g=0;g<l.length;g++)(0,l[g])(a)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var Fv=z.S;z.S=function(s,a){Nx=It(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&WR(s,a),Fv!==null&&Fv(s,a)};var Xo=q(null);function wm(){var s=Xo.current;return s!==null?s:Nt.pooledCache}function gd(s,a){a===null?oe(Xo,Xo.current):oe(Xo,a.pool)}function Gv(){var s=wm();return s===null?null:{parent:fn._currentValue,pool:s}}var Fl=Error(r(460)),Em=Error(r(474)),yd=Error(r(542)),bd={then:function(){}};function Kv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Yv(s,a,l){switch(l=s[l],l===void 0?s.push(a):l!==a&&(a.then(Jn,Jn),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Qv(s),s;default:if(typeof a.status=="string")a.then(Jn,Jn);else{if(s=Nt,s!==null&&100<s.shellSuspendCounter)throw Error(r(482));s=a,s.status="pending",s.then(function(u){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=u}},function(u){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Qv(s),s}throw Jo=a,Fl}}function Zo(s){try{var a=s._init;return a(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Jo=l,Fl):l}}var Jo=null;function $v(){if(Jo===null)throw Error(r(459));var s=Jo;return Jo=null,s}function Qv(s){if(s===Fl||s===yd)throw Error(r(483))}var Gl=null,cu=0;function vd(s){var a=cu;return cu+=1,Gl===null&&(Gl=[]),Yv(Gl,s,a)}function uu(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function xd(s,a){throw a.$$typeof===x?Error(r(525)):(s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Wv(s){function a(Q,Y){if(s){var ee=Q.deletions;ee===null?(Q.deletions=[Y],Q.flags|=16):ee.push(Y)}}function l(Q,Y){if(!s)return null;for(;Y!==null;)a(Q,Y),Y=Y.sibling;return null}function u(Q){for(var Y=new Map;Q!==null;)Q.key!==null?Y.set(Q.key,Q):Y.set(Q.index,Q),Q=Q.sibling;return Y}function g(Q,Y){return Q=Zi(Q,Y),Q.index=0,Q.sibling=null,Q}function y(Q,Y,ee){return Q.index=ee,s?(ee=Q.alternate,ee!==null?(ee=ee.index,ee<Y?(Q.flags|=67108866,Y):ee):(Q.flags|=67108866,Y)):(Q.flags|=1048576,Y)}function E(Q){return s&&Q.alternate===null&&(Q.flags|=67108866),Q}function O(Q,Y,ee,fe){return Y===null||Y.tag!==6?(Y=hm(ee,Q.mode,fe),Y.return=Q,Y):(Y=g(Y,ee),Y.return=Q,Y)}function G(Q,Y,ee,fe){var Le=ee.type;return Le===I?ue(Q,Y,ee.props.children,fe,ee.key):Y!==null&&(Y.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===k&&Zo(Le)===Y.type)?(Y=g(Y,ee.props),uu(Y,ee),Y.return=Q,Y):(Y=dd(ee.type,ee.key,ee.props,null,Q.mode,fe),uu(Y,ee),Y.return=Q,Y)}function te(Q,Y,ee,fe){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==ee.containerInfo||Y.stateNode.implementation!==ee.implementation?(Y=dm(ee,Q.mode,fe),Y.return=Q,Y):(Y=g(Y,ee.children||[]),Y.return=Q,Y)}function ue(Q,Y,ee,fe,Le){return Y===null||Y.tag!==7?(Y=Yo(ee,Q.mode,fe,Le),Y.return=Q,Y):(Y=g(Y,ee),Y.return=Q,Y)}function ge(Q,Y,ee){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=hm(""+Y,Q.mode,ee),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case T:return ee=dd(Y.type,Y.key,Y.props,null,Q.mode,ee),uu(ee,Y),ee.return=Q,ee;case N:return Y=dm(Y,Q.mode,ee),Y.return=Q,Y;case k:return Y=Zo(Y),ge(Q,Y,ee)}if(de(Y)||D(Y))return Y=Yo(Y,Q.mode,ee,null),Y.return=Q,Y;if(typeof Y.then=="function")return ge(Q,vd(Y),ee);if(Y.$$typeof===B)return ge(Q,md(Q,Y),ee);xd(Q,Y)}return null}function ne(Q,Y,ee,fe){var Le=Y!==null?Y.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Le!==null?null:O(Q,Y,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case T:return ee.key===Le?G(Q,Y,ee,fe):null;case N:return ee.key===Le?te(Q,Y,ee,fe):null;case k:return ee=Zo(ee),ne(Q,Y,ee,fe)}if(de(ee)||D(ee))return Le!==null?null:ue(Q,Y,ee,fe,null);if(typeof ee.then=="function")return ne(Q,Y,vd(ee),fe);if(ee.$$typeof===B)return ne(Q,Y,md(Q,ee),fe);xd(Q,ee)}return null}function ae(Q,Y,ee,fe,Le){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Q=Q.get(ee)||null,O(Y,Q,""+fe,Le);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case T:return Q=Q.get(fe.key===null?ee:fe.key)||null,G(Y,Q,fe,Le);case N:return Q=Q.get(fe.key===null?ee:fe.key)||null,te(Y,Q,fe,Le);case k:return fe=Zo(fe),ae(Q,Y,ee,fe,Le)}if(de(fe)||D(fe))return Q=Q.get(ee)||null,ue(Y,Q,fe,Le,null);if(typeof fe.then=="function")return ae(Q,Y,ee,vd(fe),Le);if(fe.$$typeof===B)return ae(Q,Y,ee,md(Y,fe),Le);xd(Y,fe)}return null}function Ie(Q,Y,ee,fe){for(var Le=null,ft=null,je=Y,Qe=Y=0,it=null;je!==null&&Qe<ee.length;Qe++){je.index>Qe?(it=je,je=null):it=je.sibling;var pt=ne(Q,je,ee[Qe],fe);if(pt===null){je===null&&(je=it);break}s&&je&&pt.alternate===null&&a(Q,je),Y=y(pt,Y,Qe),ft===null?Le=pt:ft.sibling=pt,ft=pt,je=it}if(Qe===ee.length)return l(Q,je),ct&&Ji(Q,Qe),Le;if(je===null){for(;Qe<ee.length;Qe++)je=ge(Q,ee[Qe],fe),je!==null&&(Y=y(je,Y,Qe),ft===null?Le=je:ft.sibling=je,ft=je);return ct&&Ji(Q,Qe),Le}for(je=u(je);Qe<ee.length;Qe++)it=ae(je,Q,Qe,ee[Qe],fe),it!==null&&(s&&it.alternate!==null&&je.delete(it.key===null?Qe:it.key),Y=y(it,Y,Qe),ft===null?Le=it:ft.sibling=it,ft=it);return s&&je.forEach(function(oo){return a(Q,oo)}),ct&&Ji(Q,Qe),Le}function Ue(Q,Y,ee,fe){if(ee==null)throw Error(r(151));for(var Le=null,ft=null,je=Y,Qe=Y=0,it=null,pt=ee.next();je!==null&&!pt.done;Qe++,pt=ee.next()){je.index>Qe?(it=je,je=null):it=je.sibling;var oo=ne(Q,je,pt.value,fe);if(oo===null){je===null&&(je=it);break}s&&je&&oo.alternate===null&&a(Q,je),Y=y(oo,Y,Qe),ft===null?Le=oo:ft.sibling=oo,ft=oo,je=it}if(pt.done)return l(Q,je),ct&&Ji(Q,Qe),Le;if(je===null){for(;!pt.done;Qe++,pt=ee.next())pt=ge(Q,pt.value,fe),pt!==null&&(Y=y(pt,Y,Qe),ft===null?Le=pt:ft.sibling=pt,ft=pt);return ct&&Ji(Q,Qe),Le}for(je=u(je);!pt.done;Qe++,pt=ee.next())pt=ae(je,Q,Qe,pt.value,fe),pt!==null&&(s&&pt.alternate!==null&&je.delete(pt.key===null?Qe:pt.key),Y=y(pt,Y,Qe),ft===null?Le=pt:ft.sibling=pt,ft=pt);return s&&je.forEach(function(l4){return a(Q,l4)}),ct&&Ji(Q,Qe),Le}function At(Q,Y,ee,fe){if(typeof ee=="object"&&ee!==null&&ee.type===I&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case T:e:{for(var Le=ee.key;Y!==null;){if(Y.key===Le){if(Le=ee.type,Le===I){if(Y.tag===7){l(Q,Y.sibling),fe=g(Y,ee.props.children),fe.return=Q,Q=fe;break e}}else if(Y.elementType===Le||typeof Le=="object"&&Le!==null&&Le.$$typeof===k&&Zo(Le)===Y.type){l(Q,Y.sibling),fe=g(Y,ee.props),uu(fe,ee),fe.return=Q,Q=fe;break e}l(Q,Y);break}else a(Q,Y);Y=Y.sibling}ee.type===I?(fe=Yo(ee.props.children,Q.mode,fe,ee.key),fe.return=Q,Q=fe):(fe=dd(ee.type,ee.key,ee.props,null,Q.mode,fe),uu(fe,ee),fe.return=Q,Q=fe)}return E(Q);case N:e:{for(Le=ee.key;Y!==null;){if(Y.key===Le)if(Y.tag===4&&Y.stateNode.containerInfo===ee.containerInfo&&Y.stateNode.implementation===ee.implementation){l(Q,Y.sibling),fe=g(Y,ee.children||[]),fe.return=Q,Q=fe;break e}else{l(Q,Y);break}else a(Q,Y);Y=Y.sibling}fe=dm(ee,Q.mode,fe),fe.return=Q,Q=fe}return E(Q);case k:return ee=Zo(ee),At(Q,Y,ee,fe)}if(de(ee))return Ie(Q,Y,ee,fe);if(D(ee)){if(Le=D(ee),typeof Le!="function")throw Error(r(150));return ee=Le.call(ee),Ue(Q,Y,ee,fe)}if(typeof ee.then=="function")return At(Q,Y,vd(ee),fe);if(ee.$$typeof===B)return At(Q,Y,md(Q,ee),fe);xd(Q,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,Y!==null&&Y.tag===6?(l(Q,Y.sibling),fe=g(Y,ee),fe.return=Q,Q=fe):(l(Q,Y),fe=hm(ee,Q.mode,fe),fe.return=Q,Q=fe),E(Q)):l(Q,Y)}return function(Q,Y,ee,fe){try{cu=0;var Le=At(Q,Y,ee,fe);return Gl=null,Le}catch(je){if(je===Fl||je===yd)throw je;var ft=Kr(29,je,null,Q.mode);return ft.lanes=fe,ft.return=Q,ft}finally{}}}var el=Wv(!0),Xv=Wv(!1),Fa=!1;function Tm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Am(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ga(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ka(s,a,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(yt&2)!==0){var g=u.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),u.pending=a,a=hd(s),Dv(s,null,l),a}return ud(s,u,a,l),hd(s)}function hu(s,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Hi(s,l)}}function Sm(s,a){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?g=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?g=y=a:y=y.next=a}else g=y=a;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=a:s.next=a,l.lastBaseUpdate=a}var Nm=!1;function du(){if(Nm){var s=Hl;if(s!==null)throw s}}function fu(s,a,l,u){Nm=!1;var g=s.updateQueue;Fa=!1;var y=g.firstBaseUpdate,E=g.lastBaseUpdate,O=g.shared.pending;if(O!==null){g.shared.pending=null;var G=O,te=G.next;G.next=null,E===null?y=te:E.next=te,E=G;var ue=s.alternate;ue!==null&&(ue=ue.updateQueue,O=ue.lastBaseUpdate,O!==E&&(O===null?ue.firstBaseUpdate=te:O.next=te,ue.lastBaseUpdate=G))}if(y!==null){var ge=g.baseState;E=0,ue=te=G=null,O=y;do{var ne=O.lane&-536870913,ae=ne!==O.lane;if(ae?(st&ne)===ne:(u&ne)===ne){ne!==0&&ne===zl&&(Nm=!0),ue!==null&&(ue=ue.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var Ie=s,Ue=O;ne=a;var At=l;switch(Ue.tag){case 1:if(Ie=Ue.payload,typeof Ie=="function"){ge=Ie.call(At,ge,ne);break e}ge=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Ue.payload,ne=typeof Ie=="function"?Ie.call(At,ge,ne):Ie,ne==null)break e;ge=v({},ge,ne);break e;case 2:Fa=!0}}ne=O.callback,ne!==null&&(s.flags|=64,ae&&(s.flags|=8192),ae=g.callbacks,ae===null?g.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ue===null?(te=ue=ae,G=ge):ue=ue.next=ae,E|=ne;if(O=O.next,O===null){if(O=g.shared.pending,O===null)break;ae=O,O=ae.next,ae.next=null,g.lastBaseUpdate=ae,g.shared.pending=null}}while(!0);ue===null&&(G=ge),g.baseState=G,g.firstBaseUpdate=te,g.lastBaseUpdate=ue,y===null&&(g.shared.lanes=0),Xa|=E,s.lanes=E,s.memoizedState=ge}}function Zv(s,a){if(typeof s!="function")throw Error(r(191,s));s.call(a)}function Jv(s,a){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)Zv(l[s],a)}var Kl=q(null),_d=q(0);function e1(s,a){s=ua,oe(_d,s),oe(Kl,a),ua=s|a.baseLanes}function Cm(){oe(_d,ua),oe(Kl,Kl.current)}function Rm(){ua=_d.current,W(Kl),W(_d)}var Yr=q(null),vs=null;function Ya(s){var a=s.alternate;oe(ln,ln.current&1),oe(Yr,s),vs===null&&(a===null||Kl.current!==null||a.memoizedState!==null)&&(vs=s)}function Im(s){oe(ln,ln.current),oe(Yr,s),vs===null&&(vs=s)}function t1(s){s.tag===22?(oe(ln,ln.current),oe(Yr,s),vs===null&&(vs=s)):$a()}function $a(){oe(ln,ln.current),oe(Yr,Yr.current)}function $r(s){W(Yr),vs===s&&(vs=null),W(ln)}var ln=q(0);function wd(s){for(var a=s;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Lg(l)||Pg(l)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var na=0,Ke=null,Et=null,pn=null,Ed=!1,Yl=!1,tl=!1,Td=0,pu=0,$l=null,ZR=0;function nn(){throw Error(r(321))}function Om(s,a){if(a===null)return!1;for(var l=0;l<a.length&&l<s.length;l++)if(!Gr(s[l],a[l]))return!1;return!0}function jm(s,a,l,u,g,y){return na=y,Ke=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,z.H=s===null||s.memoizedState===null?V1:Ym,tl=!1,y=l(u,g),tl=!1,Yl&&(y=r1(a,l,u,g)),n1(s),y}function n1(s){z.H=yu;var a=Et!==null&&Et.next!==null;if(na=0,pn=Et=Ke=null,Ed=!1,pu=0,$l=null,a)throw Error(r(300));s===null||mn||(s=s.dependencies,s!==null&&pd(s)&&(mn=!0))}function r1(s,a,l,u){Ke=s;var g=0;do{if(Yl&&($l=null),pu=0,Yl=!1,25<=g)throw Error(r(301));if(g+=1,pn=Et=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}z.H=U1,y=a(l,u)}while(Yl);return y}function JR(){var s=z.H,a=s.useState()[0];return a=typeof a.then=="function"?mu(a):a,s=s.useState()[0],(Et!==null?Et.memoizedState:null)!==s&&(Ke.flags|=1024),a}function km(){var s=Td!==0;return Td=0,s}function Dm(s,a,l){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~l}function Mm(s){if(Ed){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Ed=!1}na=0,pn=Et=Ke=null,Yl=!1,pu=Td=0,$l=null}function br(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Ke.memoizedState=pn=s:pn=pn.next=s,pn}function cn(){if(Et===null){var s=Ke.alternate;s=s!==null?s.memoizedState:null}else s=Et.next;var a=pn===null?Ke.memoizedState:pn.next;if(a!==null)pn=a,Et=s;else{if(s===null)throw Ke.alternate===null?Error(r(467)):Error(r(310));Et=s,s={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},pn===null?Ke.memoizedState=pn=s:pn=pn.next=s}return pn}function Ad(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mu(s){var a=pu;return pu+=1,$l===null&&($l=[]),s=Yv($l,s,a),a=Ke,(pn===null?a.memoizedState:pn.next)===null&&(a=a.alternate,z.H=a===null||a.memoizedState===null?V1:Ym),s}function Sd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return mu(s);if(s.$$typeof===B)return Bn(s)}throw Error(r(438,String(s)))}function Lm(s){var a=null,l=Ke.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var u=Ke.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Ad(),Ke.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(s),u=0;u<s;u++)l[u]=V;return a.index++,l}function ra(s,a){return typeof a=="function"?a(s):a}function Nd(s){var a=cn();return Pm(a,Et,s)}function Pm(s,a,l){var u=s.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var g=s.baseQueue,y=u.pending;if(y!==null){if(g!==null){var E=g.next;g.next=y.next,y.next=E}a.baseQueue=g=y,u.pending=null}if(y=s.baseState,g===null)s.memoizedState=y;else{a=g.next;var O=E=null,G=null,te=a,ue=!1;do{var ge=te.lane&-536870913;if(ge!==te.lane?(st&ge)===ge:(na&ge)===ge){var ne=te.revertLane;if(ne===0)G!==null&&(G=G.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),ge===zl&&(ue=!0);else if((na&ne)===ne){te=te.next,ne===zl&&(ue=!0);continue}else ge={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},G===null?(O=G=ge,E=y):G=G.next=ge,Ke.lanes|=ne,Xa|=ne;ge=te.action,tl&&l(y,ge),y=te.hasEagerState?te.eagerState:l(y,ge)}else ne={lane:ge,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},G===null?(O=G=ne,E=y):G=G.next=ne,Ke.lanes|=ge,Xa|=ge;te=te.next}while(te!==null&&te!==a);if(G===null?E=y:G.next=O,!Gr(y,s.memoizedState)&&(mn=!0,ue&&(l=Hl,l!==null)))throw l;s.memoizedState=y,s.baseState=E,s.baseQueue=G,u.lastRenderedState=y}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Vm(s){var a=cn(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var u=l.dispatch,g=l.pending,y=a.memoizedState;if(g!==null){l.pending=null;var E=g=g.next;do y=s(y,E.action),E=E.next;while(E!==g);Gr(y,a.memoizedState)||(mn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),l.lastRenderedState=y}return[y,u]}function s1(s,a,l){var u=Ke,g=cn(),y=ct;if(y){if(l===void 0)throw Error(r(407));l=l()}else l=a();var E=!Gr((Et||g).memoizedState,l);if(E&&(g.memoizedState=l,mn=!0),g=g.queue,Bm(o1.bind(null,u,g,s),[s]),g.getSnapshot!==a||E||pn!==null&&pn.memoizedState.tag&1){if(u.flags|=2048,Ql(9,{destroy:void 0},a1.bind(null,u,g,l,a),null),Nt===null)throw Error(r(349));y||(na&127)!==0||i1(u,a,l)}return l}function i1(s,a,l){s.flags|=16384,s={getSnapshot:a,value:l},a=Ke.updateQueue,a===null?(a=Ad(),Ke.updateQueue=a,a.stores=[s]):(l=a.stores,l===null?a.stores=[s]:l.push(s))}function a1(s,a,l,u){a.value=l,a.getSnapshot=u,l1(a)&&c1(s)}function o1(s,a,l){return l(function(){l1(a)&&c1(s)})}function l1(s){var a=s.getSnapshot;s=s.value;try{var l=a();return!Gr(s,l)}catch{return!0}}function c1(s){var a=Ko(s,2);a!==null&&kr(a,s,2)}function Um(s){var a=br();if(typeof s=="function"){var l=s;if(s=l(),tl){_n(!0);try{l()}finally{_n(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:s},a}function u1(s,a,l,u){return s.baseState=l,Pm(s,Et,typeof u=="function"?u:ra)}function eI(s,a,l,u,g){if(Id(s))throw Error(r(485));if(s=a.action,s!==null){var y={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};z.T!==null?l(!0):y.isTransition=!1,u(y),l=a.pending,l===null?(y.next=a.pending=y,h1(a,y)):(y.next=l.next,a.pending=l.next=y)}}function h1(s,a){var l=a.action,u=a.payload,g=s.state;if(a.isTransition){var y=z.T,E={};z.T=E;try{var O=l(g,u),G=z.S;G!==null&&G(E,O),d1(s,a,O)}catch(te){qm(s,a,te)}finally{y!==null&&E.types!==null&&(y.types=E.types),z.T=y}}else try{y=l(g,u),d1(s,a,y)}catch(te){qm(s,a,te)}}function d1(s,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){f1(s,a,u)},function(u){return qm(s,a,u)}):f1(s,a,l)}function f1(s,a,l){a.status="fulfilled",a.value=l,p1(a),s.state=l,a=s.pending,a!==null&&(l=a.next,l===a?s.pending=null:(l=l.next,a.next=l,h1(s,l)))}function qm(s,a,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=l,p1(a),a=a.next;while(a!==u)}s.action=null}function p1(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function m1(s,a){return a}function g1(s,a){if(ct){var l=Nt.formState;if(l!==null){e:{var u=Ke;if(ct){if(Pt){t:{for(var g=Pt,y=bs;g.nodeType!==8;){if(!y){g=null;break t}if(g=xs(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){Pt=xs(g.nextSibling),u=g.data==="F!";break e}}za(u)}u=!1}u&&(a=l[0])}}return l=br(),l.memoizedState=l.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:m1,lastRenderedState:a},l.queue=u,l=M1.bind(null,Ke,u),u.dispatch=l,u=Um(!1),y=Km.bind(null,Ke,!1,u.queue),u=br(),g={state:a,dispatch:null,action:s,pending:null},u.queue=g,l=eI.bind(null,Ke,g,y,l),g.dispatch=l,u.memoizedState=s,[a,l,!1]}function y1(s){var a=cn();return b1(a,Et,s)}function b1(s,a,l){if(a=Pm(s,a,m1)[0],s=Nd(ra)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=mu(a)}catch(E){throw E===Fl?yd:E}else u=a;a=cn();var g=a.queue,y=g.dispatch;return l!==a.memoizedState&&(Ke.flags|=2048,Ql(9,{destroy:void 0},tI.bind(null,g,l),null)),[u,y,s]}function tI(s,a){s.action=a}function v1(s){var a=cn(),l=Et;if(l!==null)return b1(a,l,s);cn(),a=a.memoizedState,l=cn();var u=l.queue.dispatch;return l.memoizedState=s,[a,u,!1]}function Ql(s,a,l,u){return s={tag:s,create:l,deps:u,inst:a,next:null},a=Ke.updateQueue,a===null&&(a=Ad(),Ke.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,a.lastEffect=s),s}function x1(){return cn().memoizedState}function Cd(s,a,l,u){var g=br();Ke.flags|=s,g.memoizedState=Ql(1|a,{destroy:void 0},l,u===void 0?null:u)}function Rd(s,a,l,u){var g=cn();u=u===void 0?null:u;var y=g.memoizedState.inst;Et!==null&&u!==null&&Om(u,Et.memoizedState.deps)?g.memoizedState=Ql(a,y,l,u):(Ke.flags|=s,g.memoizedState=Ql(1|a,y,l,u))}function _1(s,a){Cd(8390656,8,s,a)}function Bm(s,a){Rd(2048,8,s,a)}function nI(s){Ke.flags|=4;var a=Ke.updateQueue;if(a===null)a=Ad(),Ke.updateQueue=a,a.events=[s];else{var l=a.events;l===null?a.events=[s]:l.push(s)}}function w1(s){var a=cn().memoizedState;return nI({ref:a,nextImpl:s}),function(){if((yt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}function E1(s,a){return Rd(4,2,s,a)}function T1(s,a){return Rd(4,4,s,a)}function A1(s,a){if(typeof a=="function"){s=s();var l=a(s);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function S1(s,a,l){l=l!=null?l.concat([s]):null,Rd(4,4,A1.bind(null,a,s),l)}function zm(){}function N1(s,a){var l=cn();a=a===void 0?null:a;var u=l.memoizedState;return a!==null&&Om(a,u[1])?u[0]:(l.memoizedState=[s,a],s)}function C1(s,a){var l=cn();a=a===void 0?null:a;var u=l.memoizedState;if(a!==null&&Om(a,u[1]))return u[0];if(u=s(),tl){_n(!0);try{s()}finally{_n(!1)}}return l.memoizedState=[u,a],u}function Hm(s,a,l){return l===void 0||(na&1073741824)!==0&&(st&261930)===0?s.memoizedState=a:(s.memoizedState=l,s=Rx(),Ke.lanes|=s,Xa|=s,l)}function R1(s,a,l,u){return Gr(l,a)?l:Kl.current!==null?(s=Hm(s,l,u),Gr(s,a)||(mn=!0),s):(na&42)===0||(na&1073741824)!==0&&(st&261930)===0?(mn=!0,s.memoizedState=l):(s=Rx(),Ke.lanes|=s,Xa|=s,a)}function I1(s,a,l,u,g){var y=X.p;X.p=y!==0&&8>y?y:8;var E=z.T,O={};z.T=O,Km(s,!1,a,l);try{var G=g(),te=z.S;if(te!==null&&te(O,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ue=XR(G,u);gu(s,a,ue,Xr(s))}else gu(s,a,u,Xr(s))}catch(ge){gu(s,a,{then:function(){},status:"rejected",reason:ge},Xr())}finally{X.p=y,E!==null&&O.types!==null&&(E.types=O.types),z.T=E}}function rI(){}function Fm(s,a,l,u){if(s.tag!==5)throw Error(r(476));var g=O1(s).queue;I1(s,g,a,ce,l===null?rI:function(){return j1(s),l(u)})}function O1(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:ce},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ra,lastRenderedState:l},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function j1(s){var a=O1(s);a.next===null&&(a=s.alternate.memoizedState),gu(s,a.next.queue,{},Xr())}function Gm(){return Bn(ku)}function k1(){return cn().memoizedState}function D1(){return cn().memoizedState}function sI(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var l=Xr();s=Ga(l);var u=Ka(a,s,l);u!==null&&(kr(u,a,l),hu(u,a,l)),a={cache:xm()},s.payload=a;return}a=a.return}}function iI(s,a,l){var u=Xr();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Id(s)?L1(a,l):(l=cm(s,a,l,u),l!==null&&(kr(l,s,u),P1(l,a,u)))}function M1(s,a,l){var u=Xr();gu(s,a,l,u)}function gu(s,a,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Id(s))L1(a,g);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var E=a.lastRenderedState,O=y(E,l);if(g.hasEagerState=!0,g.eagerState=O,Gr(O,E))return ud(s,a,g,0),Nt===null&&cd(),!1}catch{}finally{}if(l=cm(s,a,g,u),l!==null)return kr(l,s,u),P1(l,a,u),!0}return!1}function Km(s,a,l,u){if(u={lane:2,revertLane:Tg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Id(s)){if(a)throw Error(r(479))}else a=cm(s,l,u,2),a!==null&&kr(a,s,2)}function Id(s){var a=s.alternate;return s===Ke||a!==null&&a===Ke}function L1(s,a){Yl=Ed=!0;var l=s.pending;l===null?a.next=a:(a.next=l.next,l.next=a),s.pending=a}function P1(s,a,l){if((l&4194048)!==0){var u=a.lanes;u&=s.pendingLanes,l|=u,a.lanes=l,Hi(s,l)}}var yu={readContext:Bn,use:Sd,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn};yu.useEffectEvent=nn;var V1={readContext:Bn,use:Sd,useCallback:function(s,a){return br().memoizedState=[s,a===void 0?null:a],s},useContext:Bn,useEffect:_1,useImperativeHandle:function(s,a,l){l=l!=null?l.concat([s]):null,Cd(4194308,4,A1.bind(null,a,s),l)},useLayoutEffect:function(s,a){return Cd(4194308,4,s,a)},useInsertionEffect:function(s,a){Cd(4,2,s,a)},useMemo:function(s,a){var l=br();a=a===void 0?null:a;var u=s();if(tl){_n(!0);try{s()}finally{_n(!1)}}return l.memoizedState=[u,a],u},useReducer:function(s,a,l){var u=br();if(l!==void 0){var g=l(a);if(tl){_n(!0);try{l(a)}finally{_n(!1)}}}else g=a;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=iI.bind(null,Ke,s),[u.memoizedState,s]},useRef:function(s){var a=br();return s={current:s},a.memoizedState=s},useState:function(s){s=Um(s);var a=s.queue,l=M1.bind(null,Ke,a);return a.dispatch=l,[s.memoizedState,l]},useDebugValue:zm,useDeferredValue:function(s,a){var l=br();return Hm(l,s,a)},useTransition:function(){var s=Um(!1);return s=I1.bind(null,Ke,s.queue,!0,!1),br().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,l){var u=Ke,g=br();if(ct){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),Nt===null)throw Error(r(349));(st&127)!==0||i1(u,a,l)}g.memoizedState=l;var y={value:l,getSnapshot:a};return g.queue=y,_1(o1.bind(null,u,y,s),[s]),u.flags|=2048,Ql(9,{destroy:void 0},a1.bind(null,u,y,l,a),null),l},useId:function(){var s=br(),a=Nt.identifierPrefix;if(ct){var l=bi,u=yi;l=(u&~(1<<32-Ot(u)-1)).toString(32)+l,a="_"+a+"R_"+l,l=Td++,0<l&&(a+="H"+l.toString(32)),a+="_"}else l=ZR++,a="_"+a+"r_"+l.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:Gm,useFormState:g1,useActionState:g1,useOptimistic:function(s){var a=br();a.memoizedState=a.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Km.bind(null,Ke,!0,l),l.dispatch=a,[s,a]},useMemoCache:Lm,useCacheRefresh:function(){return br().memoizedState=sI.bind(null,Ke)},useEffectEvent:function(s){var a=br(),l={impl:s};return a.memoizedState=l,function(){if((yt&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Ym={readContext:Bn,use:Sd,useCallback:N1,useContext:Bn,useEffect:Bm,useImperativeHandle:S1,useInsertionEffect:E1,useLayoutEffect:T1,useMemo:C1,useReducer:Nd,useRef:x1,useState:function(){return Nd(ra)},useDebugValue:zm,useDeferredValue:function(s,a){var l=cn();return R1(l,Et.memoizedState,s,a)},useTransition:function(){var s=Nd(ra)[0],a=cn().memoizedState;return[typeof s=="boolean"?s:mu(s),a]},useSyncExternalStore:s1,useId:k1,useHostTransitionStatus:Gm,useFormState:y1,useActionState:y1,useOptimistic:function(s,a){var l=cn();return u1(l,Et,s,a)},useMemoCache:Lm,useCacheRefresh:D1};Ym.useEffectEvent=w1;var U1={readContext:Bn,use:Sd,useCallback:N1,useContext:Bn,useEffect:Bm,useImperativeHandle:S1,useInsertionEffect:E1,useLayoutEffect:T1,useMemo:C1,useReducer:Vm,useRef:x1,useState:function(){return Vm(ra)},useDebugValue:zm,useDeferredValue:function(s,a){var l=cn();return Et===null?Hm(l,s,a):R1(l,Et.memoizedState,s,a)},useTransition:function(){var s=Vm(ra)[0],a=cn().memoizedState;return[typeof s=="boolean"?s:mu(s),a]},useSyncExternalStore:s1,useId:k1,useHostTransitionStatus:Gm,useFormState:v1,useActionState:v1,useOptimistic:function(s,a){var l=cn();return Et!==null?u1(l,Et,s,a):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Lm,useCacheRefresh:D1};U1.useEffectEvent=w1;function $m(s,a,l,u){a=s.memoizedState,l=l(u,a),l=l==null?a:v({},a,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Qm={enqueueSetState:function(s,a,l){s=s._reactInternals;var u=Xr(),g=Ga(u);g.payload=a,l!=null&&(g.callback=l),a=Ka(s,g,u),a!==null&&(kr(a,s,u),hu(a,s,u))},enqueueReplaceState:function(s,a,l){s=s._reactInternals;var u=Xr(),g=Ga(u);g.tag=1,g.payload=a,l!=null&&(g.callback=l),a=Ka(s,g,u),a!==null&&(kr(a,s,u),hu(a,s,u))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var l=Xr(),u=Ga(l);u.tag=2,a!=null&&(u.callback=a),a=Ka(s,u,l),a!==null&&(kr(a,s,l),hu(a,s,l))}};function q1(s,a,l,u,g,y,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,y,E):a.prototype&&a.prototype.isPureReactComponent?!ru(l,u)||!ru(g,y):!0}function B1(s,a,l,u){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,u),a.state!==s&&Qm.enqueueReplaceState(a,a.state,null)}function nl(s,a){var l=a;if("ref"in a){l={};for(var u in a)u!=="ref"&&(l[u]=a[u])}if(s=s.defaultProps){l===a&&(l=v({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}function z1(s){ld(s)}function H1(s){console.error(s)}function F1(s){ld(s)}function Od(s,a){try{var l=s.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function G1(s,a,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Wm(s,a,l){return l=Ga(l),l.tag=3,l.payload={element:null},l.callback=function(){Od(s,a)},l}function K1(s){return s=Ga(s),s.tag=3,s}function Y1(s,a,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var y=u.value;s.payload=function(){return g(y)},s.callback=function(){G1(a,l,u)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(s.callback=function(){G1(a,l,u),typeof g!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var O=u.stack;this.componentDidCatch(u.value,{componentStack:O!==null?O:""})})}function aI(s,a,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=l.alternate,a!==null&&Bl(a,l,g,!0),l=Yr.current,l!==null){switch(l.tag){case 31:case 13:return vs===null?Hd():l.alternate===null&&rn===0&&(rn=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===bd?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([u]):a.add(u),_g(s,u,g)),!1;case 22:return l.flags|=65536,u===bd?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([u]):l.add(u)),_g(s,u,g)),!1}throw Error(r(435,l.tag))}return _g(s,u,g),Hd(),!1}if(ct)return a=Yr.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,u!==mm&&(s=Error(r(422),{cause:u}),au(ms(s,l)))):(u!==mm&&(a=Error(r(423),{cause:u}),au(ms(a,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=ms(u,l),g=Wm(s.stateNode,u,g),Sm(s,g),rn!==4&&(rn=2)),!1;var y=Error(r(520),{cause:u});if(y=ms(y,l),Au===null?Au=[y]:Au.push(y),rn!==4&&(rn=2),a===null)return!0;u=ms(u,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=Wm(l.stateNode,u,s),Sm(l,s),!1;case 1:if(a=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Za===null||!Za.has(y))))return l.flags|=65536,g&=-g,l.lanes|=g,g=K1(g),Y1(g,s,l,u),Sm(l,g),!1}l=l.return}while(l!==null);return!1}var Xm=Error(r(461)),mn=!1;function zn(s,a,l,u){a.child=s===null?Xv(a,null,l,u):el(a,s.child,l,u)}function $1(s,a,l,u,g){l=l.render;var y=a.ref;if("ref"in u){var E={};for(var O in u)O!=="ref"&&(E[O]=u[O])}else E=u;return Wo(a),u=jm(s,a,l,E,y,g),O=km(),s!==null&&!mn?(Dm(s,a,g),sa(s,a,g)):(ct&&O&&fm(a),a.flags|=1,zn(s,a,u,g),a.child)}function Q1(s,a,l,u,g){if(s===null){var y=l.type;return typeof y=="function"&&!um(y)&&y.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=y,W1(s,a,y,u,g)):(s=dd(l.type,null,u,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!ig(s,g)){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:ru,l(E,u)&&s.ref===a.ref)return sa(s,a,g)}return a.flags|=1,s=Zi(y,u),s.ref=a.ref,s.return=a,a.child=s}function W1(s,a,l,u,g){if(s!==null){var y=s.memoizedProps;if(ru(y,u)&&s.ref===a.ref)if(mn=!1,a.pendingProps=u=y,ig(s,g))(s.flags&131072)!==0&&(mn=!0);else return a.lanes=s.lanes,sa(s,a,g)}return Zm(s,a,l,u,g)}function X1(s,a,l,u){var g=u.children,y=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(y=y!==null?y.baseLanes|l:l,s!==null){for(u=a.child=s.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~y}else u=0,a.child=null;return Z1(s,a,y,l,u)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&gd(a,y!==null?y.cachePool:null),y!==null?e1(a,y):Cm(),t1(a);else return u=a.lanes=536870912,Z1(s,a,y!==null?y.baseLanes|l:l,l,u)}else y!==null?(gd(a,y.cachePool),e1(a,y),$a(),a.memoizedState=null):(s!==null&&gd(a,null),Cm(),$a());return zn(s,a,g,l),a.child}function bu(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Z1(s,a,l,u,g){var y=wm();return y=y===null?null:{parent:fn._currentValue,pool:y},a.memoizedState={baseLanes:l,cachePool:y},s!==null&&gd(a,null),Cm(),t1(a),s!==null&&Bl(s,a,u,!0),a.childLanes=g,null}function jd(s,a){return a=Dd({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function J1(s,a,l){return el(a,s.child,null,l),s=jd(a,a.pendingProps),s.flags|=2,$r(a),a.memoizedState=null,s}function oI(s,a,l){var u=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(ct){if(u.mode==="hidden")return s=jd(a,u),a.lanes=536870912,bu(null,s);if(Im(a),(s=Pt)?(s=h_(s,bs),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:qa!==null?{id:yi,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},l=Lv(s),l.return=a,a.child=l,qn=a,Pt=null)):s=null,s===null)throw za(a);return a.lanes=536870912,null}return jd(a,u)}var y=s.memoizedState;if(y!==null){var E=y.dehydrated;if(Im(a),g)if(a.flags&256)a.flags&=-257,a=J1(s,a,l);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(r(558));else if(mn||Bl(s,a,l,!1),g=(l&s.childLanes)!==0,mn||g){if(u=Nt,u!==null&&(E=Fi(u,l),E!==0&&E!==y.retryLane))throw y.retryLane=E,Ko(s,E),kr(u,s,E),Xm;Hd(),a=J1(s,a,l)}else s=y.treeContext,Pt=xs(E.nextSibling),qn=a,ct=!0,Ba=null,bs=!1,s!==null&&Uv(a,s),a=jd(a,u),a.flags|=4096;return a}return s=Zi(s.child,{mode:u.mode,children:u.children}),s.ref=a.ref,a.child=s,s.return=a,s}function kd(s,a){var l=a.ref;if(l===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(s===null||s.ref!==l)&&(a.flags|=4194816)}}function Zm(s,a,l,u,g){return Wo(a),l=jm(s,a,l,u,void 0,g),u=km(),s!==null&&!mn?(Dm(s,a,g),sa(s,a,g)):(ct&&u&&fm(a),a.flags|=1,zn(s,a,l,g),a.child)}function ex(s,a,l,u,g,y){return Wo(a),a.updateQueue=null,l=r1(a,u,l,g),n1(s),u=km(),s!==null&&!mn?(Dm(s,a,y),sa(s,a,y)):(ct&&u&&fm(a),a.flags|=1,zn(s,a,l,y),a.child)}function tx(s,a,l,u,g){if(Wo(a),a.stateNode===null){var y=Pl,E=l.contextType;typeof E=="object"&&E!==null&&(y=Bn(E)),y=new l(u,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Qm,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=u,y.state=a.memoizedState,y.refs={},Tm(a),E=l.contextType,y.context=typeof E=="object"&&E!==null?Bn(E):Pl,y.state=a.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&($m(a,l,E,u),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&Qm.enqueueReplaceState(y,y.state,null),fu(a,u,y,g),du(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(s===null){y=a.stateNode;var O=a.memoizedProps,G=nl(l,O);y.props=G;var te=y.context,ue=l.contextType;E=Pl,typeof ue=="object"&&ue!==null&&(E=Bn(ue));var ge=l.getDerivedStateFromProps;ue=typeof ge=="function"||typeof y.getSnapshotBeforeUpdate=="function",O=a.pendingProps!==O,ue||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(O||te!==E)&&B1(a,y,u,E),Fa=!1;var ne=a.memoizedState;y.state=ne,fu(a,u,y,g),du(),te=a.memoizedState,O||ne!==te||Fa?(typeof ge=="function"&&($m(a,l,ge,u),te=a.memoizedState),(G=Fa||q1(a,l,G,u,ne,te,E))?(ue||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=te),y.props=u,y.state=te,y.context=E,u=G):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{y=a.stateNode,Am(s,a),E=a.memoizedProps,ue=nl(l,E),y.props=ue,ge=a.pendingProps,ne=y.context,te=l.contextType,G=Pl,typeof te=="object"&&te!==null&&(G=Bn(te)),O=l.getDerivedStateFromProps,(te=typeof O=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==ge||ne!==G)&&B1(a,y,u,G),Fa=!1,ne=a.memoizedState,y.state=ne,fu(a,u,y,g),du();var ae=a.memoizedState;E!==ge||ne!==ae||Fa||s!==null&&s.dependencies!==null&&pd(s.dependencies)?(typeof O=="function"&&($m(a,l,O,u),ae=a.memoizedState),(ue=Fa||q1(a,l,ue,u,ne,ae,G)||s!==null&&s.dependencies!==null&&pd(s.dependencies))?(te||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,ae,G),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,ae,G)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===s.memoizedProps&&ne===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&ne===s.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=ae),y.props=u,y.state=ae,y.context=G,u=ue):(typeof y.componentDidUpdate!="function"||E===s.memoizedProps&&ne===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&ne===s.memoizedState||(a.flags|=1024),u=!1)}return y=u,kd(s,a),u=(a.flags&128)!==0,y||u?(y=a.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&u?(a.child=el(a,s.child,null,g),a.child=el(a,null,l,g)):zn(s,a,l,g),a.memoizedState=y.state,s=a.child):s=sa(s,a,g),s}function nx(s,a,l,u){return $o(),a.flags|=256,zn(s,a,l,u),a.child}var Jm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function eg(s){return{baseLanes:s,cachePool:Gv()}}function tg(s,a,l){return s=s!==null?s.childLanes&~l:0,a&&(s|=Wr),s}function rx(s,a,l){var u=a.pendingProps,g=!1,y=(a.flags&128)!==0,E;if((E=y)||(E=s!==null&&s.memoizedState===null?!1:(ln.current&2)!==0),E&&(g=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,s===null){if(ct){if(g?Ya(a):$a(),(s=Pt)?(s=h_(s,bs),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:qa!==null?{id:yi,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},l=Lv(s),l.return=a,a.child=l,qn=a,Pt=null)):s=null,s===null)throw za(a);return Pg(s)?a.lanes=32:a.lanes=536870912,null}var O=u.children;return u=u.fallback,g?($a(),g=a.mode,O=Dd({mode:"hidden",children:O},g),u=Yo(u,g,l,null),O.return=a,u.return=a,O.sibling=u,a.child=O,u=a.child,u.memoizedState=eg(l),u.childLanes=tg(s,E,l),a.memoizedState=Jm,bu(null,u)):(Ya(a),ng(a,O))}var G=s.memoizedState;if(G!==null&&(O=G.dehydrated,O!==null)){if(y)a.flags&256?(Ya(a),a.flags&=-257,a=rg(s,a,l)):a.memoizedState!==null?($a(),a.child=s.child,a.flags|=128,a=null):($a(),O=u.fallback,g=a.mode,u=Dd({mode:"visible",children:u.children},g),O=Yo(O,g,l,null),O.flags|=2,u.return=a,O.return=a,u.sibling=O,a.child=u,el(a,s.child,null,l),u=a.child,u.memoizedState=eg(l),u.childLanes=tg(s,E,l),a.memoizedState=Jm,a=bu(null,u));else if(Ya(a),Pg(O)){if(E=O.nextSibling&&O.nextSibling.dataset,E)var te=E.dgst;E=te,u=Error(r(419)),u.stack="",u.digest=E,au({value:u,source:null,stack:null}),a=rg(s,a,l)}else if(mn||Bl(s,a,l,!1),E=(l&s.childLanes)!==0,mn||E){if(E=Nt,E!==null&&(u=Fi(E,l),u!==0&&u!==G.retryLane))throw G.retryLane=u,Ko(s,u),kr(E,s,u),Xm;Lg(O)||Hd(),a=rg(s,a,l)}else Lg(O)?(a.flags|=192,a.child=s.child,a=null):(s=G.treeContext,Pt=xs(O.nextSibling),qn=a,ct=!0,Ba=null,bs=!1,s!==null&&Uv(a,s),a=ng(a,u.children),a.flags|=4096);return a}return g?($a(),O=u.fallback,g=a.mode,G=s.child,te=G.sibling,u=Zi(G,{mode:"hidden",children:u.children}),u.subtreeFlags=G.subtreeFlags&65011712,te!==null?O=Zi(te,O):(O=Yo(O,g,l,null),O.flags|=2),O.return=a,u.return=a,u.sibling=O,a.child=u,bu(null,u),u=a.child,O=s.child.memoizedState,O===null?O=eg(l):(g=O.cachePool,g!==null?(G=fn._currentValue,g=g.parent!==G?{parent:G,pool:G}:g):g=Gv(),O={baseLanes:O.baseLanes|l,cachePool:g}),u.memoizedState=O,u.childLanes=tg(s,E,l),a.memoizedState=Jm,bu(s.child,u)):(Ya(a),l=s.child,s=l.sibling,l=Zi(l,{mode:"visible",children:u.children}),l.return=a,l.sibling=null,s!==null&&(E=a.deletions,E===null?(a.deletions=[s],a.flags|=16):E.push(s)),a.child=l,a.memoizedState=null,l)}function ng(s,a){return a=Dd({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Dd(s,a){return s=Kr(22,s,null,a),s.lanes=0,s}function rg(s,a,l){return el(a,s.child,null,l),s=ng(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function sx(s,a,l){s.lanes|=a;var u=s.alternate;u!==null&&(u.lanes|=a),bm(s.return,a,l)}function sg(s,a,l,u,g,y){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:y}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=l,E.tailMode=g,E.treeForkCount=y)}function ix(s,a,l){var u=a.pendingProps,g=u.revealOrder,y=u.tail;u=u.children;var E=ln.current,O=(E&2)!==0;if(O?(E=E&1|2,a.flags|=128):E&=1,oe(ln,E),zn(s,a,u,l),u=ct?iu:0,!O&&s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&sx(s,l,a);else if(s.tag===19)sx(s,l,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(l=a.child,g=null;l!==null;)s=l.alternate,s!==null&&wd(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=a.child,a.child=null):(g=l.sibling,l.sibling=null),sg(a,!1,g,l,y,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&wd(s)===null){a.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}sg(a,!0,l,null,y,u);break;case"together":sg(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function sa(s,a,l){if(s!==null&&(a.dependencies=s.dependencies),Xa|=a.lanes,(l&a.childLanes)===0)if(s!==null){if(Bl(s,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,l=Zi(s,s.pendingProps),a.child=l,l.return=a;s.sibling!==null;)s=s.sibling,l=l.sibling=Zi(s,s.pendingProps),l.return=a;l.sibling=null}return a.child}function ig(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&pd(s)))}function lI(s,a,l){switch(a.tag){case 3:Ne(a,a.stateNode.containerInfo),Ha(a,fn,s.memoizedState.cache),$o();break;case 27:case 5:Ye(a);break;case 4:Ne(a,a.stateNode.containerInfo);break;case 10:Ha(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Im(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(Ya(a),a.flags|=128,null):(l&a.child.childLanes)!==0?rx(s,a,l):(Ya(a),s=sa(s,a,l),s!==null?s.sibling:null);Ya(a);break;case 19:var g=(s.flags&128)!==0;if(u=(l&a.childLanes)!==0,u||(Bl(s,a,l,!1),u=(l&a.childLanes)!==0),g){if(u)return ix(s,a,l);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),oe(ln,ln.current),u)break;return null;case 22:return a.lanes=0,X1(s,a,l,a.pendingProps);case 24:Ha(a,fn,s.memoizedState.cache)}return sa(s,a,l)}function ax(s,a,l){if(s!==null)if(s.memoizedProps!==a.pendingProps)mn=!0;else{if(!ig(s,l)&&(a.flags&128)===0)return mn=!1,lI(s,a,l);mn=(s.flags&131072)!==0}else mn=!1,ct&&(a.flags&1048576)!==0&&Vv(a,iu,a.index);switch(a.lanes=0,a.tag){case 16:e:{var u=a.pendingProps;if(s=Zo(a.elementType),a.type=s,typeof s=="function")um(s)?(u=nl(s,u),a.tag=1,a=tx(null,a,s,u,l)):(a.tag=0,a=Zm(null,a,s,u,l));else{if(s!=null){var g=s.$$typeof;if(g===$){a.tag=11,a=$1(null,a,s,u,l);break e}else if(g===L){a.tag=14,a=Q1(null,a,s,u,l);break e}}throw a=le(s)||s,Error(r(306,a,""))}}return a;case 0:return Zm(s,a,a.type,a.pendingProps,l);case 1:return u=a.type,g=nl(u,a.pendingProps),tx(s,a,u,g,l);case 3:e:{if(Ne(a,a.stateNode.containerInfo),s===null)throw Error(r(387));u=a.pendingProps;var y=a.memoizedState;g=y.element,Am(s,a),fu(a,u,null,l);var E=a.memoizedState;if(u=E.cache,Ha(a,fn,u),u!==y.cache&&vm(a,[fn],l,!0),du(),u=E.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=nx(s,a,u,l);break e}else if(u!==g){g=ms(Error(r(424)),a),au(g),a=nx(s,a,u,l);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Pt=xs(s.firstChild),qn=a,ct=!0,Ba=null,bs=!0,l=Xv(a,null,u,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if($o(),u===g){a=sa(s,a,l);break e}zn(s,a,u,l)}a=a.child}return a;case 26:return kd(s,a),s===null?(l=y_(a.type,null,a.pendingProps,null))?a.memoizedState=l:ct||(l=a.type,s=a.pendingProps,u=Wd(Te.current).createElement(l),u[Bt]=a,u[en]=s,Hn(u,l,s),zt(u),a.stateNode=u):a.memoizedState=y_(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Ye(a),s===null&&ct&&(u=a.stateNode=p_(a.type,a.pendingProps,Te.current),qn=a,bs=!0,g=Pt,no(a.type)?(Vg=g,Pt=xs(u.firstChild)):Pt=g),zn(s,a,a.pendingProps.children,l),kd(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&ct&&((g=u=Pt)&&(u=VI(u,a.type,a.pendingProps,bs),u!==null?(a.stateNode=u,qn=a,Pt=xs(u.firstChild),bs=!1,g=!0):g=!1),g||za(a)),Ye(a),g=a.type,y=a.pendingProps,E=s!==null?s.memoizedProps:null,u=y.children,kg(g,y)?u=null:E!==null&&kg(g,E)&&(a.flags|=32),a.memoizedState!==null&&(g=jm(s,a,JR,null,null,l),ku._currentValue=g),kd(s,a),zn(s,a,u,l),a.child;case 6:return s===null&&ct&&((s=l=Pt)&&(l=UI(l,a.pendingProps,bs),l!==null?(a.stateNode=l,qn=a,Pt=null,s=!0):s=!1),s||za(a)),null;case 13:return rx(s,a,l);case 4:return Ne(a,a.stateNode.containerInfo),u=a.pendingProps,s===null?a.child=el(a,null,u,l):zn(s,a,u,l),a.child;case 11:return $1(s,a,a.type,a.pendingProps,l);case 7:return zn(s,a,a.pendingProps,l),a.child;case 8:return zn(s,a,a.pendingProps.children,l),a.child;case 12:return zn(s,a,a.pendingProps.children,l),a.child;case 10:return u=a.pendingProps,Ha(a,a.type,u.value),zn(s,a,u.children,l),a.child;case 9:return g=a.type._context,u=a.pendingProps.children,Wo(a),g=Bn(g),u=u(g),a.flags|=1,zn(s,a,u,l),a.child;case 14:return Q1(s,a,a.type,a.pendingProps,l);case 15:return W1(s,a,a.type,a.pendingProps,l);case 19:return ix(s,a,l);case 31:return oI(s,a,l);case 22:return X1(s,a,l,a.pendingProps);case 24:return Wo(a),u=Bn(fn),s===null?(g=wm(),g===null&&(g=Nt,y=xm(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=l),g=y),a.memoizedState={parent:u,cache:g},Tm(a),Ha(a,fn,g)):((s.lanes&l)!==0&&(Am(s,a),fu(a,null,null,l),du()),g=s.memoizedState,y=a.memoizedState,g.parent!==u?(g={parent:u,cache:u},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Ha(a,fn,u)):(u=y.cache,Ha(a,fn,u),u!==g.cache&&vm(a,[fn],l,!0))),zn(s,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function ia(s){s.flags|=4}function ag(s,a,l,u,g){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(kx())s.flags|=8192;else throw Jo=bd,Em}else s.flags&=-16777217}function ox(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!w_(a))if(kx())s.flags|=8192;else throw Jo=bd,Em}function Md(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?li():536870912,s.lanes|=a,Jl|=a)}function vu(s,a){if(!ct)switch(s.tailMode){case"hidden":a=s.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function Vt(s){var a=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(a)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=l,a}function cI(s,a,l){var u=a.pendingProps;switch(pm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(a),null;case 1:return Vt(a),null;case 3:return l=a.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),ta(fn),Me(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(ql(a)?ia(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,gm())),Vt(a),null;case 26:var g=a.type,y=a.memoizedState;return s===null?(ia(a),y!==null?(Vt(a),ox(a,y)):(Vt(a),ag(a,g,null,u,l))):y?y!==s.memoizedState?(ia(a),Vt(a),ox(a,y)):(Vt(a),a.flags&=-16777217):(s=s.memoizedProps,s!==u&&ia(a),Vt(a),ag(a,g,s,u,l)),null;case 27:if(We(a),l=Te.current,g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ia(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return Vt(a),null}s=he.current,ql(a)?qv(a):(s=p_(g,u,l),a.stateNode=s,ia(a))}return Vt(a),null;case 5:if(We(a),g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==u&&ia(a);else{if(!u){if(a.stateNode===null)throw Error(r(166));return Vt(a),null}if(y=he.current,ql(a))qv(a);else{var E=Wd(Te.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?E.createElement(g,{is:u.is}):E.createElement(g)}}y[Bt]=a,y[en]=u;e:for(E=a.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===a)break e;for(;E.sibling===null;){if(E.return===null||E.return===a)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}a.stateNode=y;e:switch(Hn(y,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ia(a)}}return Vt(a),ag(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,l),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==u&&ia(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(r(166));if(s=Te.current,ql(a)){if(s=a.stateNode,l=a.memoizedProps,u=null,g=qn,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[Bt]=a,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||r_(s.nodeValue,l)),s||za(a,!0)}else s=Wd(s).createTextNode(u),s[Bt]=a,a.stateNode=s}return Vt(a),null;case 31:if(l=a.memoizedState,s===null||s.memoizedState!==null){if(u=ql(a),l!==null){if(s===null){if(!u)throw Error(r(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(557));s[Bt]=a}else $o(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Vt(a),s=!1}else l=gm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return a.flags&256?($r(a),a):($r(a),null);if((a.flags&128)!==0)throw Error(r(558))}return Vt(a),null;case 13:if(u=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=ql(a),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(r(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[Bt]=a}else $o(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Vt(a),g=!1}else g=gm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?($r(a),a):($r(a),null)}return $r(a),(a.flags&128)!==0?(a.lanes=l,a):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=a.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==g&&(u.flags|=2048)),l!==s&&l&&(a.child.flags|=8192),Md(a,a.updateQueue),Vt(a),null);case 4:return Me(),s===null&&Cg(a.stateNode.containerInfo),Vt(a),null;case 10:return ta(a.type),Vt(a),null;case 19:if(W(ln),u=a.memoizedState,u===null)return Vt(a),null;if(g=(a.flags&128)!==0,y=u.rendering,y===null)if(g)vu(u,!1);else{if(rn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=wd(s),y!==null){for(a.flags|=128,vu(u,!1),s=y.updateQueue,a.updateQueue=s,Md(a,s),a.subtreeFlags=0,s=l,l=a.child;l!==null;)Mv(l,s),l=l.sibling;return oe(ln,ln.current&1|2),ct&&Ji(a,u.treeForkCount),a.child}s=s.sibling}u.tail!==null&&It()>qd&&(a.flags|=128,g=!0,vu(u,!1),a.lanes=4194304)}else{if(!g)if(s=wd(y),s!==null){if(a.flags|=128,g=!0,s=s.updateQueue,a.updateQueue=s,Md(a,s),vu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!ct)return Vt(a),null}else 2*It()-u.renderingStartTime>qd&&l!==536870912&&(a.flags|=128,g=!0,vu(u,!1),a.lanes=4194304);u.isBackwards?(y.sibling=a.child,a.child=y):(s=u.last,s!==null?s.sibling=y:a.child=y,u.last=y)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=It(),s.sibling=null,l=ln.current,oe(ln,g?l&1|2:l&1),ct&&Ji(a,u.treeForkCount),s):(Vt(a),null);case 22:case 23:return $r(a),Rm(),u=a.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(l&536870912)!==0&&(a.flags&128)===0&&(Vt(a),a.subtreeFlags&6&&(a.flags|=8192)):Vt(a),l=a.updateQueue,l!==null&&Md(a,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==l&&(a.flags|=2048),s!==null&&W(Xo),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),ta(fn),Vt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function uI(s,a){switch(pm(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ta(fn),Me(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return We(a),null;case 31:if(a.memoizedState!==null){if($r(a),a.alternate===null)throw Error(r(340));$o()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if($r(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));$o()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return W(ln),null;case 4:return Me(),null;case 10:return ta(a.type),null;case 22:case 23:return $r(a),Rm(),s!==null&&W(Xo),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return ta(fn),null;case 25:return null;default:return null}}function lx(s,a){switch(pm(a),a.tag){case 3:ta(fn),Me();break;case 26:case 27:case 5:We(a);break;case 4:Me();break;case 31:a.memoizedState!==null&&$r(a);break;case 13:$r(a);break;case 19:W(ln);break;case 10:ta(a.type);break;case 22:case 23:$r(a),Rm(),s!==null&&W(Xo);break;case 24:ta(fn)}}function xu(s,a){try{var l=a.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&s)===s){u=void 0;var y=l.create,E=l.inst;u=y(),E.destroy=u}l=l.next}while(l!==g)}}catch(O){_t(a,a.return,O)}}function Qa(s,a,l){try{var u=a.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var y=g.next;u=y;do{if((u.tag&s)===s){var E=u.inst,O=E.destroy;if(O!==void 0){E.destroy=void 0,g=a;var G=l,te=O;try{te()}catch(ue){_t(g,G,ue)}}}u=u.next}while(u!==y)}}catch(ue){_t(a,a.return,ue)}}function cx(s){var a=s.updateQueue;if(a!==null){var l=s.stateNode;try{Jv(a,l)}catch(u){_t(s,s.return,u)}}}function ux(s,a,l){l.props=nl(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){_t(s,a,u)}}function _u(s,a){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(g){_t(s,a,g)}}function vi(s,a){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){_t(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){_t(s,a,g)}else l.current=null}function hx(s){var a=s.type,l=s.memoizedProps,u=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){_t(s,s.return,g)}}function og(s,a,l){try{var u=s.stateNode;jI(u,s.type,l,a),u[en]=a}catch(g){_t(s,s.return,g)}}function dx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&no(s.type)||s.tag===4}function lg(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||dx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&no(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function cg(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(s),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=Jn));else if(u!==4&&(u===27&&no(s.type)&&(l=s.stateNode,a=null),s=s.child,s!==null))for(cg(s,a,l),s=s.sibling;s!==null;)cg(s,a,l),s=s.sibling}function Ld(s,a,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,a?l.insertBefore(s,a):l.appendChild(s);else if(u!==4&&(u===27&&no(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Ld(s,a,l),s=s.sibling;s!==null;)Ld(s,a,l),s=s.sibling}function fx(s){var a=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Hn(a,u,l),a[Bt]=s,a[en]=l}catch(y){_t(s,s.return,y)}}var aa=!1,gn=!1,ug=!1,px=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function hI(s,a){if(s=s.containerInfo,Og=rf,s=Sv(s),rm(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,O=-1,G=-1,te=0,ue=0,ge=s,ne=null;t:for(;;){for(var ae;ge!==l||g!==0&&ge.nodeType!==3||(O=E+g),ge!==y||u!==0&&ge.nodeType!==3||(G=E+u),ge.nodeType===3&&(E+=ge.nodeValue.length),(ae=ge.firstChild)!==null;)ne=ge,ge=ae;for(;;){if(ge===s)break t;if(ne===l&&++te===g&&(O=E),ne===y&&++ue===u&&(G=E),(ae=ge.nextSibling)!==null)break;ge=ne,ne=ge.parentNode}ge=ae}l=O===-1||G===-1?null:{start:O,end:G}}else l=null}l=l||{start:0,end:0}}else l=null;for(jg={focusedElem:s,selectionRange:l},rf=!1,Cn=a;Cn!==null;)if(a=Cn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Cn=s;else for(;Cn!==null;){switch(a=Cn,y=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)g=s[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,l=a,g=y.memoizedProps,y=y.memoizedState,u=l.stateNode;try{var Ie=nl(l.type,g);s=u.getSnapshotBeforeUpdate(Ie,y),u.__reactInternalSnapshotBeforeUpdate=s}catch(Ue){_t(l,l.return,Ue)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,l=s.nodeType,l===9)Mg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Mg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(r(163))}if(s=a.sibling,s!==null){s.return=a.return,Cn=s;break}Cn=a.return}}function mx(s,a,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:la(s,l),u&4&&xu(5,l);break;case 1:if(la(s,l),u&4)if(s=l.stateNode,a===null)try{s.componentDidMount()}catch(E){_t(l,l.return,E)}else{var g=nl(l.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(E){_t(l,l.return,E)}}u&64&&cx(l),u&512&&_u(l,l.return);break;case 3:if(la(s,l),u&64&&(s=l.updateQueue,s!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{Jv(s,a)}catch(E){_t(l,l.return,E)}}break;case 27:a===null&&u&4&&fx(l);case 26:case 5:la(s,l),a===null&&u&4&&hx(l),u&512&&_u(l,l.return);break;case 12:la(s,l);break;case 31:la(s,l),u&4&&bx(s,l);break;case 13:la(s,l),u&4&&vx(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=xI.bind(null,l),qI(s,l))));break;case 22:if(u=l.memoizedState!==null||aa,!u){a=a!==null&&a.memoizedState!==null||gn,g=aa;var y=gn;aa=u,(gn=a)&&!y?ca(s,l,(l.subtreeFlags&8772)!==0):la(s,l),aa=g,gn=y}break;case 30:break;default:la(s,l)}}function gx(s){var a=s.alternate;a!==null&&(s.alternate=null,gx(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&ci(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Yt=null,Rr=!1;function oa(s,a,l){for(l=l.child;l!==null;)yx(s,a,l),l=l.sibling}function yx(s,a,l){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(hr,l)}catch{}switch(l.tag){case 26:gn||vi(l,a),oa(s,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:gn||vi(l,a);var u=Yt,g=Rr;no(l.type)&&(Yt=l.stateNode,Rr=!1),oa(s,a,l),Iu(l.stateNode),Yt=u,Rr=g;break;case 5:gn||vi(l,a);case 6:if(u=Yt,g=Rr,Yt=null,oa(s,a,l),Yt=u,Rr=g,Yt!==null)if(Rr)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(l.stateNode)}catch(y){_t(l,a,y)}else try{Yt.removeChild(l.stateNode)}catch(y){_t(l,a,y)}break;case 18:Yt!==null&&(Rr?(s=Yt,c_(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),oc(s)):c_(Yt,l.stateNode));break;case 4:u=Yt,g=Rr,Yt=l.stateNode.containerInfo,Rr=!0,oa(s,a,l),Yt=u,Rr=g;break;case 0:case 11:case 14:case 15:Qa(2,l,a),gn||Qa(4,l,a),oa(s,a,l);break;case 1:gn||(vi(l,a),u=l.stateNode,typeof u.componentWillUnmount=="function"&&ux(l,a,u)),oa(s,a,l);break;case 21:oa(s,a,l);break;case 22:gn=(u=gn)||l.memoizedState!==null,oa(s,a,l),gn=u;break;default:oa(s,a,l)}}function bx(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{oc(s)}catch(l){_t(a,a.return,l)}}}function vx(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{oc(s)}catch(l){_t(a,a.return,l)}}function dI(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new px),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new px),a;default:throw Error(r(435,s.tag))}}function Pd(s,a){var l=dI(s);a.forEach(function(u){if(!l.has(u)){l.add(u);var g=_I.bind(null,s,u);u.then(g,g)}})}function Ir(s,a){var l=a.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],y=s,E=a,O=E;e:for(;O!==null;){switch(O.tag){case 27:if(no(O.type)){Yt=O.stateNode,Rr=!1;break e}break;case 5:Yt=O.stateNode,Rr=!1;break e;case 3:case 4:Yt=O.stateNode.containerInfo,Rr=!0;break e}O=O.return}if(Yt===null)throw Error(r(160));yx(y,E,g),Yt=null,Rr=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)xx(a,s),a=a.sibling}var Hs=null;function xx(s,a){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ir(a,s),Or(s),u&4&&(Qa(3,s,s.return),xu(3,s),Qa(5,s,s.return));break;case 1:Ir(a,s),Or(s),u&512&&(gn||l===null||vi(l,l.return)),u&64&&aa&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=Hs;if(Ir(a,s),Or(s),u&512&&(gn||l===null||vi(l,l.return)),u&4){var y=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){e:{u=s.type,l=s.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":y=g.getElementsByTagName("title")[0],(!y||y[Tr]||y[Bt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(u),g.head.insertBefore(y,g.querySelector("head > title"))),Hn(y,u,l),y[Bt]=s,zt(y),u=y;break e;case"link":var E=x_("link","href",g).get(u+(l.href||""));if(E){for(var O=0;O<E.length;O++)if(y=E[O],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(O,1);break t}}y=g.createElement(u),Hn(y,u,l),g.head.appendChild(y);break;case"meta":if(E=x_("meta","content",g).get(u+(l.content||""))){for(O=0;O<E.length;O++)if(y=E[O],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(O,1);break t}}y=g.createElement(u),Hn(y,u,l),g.head.appendChild(y);break;default:throw Error(r(468,u))}y[Bt]=s,zt(y),u=y}s.stateNode=u}else __(g,s.type,s.stateNode);else s.stateNode=v_(g,u,s.memoizedProps);else y!==u?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,u===null?__(g,s.type,s.stateNode):v_(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&og(s,s.memoizedProps,l.memoizedProps)}break;case 27:Ir(a,s),Or(s),u&512&&(gn||l===null||vi(l,l.return)),l!==null&&u&4&&og(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Ir(a,s),Or(s),u&512&&(gn||l===null||vi(l,l.return)),s.flags&32){g=s.stateNode;try{Ft(g,"")}catch(Ie){_t(s,s.return,Ie)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,og(s,g,l!==null?l.memoizedProps:g)),u&1024&&(ug=!0);break;case 6:if(Ir(a,s),Or(s),u&4){if(s.stateNode===null)throw Error(r(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(Ie){_t(s,s.return,Ie)}}break;case 3:if(Jd=null,g=Hs,Hs=Xd(a.containerInfo),Ir(a,s),Hs=g,Or(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{oc(a.containerInfo)}catch(Ie){_t(s,s.return,Ie)}ug&&(ug=!1,_x(s));break;case 4:u=Hs,Hs=Xd(s.stateNode.containerInfo),Ir(a,s),Or(s),Hs=u;break;case 12:Ir(a,s),Or(s);break;case 31:Ir(a,s),Or(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Pd(s,u)));break;case 13:Ir(a,s),Or(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ud=It()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Pd(s,u)));break;case 22:g=s.memoizedState!==null;var G=l!==null&&l.memoizedState!==null,te=aa,ue=gn;if(aa=te||g,gn=ue||G,Ir(a,s),gn=ue,aa=te,Or(s),u&8192)e:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(l===null||G||aa||gn||rl(s)),l=null,a=s;;){if(a.tag===5||a.tag===26){if(l===null){G=l=a;try{if(y=G.stateNode,g)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{O=G.stateNode;var ge=G.memoizedProps.style,ne=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;O.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(Ie){_t(G,G.return,Ie)}}}else if(a.tag===6){if(l===null){G=a;try{G.stateNode.nodeValue=g?"":G.memoizedProps}catch(Ie){_t(G,G.return,Ie)}}}else if(a.tag===18){if(l===null){G=a;try{var ae=G.stateNode;g?u_(ae,!0):u_(G.stateNode,!1)}catch(Ie){_t(G,G.return,Ie)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Pd(s,l))));break;case 19:Ir(a,s),Or(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Pd(s,u)));break;case 30:break;case 21:break;default:Ir(a,s),Or(s)}}function Or(s){var a=s.flags;if(a&2){try{for(var l,u=s.return;u!==null;){if(dx(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,y=lg(s);Ld(s,y,g);break;case 5:var E=l.stateNode;l.flags&32&&(Ft(E,""),l.flags&=-33);var O=lg(s);Ld(s,O,E);break;case 3:case 4:var G=l.stateNode.containerInfo,te=lg(s);cg(s,te,G);break;default:throw Error(r(161))}}catch(ue){_t(s,s.return,ue)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function _x(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;_x(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function la(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)mx(s,a.alternate,a),a=a.sibling}function rl(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Qa(4,a,a.return),rl(a);break;case 1:vi(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&ux(a,a.return,l),rl(a);break;case 27:Iu(a.stateNode);case 26:case 5:vi(a,a.return),rl(a);break;case 22:a.memoizedState===null&&rl(a);break;case 30:rl(a);break;default:rl(a)}s=s.sibling}}function ca(s,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,g=s,y=a,E=y.flags;switch(y.tag){case 0:case 11:case 15:ca(g,y,l),xu(4,y);break;case 1:if(ca(g,y,l),u=y,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(te){_t(u,u.return,te)}if(u=y,g=u.updateQueue,g!==null){var O=u.stateNode;try{var G=g.shared.hiddenCallbacks;if(G!==null)for(g.shared.hiddenCallbacks=null,g=0;g<G.length;g++)Zv(G[g],O)}catch(te){_t(u,u.return,te)}}l&&E&64&&cx(y),_u(y,y.return);break;case 27:fx(y);case 26:case 5:ca(g,y,l),l&&u===null&&E&4&&hx(y),_u(y,y.return);break;case 12:ca(g,y,l);break;case 31:ca(g,y,l),l&&E&4&&bx(g,y);break;case 13:ca(g,y,l),l&&E&4&&vx(g,y);break;case 22:y.memoizedState===null&&ca(g,y,l),_u(y,y.return);break;case 30:break;default:ca(g,y,l)}a=a.sibling}}function hg(s,a){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&ou(l))}function dg(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ou(s))}function Fs(s,a,l,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)wx(s,a,l,u),a=a.sibling}function wx(s,a,l,u){var g=a.flags;switch(a.tag){case 0:case 11:case 15:Fs(s,a,l,u),g&2048&&xu(9,a);break;case 1:Fs(s,a,l,u);break;case 3:Fs(s,a,l,u),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&ou(s)));break;case 12:if(g&2048){Fs(s,a,l,u),s=a.stateNode;try{var y=a.memoizedProps,E=y.id,O=y.onPostCommit;typeof O=="function"&&O(E,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(G){_t(a,a.return,G)}}else Fs(s,a,l,u);break;case 31:Fs(s,a,l,u);break;case 13:Fs(s,a,l,u);break;case 23:break;case 22:y=a.stateNode,E=a.alternate,a.memoizedState!==null?y._visibility&2?Fs(s,a,l,u):wu(s,a):y._visibility&2?Fs(s,a,l,u):(y._visibility|=2,Wl(s,a,l,u,(a.subtreeFlags&10256)!==0||!1)),g&2048&&hg(E,a);break;case 24:Fs(s,a,l,u),g&2048&&dg(a.alternate,a);break;default:Fs(s,a,l,u)}}function Wl(s,a,l,u,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var y=s,E=a,O=l,G=u,te=E.flags;switch(E.tag){case 0:case 11:case 15:Wl(y,E,O,G,g),xu(8,E);break;case 23:break;case 22:var ue=E.stateNode;E.memoizedState!==null?ue._visibility&2?Wl(y,E,O,G,g):wu(y,E):(ue._visibility|=2,Wl(y,E,O,G,g)),g&&te&2048&&hg(E.alternate,E);break;case 24:Wl(y,E,O,G,g),g&&te&2048&&dg(E.alternate,E);break;default:Wl(y,E,O,G,g)}a=a.sibling}}function wu(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=s,u=a,g=u.flags;switch(u.tag){case 22:wu(l,u),g&2048&&hg(u.alternate,u);break;case 24:wu(l,u),g&2048&&dg(u.alternate,u);break;default:wu(l,u)}a=a.sibling}}var Eu=8192;function Xl(s,a,l){if(s.subtreeFlags&Eu)for(s=s.child;s!==null;)Ex(s,a,l),s=s.sibling}function Ex(s,a,l){switch(s.tag){case 26:Xl(s,a,l),s.flags&Eu&&s.memoizedState!==null&&ZI(l,Hs,s.memoizedState,s.memoizedProps);break;case 5:Xl(s,a,l);break;case 3:case 4:var u=Hs;Hs=Xd(s.stateNode.containerInfo),Xl(s,a,l),Hs=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Eu,Eu=16777216,Xl(s,a,l),Eu=u):Xl(s,a,l));break;default:Xl(s,a,l)}}function Tx(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Tu(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Cn=u,Sx(u,s)}Tx(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ax(s),s=s.sibling}function Ax(s){switch(s.tag){case 0:case 11:case 15:Tu(s),s.flags&2048&&Qa(9,s,s.return);break;case 3:Tu(s);break;case 12:Tu(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Vd(s)):Tu(s);break;default:Tu(s)}}function Vd(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var u=a[l];Cn=u,Sx(u,s)}Tx(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Qa(8,a,a.return),Vd(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,Vd(a));break;default:Vd(a)}s=s.sibling}}function Sx(s,a){for(;Cn!==null;){var l=Cn;switch(l.tag){case 0:case 11:case 15:Qa(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ou(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Cn=u;else e:for(l=s;Cn!==null;){u=Cn;var g=u.sibling,y=u.return;if(gx(u),u===l){Cn=null;break e}if(g!==null){g.return=y,Cn=g;break e}Cn=y}}}var fI={getCacheForType:function(s){var a=Bn(fn),l=a.data.get(s);return l===void 0&&(l=s(),a.data.set(s,l)),l},cacheSignal:function(){return Bn(fn).controller.signal}},pI=typeof WeakMap=="function"?WeakMap:Map,yt=0,Nt=null,nt=null,st=0,xt=0,Qr=null,Wa=!1,Zl=!1,fg=!1,ua=0,rn=0,Xa=0,sl=0,pg=0,Wr=0,Jl=0,Au=null,jr=null,mg=!1,Ud=0,Nx=0,qd=1/0,Bd=null,Za=null,En=0,Ja=null,ec=null,ha=0,gg=0,yg=null,Cx=null,Su=0,bg=null;function Xr(){return(yt&2)!==0&&st!==0?st&-st:z.T!==null?Tg():Jt()}function Rx(){if(Wr===0)if((st&536870912)===0||ct){var s=Pr;Pr<<=1,(Pr&3932160)===0&&(Pr=262144),Wr=s}else Wr=536870912;return s=Yr.current,s!==null&&(s.flags|=32),Wr}function kr(s,a,l){(s===Nt&&(xt===2||xt===9)||s.cancelPendingCommit!==null)&&(tc(s,0),eo(s,st,Wr,!1)),ss(s,l),((yt&2)===0||s!==Nt)&&(s===Nt&&((yt&2)===0&&(sl|=l),rn===4&&eo(s,st,Wr,!1)),xi(s))}function Ix(s,a,l){if((yt&6)!==0)throw Error(r(327));var u=!l&&(a&127)===0&&(a&s.expiredLanes)===0||kn(s,a),g=u?yI(s,a):xg(s,a,!0),y=u;do{if(g===0){Zl&&!u&&eo(s,a,0,!1);break}else{if(l=s.current.alternate,y&&!mI(l)){g=xg(s,a,!1),y=!1;continue}if(g===2){if(y=a,s.errorRecoveryDisabledLanes&y)var E=0;else E=s.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var O=s;g=Au;var G=O.current.memoizedState.isDehydrated;if(G&&(tc(O,E).flags|=256),E=xg(O,E,!1),E!==2){if(fg&&!G){O.errorRecoveryDisabledLanes|=y,sl|=y,g=4;break e}y=jr,jr=g,y!==null&&(jr===null?jr=y:jr.push.apply(jr,y))}g=E}if(y=!1,g!==2)continue}}if(g===1){tc(s,0),eo(s,a,0,!0);break}e:{switch(u=s,y=g,y){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:eo(u,a,Wr,!Wa);break e;case 2:jr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(g=Ud+300-It(),10<g)){if(eo(u,a,Wr,!Wa),An(u,0,!0)!==0)break e;ha=a,u.timeoutHandle=o_(Ox.bind(null,u,l,jr,Bd,mg,a,Wr,sl,Jl,Wa,y,"Throttled",-0,0),g);break e}Ox(u,l,jr,Bd,mg,a,Wr,sl,Jl,Wa,y,null,-0,0)}}break}while(!0);xi(s)}function Ox(s,a,l,u,g,y,E,O,G,te,ue,ge,ne,ae){if(s.timeoutHandle=-1,ge=a.subtreeFlags,ge&8192||(ge&16785408)===16785408){ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},Ex(a,y,ge);var Ie=(y&62914560)===y?Ud-It():(y&4194048)===y?Nx-It():0;if(Ie=JI(ge,Ie),Ie!==null){ha=y,s.cancelPendingCommit=Ie(Ux.bind(null,s,a,y,l,u,g,E,O,G,ue,ge,null,ne,ae)),eo(s,y,E,!te);return}}Ux(s,a,y,l,u,g,E,O,G)}function mI(s){for(var a=s;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],y=g.getSnapshot;g=g.value;try{if(!Gr(y(),g))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function eo(s,a,l,u){a&=~pg,a&=~sl,s.suspendedLanes|=a,s.pingedLanes&=~a,u&&(s.warmLanes|=a),u=s.expirationTimes;for(var g=a;0<g;){var y=31-Ot(g),E=1<<y;u[y]=-1,g&=~E}l!==0&&Ds(s,l,a)}function zd(){return(yt&6)===0?(Nu(0),!1):!0}function vg(){if(nt!==null){if(xt===0)var s=nt.return;else s=nt,ea=Qo=null,Mm(s),Gl=null,cu=0,s=nt;for(;s!==null;)lx(s.alternate,s),s=s.return;nt=null}}function tc(s,a){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,MI(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),ha=0,vg(),Nt=s,nt=l=Zi(s.current,null),st=a,xt=0,Qr=null,Wa=!1,Zl=kn(s,a),fg=!1,Jl=Wr=pg=sl=Xa=rn=0,jr=Au=null,mg=!1,(a&8)!==0&&(a|=a&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=a;0<u;){var g=31-Ot(u),y=1<<g;a|=s[g],u&=~y}return ua=a,cd(),l}function jx(s,a){Ke=null,z.H=yu,a===Fl||a===yd?(a=$v(),xt=3):a===Em?(a=$v(),xt=4):xt=a===Xm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Qr=a,nt===null&&(rn=1,Od(s,ms(a,s.current)))}function kx(){var s=Yr.current;return s===null?!0:(st&4194048)===st?vs===null:(st&62914560)===st||(st&536870912)!==0?s===vs:!1}function Dx(){var s=z.H;return z.H=yu,s===null?yu:s}function Mx(){var s=z.A;return z.A=fI,s}function Hd(){rn=4,Wa||(st&4194048)!==st&&Yr.current!==null||(Zl=!0),(Xa&134217727)===0&&(sl&134217727)===0||Nt===null||eo(Nt,st,Wr,!1)}function xg(s,a,l){var u=yt;yt|=2;var g=Dx(),y=Mx();(Nt!==s||st!==a)&&(Bd=null,tc(s,a)),a=!1;var E=rn;e:do try{if(xt!==0&&nt!==null){var O=nt,G=Qr;switch(xt){case 8:vg(),E=6;break e;case 3:case 2:case 9:case 6:Yr.current===null&&(a=!0);var te=xt;if(xt=0,Qr=null,nc(s,O,G,te),l&&Zl){E=0;break e}break;default:te=xt,xt=0,Qr=null,nc(s,O,G,te)}}gI(),E=rn;break}catch(ue){jx(s,ue)}while(!0);return a&&s.shellSuspendCounter++,ea=Qo=null,yt=u,z.H=g,z.A=y,nt===null&&(Nt=null,st=0,cd()),E}function gI(){for(;nt!==null;)Lx(nt)}function yI(s,a){var l=yt;yt|=2;var u=Dx(),g=Mx();Nt!==s||st!==a?(Bd=null,qd=It()+500,tc(s,a)):Zl=kn(s,a);e:do try{if(xt!==0&&nt!==null){a=nt;var y=Qr;t:switch(xt){case 1:xt=0,Qr=null,nc(s,a,y,1);break;case 2:case 9:if(Kv(y)){xt=0,Qr=null,Px(a);break}a=function(){xt!==2&&xt!==9||Nt!==s||(xt=7),xi(s)},y.then(a,a);break e;case 3:xt=7;break e;case 4:xt=5;break e;case 7:Kv(y)?(xt=0,Qr=null,Px(a)):(xt=0,Qr=null,nc(s,a,y,7));break;case 5:var E=null;switch(nt.tag){case 26:E=nt.memoizedState;case 5:case 27:var O=nt;if(E?w_(E):O.stateNode.complete){xt=0,Qr=null;var G=O.sibling;if(G!==null)nt=G;else{var te=O.return;te!==null?(nt=te,Fd(te)):nt=null}break t}}xt=0,Qr=null,nc(s,a,y,5);break;case 6:xt=0,Qr=null,nc(s,a,y,6);break;case 8:vg(),rn=6;break e;default:throw Error(r(462))}}bI();break}catch(ue){jx(s,ue)}while(!0);return ea=Qo=null,z.H=u,z.A=g,yt=l,nt!==null?0:(Nt=null,st=0,cd(),rn)}function bI(){for(;nt!==null&&!Da();)Lx(nt)}function Lx(s){var a=ax(s.alternate,s,ua);s.memoizedProps=s.pendingProps,a===null?Fd(s):nt=a}function Px(s){var a=s,l=a.alternate;switch(a.tag){case 15:case 0:a=ex(l,a,a.pendingProps,a.type,void 0,st);break;case 11:a=ex(l,a,a.pendingProps,a.type.render,a.ref,st);break;case 5:Mm(a);default:lx(l,a),a=nt=Mv(a,ua),a=ax(l,a,ua)}s.memoizedProps=s.pendingProps,a===null?Fd(s):nt=a}function nc(s,a,l,u){ea=Qo=null,Mm(a),Gl=null,cu=0;var g=a.return;try{if(aI(s,g,a,l,st)){rn=1,Od(s,ms(l,s.current)),nt=null;return}}catch(y){if(g!==null)throw nt=g,y;rn=1,Od(s,ms(l,s.current)),nt=null;return}a.flags&32768?(ct||u===1?s=!0:Zl||(st&536870912)!==0?s=!1:(Wa=s=!0,(u===2||u===9||u===3||u===6)&&(u=Yr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Vx(a,s)):Fd(a)}function Fd(s){var a=s;do{if((a.flags&32768)!==0){Vx(a,Wa);return}s=a.return;var l=cI(a.alternate,a,ua);if(l!==null){nt=l;return}if(a=a.sibling,a!==null){nt=a;return}nt=a=s}while(a!==null);rn===0&&(rn=5)}function Vx(s,a){do{var l=uI(s.alternate,s);if(l!==null){l.flags&=32767,nt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(s=s.sibling,s!==null)){nt=s;return}nt=s=l}while(s!==null);rn=6,nt=null}function Ux(s,a,l,u,g,y,E,O,G){s.cancelPendingCommit=null;do Gd();while(En!==0);if((yt&6)!==0)throw Error(r(327));if(a!==null){if(a===s.current)throw Error(r(177));if(y=a.lanes|a.childLanes,y|=lm,Vr(s,l,y,E,O,G),s===Nt&&(nt=Nt=null,st=0),ec=a,Ja=s,ha=l,gg=y,yg=g,Cx=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,wI(ur,function(){return Fx(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=z.T,z.T=null,g=X.p,X.p=2,E=yt,yt|=4;try{hI(s,a,l)}finally{yt=E,X.p=g,z.T=u}}En=1,qx(),Bx(),zx()}}function qx(){if(En===1){En=0;var s=Ja,a=ec,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=z.T,z.T=null;var u=X.p;X.p=2;var g=yt;yt|=4;try{xx(a,s);var y=jg,E=Sv(s.containerInfo),O=y.focusedElem,G=y.selectionRange;if(E!==O&&O&&O.ownerDocument&&Av(O.ownerDocument.documentElement,O)){if(G!==null&&rm(O)){var te=G.start,ue=G.end;if(ue===void 0&&(ue=te),"selectionStart"in O)O.selectionStart=te,O.selectionEnd=Math.min(ue,O.value.length);else{var ge=O.ownerDocument||document,ne=ge&&ge.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),Ie=O.textContent.length,Ue=Math.min(G.start,Ie),At=G.end===void 0?Ue:Math.min(G.end,Ie);!ae.extend&&Ue>At&&(E=At,At=Ue,Ue=E);var Q=Tv(O,Ue),Y=Tv(O,At);if(Q&&Y&&(ae.rangeCount!==1||ae.anchorNode!==Q.node||ae.anchorOffset!==Q.offset||ae.focusNode!==Y.node||ae.focusOffset!==Y.offset)){var ee=ge.createRange();ee.setStart(Q.node,Q.offset),ae.removeAllRanges(),Ue>At?(ae.addRange(ee),ae.extend(Y.node,Y.offset)):(ee.setEnd(Y.node,Y.offset),ae.addRange(ee))}}}}for(ge=[],ae=O;ae=ae.parentNode;)ae.nodeType===1&&ge.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ge.length;O++){var fe=ge[O];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}rf=!!Og,jg=Og=null}finally{yt=g,X.p=u,z.T=l}}s.current=a,En=2}}function Bx(){if(En===2){En=0;var s=Ja,a=ec,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=z.T,z.T=null;var u=X.p;X.p=2;var g=yt;yt|=4;try{mx(s,a.alternate,a)}finally{yt=g,X.p=u,z.T=l}}En=3}}function zx(){if(En===4||En===3){En=0,Pi();var s=Ja,a=ec,l=ha,u=Cx;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?En=5:(En=0,ec=Ja=null,Hx(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Za=null),dr(l),a=a.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(hr,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=z.T,g=X.p,X.p=2,z.T=null;try{for(var y=s.onRecoverableError,E=0;E<u.length;E++){var O=u[E];y(O.value,{componentStack:O.stack})}}finally{z.T=a,X.p=g}}(ha&3)!==0&&Gd(),xi(s),g=s.pendingLanes,(l&261930)!==0&&(g&42)!==0?s===bg?Su++:(Su=0,bg=s):Su=0,Nu(0)}}function Hx(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,ou(a)))}function Gd(){return qx(),Bx(),zx(),Fx()}function Fx(){if(En!==5)return!1;var s=Ja,a=gg;gg=0;var l=dr(ha),u=z.T,g=X.p;try{X.p=32>l?32:l,z.T=null,l=yg,yg=null;var y=Ja,E=ha;if(En=0,ec=Ja=null,ha=0,(yt&6)!==0)throw Error(r(331));var O=yt;if(yt|=4,Ax(y.current),wx(y,y.current,E,l),yt=O,Nu(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(hr,y)}catch{}return!0}finally{X.p=g,z.T=u,Hx(s,a)}}function Gx(s,a,l){a=ms(l,a),a=Wm(s.stateNode,a,2),s=Ka(s,a,2),s!==null&&(ss(s,2),xi(s))}function _t(s,a,l){if(s.tag===3)Gx(s,s,l);else for(;a!==null;){if(a.tag===3){Gx(a,s,l);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Za===null||!Za.has(u))){s=ms(l,s),l=K1(2),u=Ka(a,l,2),u!==null&&(Y1(l,u,a,s),ss(u,2),xi(u));break}}a=a.return}}function _g(s,a,l){var u=s.pingCache;if(u===null){u=s.pingCache=new pI;var g=new Set;u.set(a,g)}else g=u.get(a),g===void 0&&(g=new Set,u.set(a,g));g.has(l)||(fg=!0,g.add(l),s=vI.bind(null,s,a,l),a.then(s,s))}function vI(s,a,l){var u=s.pingCache;u!==null&&u.delete(a),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,Nt===s&&(st&l)===l&&(rn===4||rn===3&&(st&62914560)===st&&300>It()-Ud?(yt&2)===0&&tc(s,0):pg|=l,Jl===st&&(Jl=0)),xi(s)}function Kx(s,a){a===0&&(a=li()),s=Ko(s,a),s!==null&&(ss(s,a),xi(s))}function xI(s){var a=s.memoizedState,l=0;a!==null&&(l=a.retryLane),Kx(s,l)}function _I(s,a){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(a),Kx(s,l)}function wI(s,a){return Rt(s,a)}var Kd=null,rc=null,wg=!1,Yd=!1,Eg=!1,to=0;function xi(s){s!==rc&&s.next===null&&(rc===null?Kd=rc=s:rc=rc.next=s),Yd=!0,wg||(wg=!0,TI())}function Nu(s,a){if(!Eg&&Yd){Eg=!0;do for(var l=!1,u=Kd;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var y=0;else{var E=u.suspendedLanes,O=u.pingedLanes;y=(1<<31-Ot(42|s)+1)-1,y&=g&~(E&~O),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,Wx(u,y))}else y=st,y=An(u,u===Nt?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||kn(u,y)||(l=!0,Wx(u,y));u=u.next}while(l);Eg=!1}}function EI(){Yx()}function Yx(){Yd=wg=!1;var s=0;to!==0&&DI()&&(s=to);for(var a=It(),l=null,u=Kd;u!==null;){var g=u.next,y=$x(u,a);y===0?(u.next=null,l===null?Kd=g:l.next=g,g===null&&(rc=l)):(l=u,(s!==0||(y&3)!==0)&&(Yd=!0)),u=g}En!==0&&En!==5||Nu(s),to!==0&&(to=0)}function $x(s,a){for(var l=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var E=31-Ot(y),O=1<<E,G=g[E];G===-1?((O&l)===0||(O&u)!==0)&&(g[E]=zi(O,a)):G<=a&&(s.expiredLanes|=O),y&=~O}if(a=Nt,l=st,l=An(s,s===a?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===a&&(xt===2||xt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&xr(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||kn(s,l)){if(a=l&-l,a===s.callbackPriority)return a;switch(u!==null&&xr(u),dr(l)){case 2:case 8:l=Lr;break;case 32:l=ur;break;case 268435456:l=On;break;default:l=ur}return u=Qx.bind(null,s),l=Rt(l,u),s.callbackPriority=a,s.callbackNode=l,a}return u!==null&&u!==null&&xr(u),s.callbackPriority=2,s.callbackNode=null,2}function Qx(s,a){if(En!==0&&En!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Gd()&&s.callbackNode!==l)return null;var u=st;return u=An(s,s===Nt?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Ix(s,u,a),$x(s,It()),s.callbackNode!=null&&s.callbackNode===l?Qx.bind(null,s):null)}function Wx(s,a){if(Gd())return null;Ix(s,a,!0)}function TI(){LI(function(){(yt&6)!==0?Rt(Vi,EI):Yx()})}function Tg(){if(to===0){var s=zl;s===0&&(s=jn,jn<<=1,(jn&261888)===0&&(jn=256)),to=s}return to}function Xx(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:pi(""+s)}function Zx(s,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,s.id&&l.setAttribute("form",s.id),a.parentNode.insertBefore(l,a),s=new FormData(s),l.parentNode.removeChild(l),s}function AI(s,a,l,u,g){if(a==="submit"&&l&&l.stateNode===g){var y=Xx((g[en]||null).action),E=u.submitter;E&&(a=(a=E[en]||null)?Xx(a.formAction):E.getAttribute("formAction"),a!==null&&(y=a,E=null));var O=new Re("action","action",null,u,g);s.push({event:O,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(to!==0){var G=E?Zx(g,E):new FormData(g);Fm(l,{pending:!0,data:G,method:g.method,action:y},null,G)}}else typeof y=="function"&&(O.preventDefault(),G=E?Zx(g,E):new FormData(g),Fm(l,{pending:!0,data:G,method:g.method,action:y},y,G))},currentTarget:g}]})}}for(var Ag=0;Ag<om.length;Ag++){var Sg=om[Ag],SI=Sg.toLowerCase(),NI=Sg[0].toUpperCase()+Sg.slice(1);zs(SI,"on"+NI)}zs(Rv,"onAnimationEnd"),zs(Iv,"onAnimationIteration"),zs(Ov,"onAnimationStart"),zs("dblclick","onDoubleClick"),zs("focusin","onFocus"),zs("focusout","onBlur"),zs(HR,"onTransitionRun"),zs(FR,"onTransitionStart"),zs(GR,"onTransitionCancel"),zs(jv,"onTransitionEnd"),Mn("onMouseEnter",["mouseout","mouseover"]),Mn("onMouseLeave",["mouseout","mouseover"]),Mn("onPointerEnter",["pointerout","pointerover"]),Mn("onPointerLeave",["pointerout","pointerover"]),mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mr("onBeforeInput",["compositionend","keypress","textInput","paste"]),mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cu));function Jx(s,a){a=(a&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],g=u.event;u=u.listeners;e:{var y=void 0;if(a)for(var E=u.length-1;0<=E;E--){var O=u[E],G=O.instance,te=O.currentTarget;if(O=O.listener,G!==y&&g.isPropagationStopped())break e;y=O,g.currentTarget=te;try{y(g)}catch(ue){ld(ue)}g.currentTarget=null,y=G}else for(E=0;E<u.length;E++){if(O=u[E],G=O.instance,te=O.currentTarget,O=O.listener,G!==y&&g.isPropagationStopped())break e;y=O,g.currentTarget=te;try{y(g)}catch(ue){ld(ue)}g.currentTarget=null,y=G}}}}function rt(s,a){var l=a[Xt];l===void 0&&(l=a[Xt]=new Set);var u=s+"__bubble";l.has(u)||(e_(a,s,2,!1),l.add(u))}function Ng(s,a,l){var u=0;a&&(u|=4),e_(l,s,u,a)}var $d="_reactListening"+Math.random().toString(36).slice(2);function Cg(s){if(!s[$d]){s[$d]=!0,Gi.forEach(function(l){l!=="selectionchange"&&(CI.has(l)||Ng(l,!1,s),Ng(l,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[$d]||(a[$d]=!0,Ng("selectionchange",!1,a))}}function e_(s,a,l,u){switch(R_(a)){case 2:var g=n4;break;case 8:g=r4;break;default:g=Hg}l=g.bind(null,a,l,s),g=void 0,!ds||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(a,l,{capture:!0,passive:g}):s.addEventListener(a,l,!0):g!==void 0?s.addEventListener(a,l,{passive:g}):s.addEventListener(a,l,!1)}function Rg(s,a,l,u,g){var y=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var O=u.stateNode.containerInfo;if(O===g)break;if(E===4)for(E=u.return;E!==null;){var G=E.tag;if((G===3||G===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;O!==null;){if(E=Dt(O),E===null)return;if(G=E.tag,G===5||G===6||G===26||G===27){u=y=E;continue e}O=O.parentNode}}u=u.return}hs(function(){var te=y,ue=Pn(l),ge=[];e:{var ne=kv.get(s);if(ne!==void 0){var ae=Re,Ie=s;switch(s){case"keypress":if(w(l)===0)break e;case"keydown":case"keyup":ae=id;break;case"focusin":Ie="focus",ae=Un;break;case"focusout":Ie="blur",ae=Un;break;case"beforeblur":case"afterblur":ae=Un;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Lt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=tn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=_;break;case Rv:case Iv:case Ov:ae=zo;break;case jv:ae=M;break;case"scroll":case"scrollend":ae=Je;break;case"wheel":ae=ie;break;case"copy":case"cut":case"paste":ae=Wi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Xi;break;case"toggle":case"beforetoggle":ae=Ge}var Ue=(a&4)!==0,At=!Ue&&(s==="scroll"||s==="scrollend"),Q=Ue?ne!==null?ne+"Capture":null:ne;Ue=[];for(var Y=te,ee;Y!==null;){var fe=Y;if(ee=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||ee===null||Q===null||(fe=er(Y,Q),fe!=null&&Ue.push(Ru(Y,fe,ee))),At)break;Y=Y.return}0<Ue.length&&(ne=new ae(ne,Ie,null,l,ue),ge.push({event:ne,listeners:Ue}))}}if((a&7)===0){e:{if(ne=s==="mouseover"||s==="pointerover",ae=s==="mouseout"||s==="pointerout",ne&&l!==sn&&(Ie=l.relatedTarget||l.fromElement)&&(Dt(Ie)||Ie[Er]))break e;if((ae||ne)&&(ne=ue.window===ue?ue:(ne=ue.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(Ie=l.relatedTarget||l.toElement,ae=te,Ie=Ie?Dt(Ie):null,Ie!==null&&(At=o(Ie),Ue=Ie.tag,Ie!==At||Ue!==5&&Ue!==27&&Ue!==6)&&(Ie=null)):(ae=null,Ie=te),ae!==Ie)){if(Ue=Lt,fe="onMouseLeave",Q="onMouseEnter",Y="mouse",(s==="pointerout"||s==="pointerover")&&(Ue=Xi,fe="onPointerLeave",Q="onPointerEnter",Y="pointer"),At=ae==null?ne:Dn(ae),ee=Ie==null?ne:Dn(Ie),ne=new Ue(fe,Y+"leave",ae,l,ue),ne.target=At,ne.relatedTarget=ee,fe=null,Dt(ue)===te&&(Ue=new Ue(Q,Y+"enter",Ie,l,ue),Ue.target=ee,Ue.relatedTarget=At,fe=Ue),At=fe,ae&&Ie)t:{for(Ue=RI,Q=ae,Y=Ie,ee=0,fe=Q;fe;fe=Ue(fe))ee++;fe=0;for(var Le=Y;Le;Le=Ue(Le))fe++;for(;0<ee-fe;)Q=Ue(Q),ee--;for(;0<fe-ee;)Y=Ue(Y),fe--;for(;ee--;){if(Q===Y||Y!==null&&Q===Y.alternate){Ue=Q;break t}Q=Ue(Q),Y=Ue(Y)}Ue=null}else Ue=null;ae!==null&&t_(ge,ne,ae,Ue,!1),Ie!==null&&At!==null&&t_(ge,At,Ie,Ue,!0)}}e:{if(ne=te?Dn(te):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var ft=bv;else if(gv(ne))if(vv)ft=qR;else{ft=VR;var je=PR}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?te&&fi(te.elementType)&&(ft=bv):ft=UR;if(ft&&(ft=ft(s,te))){yv(ge,ft,l,ue);break e}je&&je(s,ne,te),s==="focusout"&&te&&ne.type==="number"&&te.memoizedProps.value!=null&&Yi(ne,"number",ne.value)}switch(je=te?Dn(te):window,s){case"focusin":(gv(je)||je.contentEditable==="true")&&(Dl=je,sm=te,su=null);break;case"focusout":su=sm=Dl=null;break;case"mousedown":im=!0;break;case"contextmenu":case"mouseup":case"dragend":im=!1,Nv(ge,l,ue);break;case"selectionchange":if(zR)break;case"keydown":case"keyup":Nv(ge,l,ue)}var Qe;if(gt)e:{switch(s){case"compositionstart":var it="onCompositionStart";break e;case"compositionend":it="onCompositionEnd";break e;case"compositionupdate":it="onCompositionUpdate";break e}it=void 0}else kl?Ho(s,l)&&(it="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(it="onCompositionStart");it&&(gi&&l.locale!=="ko"&&(kl||it!=="onCompositionStart"?it==="onCompositionEnd"&&kl&&(Qe=Qi()):(gr=ue,Ps="value"in gr?gr.value:gr.textContent,kl=!0)),je=Qd(te,it),0<je.length&&(it=new mi(it,s,null,l,ue),ge.push({event:it,listeners:je}),Qe?it.data=Qe:(Qe=jl(l),Qe!==null&&(it.data=Qe)))),(Qe=fs?kR(s,l):DR(s,l))&&(it=Qd(te,"onBeforeInput"),0<it.length&&(je=new mi("onBeforeInput","beforeinput",null,l,ue),ge.push({event:je,listeners:it}),je.data=Qe)),AI(ge,s,te,l,ue)}Jx(ge,a)})}function Ru(s,a,l){return{instance:s,listener:a,currentTarget:l}}function Qd(s,a){for(var l=a+"Capture",u=[];s!==null;){var g=s,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=er(s,l),g!=null&&u.unshift(Ru(s,g,y)),g=er(s,a),g!=null&&u.push(Ru(s,g,y))),s.tag===3)return u;s=s.return}return[]}function RI(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function t_(s,a,l,u,g){for(var y=a._reactName,E=[];l!==null&&l!==u;){var O=l,G=O.alternate,te=O.stateNode;if(O=O.tag,G!==null&&G===u)break;O!==5&&O!==26&&O!==27||te===null||(G=te,g?(te=er(l,y),te!=null&&E.unshift(Ru(l,te,G))):g||(te=er(l,y),te!=null&&E.push(Ru(l,te,G)))),l=l.return}E.length!==0&&s.push({event:a,listeners:E})}var II=/\r\n?/g,OI=/\u0000|\uFFFD/g;function n_(s){return(typeof s=="string"?s:""+s).replace(II,`
`).replace(OI,"")}function r_(s,a){return a=n_(a),n_(s)===a}function Tt(s,a,l,u,g,y){switch(l){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||Ft(s,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&Ft(s,""+u);break;case"className":Ln(s,"class",u);break;case"tabIndex":Ln(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Ln(s,l,u);break;case"style":Zn(s,u,y);break;case"data":if(a!=="object"){Ln(s,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=pi(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(a!=="input"&&Tt(s,a,"name",g.name,g,null),Tt(s,a,"formEncType",g.formEncType,g,null),Tt(s,a,"formMethod",g.formMethod,g,null),Tt(s,a,"formTarget",g.formTarget,g,null)):(Tt(s,a,"encType",g.encType,g,null),Tt(s,a,"method",g.method,g,null),Tt(s,a,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=pi(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=Jn);break;case"onScroll":u!=null&&rt("scroll",s);break;case"onScrollEnd":u!=null&&rt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=pi(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":rt("beforetoggle",s),rt("toggle",s),ui(s,"popover",u);break;case"xlinkActuate":Ht(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ht(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ht(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ht(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ht(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ht(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ht(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ht(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ht(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ui(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Va.get(l)||l,ui(s,l,u))}}function Ig(s,a,l,u,g,y){switch(l){case"style":Zn(s,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));s.innerHTML=l}}break;case"children":typeof u=="string"?Ft(s,u):(typeof u=="number"||typeof u=="bigint")&&Ft(s,""+u);break;case"onScroll":u!=null&&rt("scroll",s);break;case"onScrollEnd":u!=null&&rt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!as.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),a=l.slice(2,g?l.length-7:void 0),y=s[en]||null,y=y!=null?y[l]:null,typeof y=="function"&&s.removeEventListener(a,y,g),typeof u=="function")){typeof y!="function"&&y!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(a,u,g);break e}l in s?s[l]=u:u===!0?s.setAttribute(l,""):ui(s,l,u)}}}function Hn(s,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",s),rt("load",s);var u=!1,g=!1,y;for(y in l)if(l.hasOwnProperty(y)){var E=l[y];if(E!=null)switch(y){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Tt(s,a,y,E,l,null)}}g&&Tt(s,a,"srcSet",l.srcSet,l,null),u&&Tt(s,a,"src",l.src,l,null);return;case"input":rt("invalid",s);var O=y=E=g=null,G=null,te=null;for(u in l)if(l.hasOwnProperty(u)){var ue=l[u];if(ue!=null)switch(u){case"name":g=ue;break;case"type":E=ue;break;case"checked":G=ue;break;case"defaultChecked":te=ue;break;case"value":y=ue;break;case"defaultValue":O=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,a));break;default:Tt(s,a,u,ue,l,null)}}di(s,y,O,G,te,E,g,!1);return;case"select":rt("invalid",s),u=E=y=null;for(g in l)if(l.hasOwnProperty(g)&&(O=l[g],O!=null))switch(g){case"value":y=O;break;case"defaultValue":E=O;break;case"multiple":u=O;default:Tt(s,a,g,O,l,null)}a=y,l=E,s.multiple=!!u,a!=null?ls(s,!!u,a,!1):l!=null&&ls(s,!!u,l,!0);return;case"textarea":rt("invalid",s),y=g=u=null;for(E in l)if(l.hasOwnProperty(E)&&(O=l[E],O!=null))switch(E){case"value":u=O;break;case"defaultValue":g=O;break;case"children":y=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:Tt(s,a,E,O,l,null)}dn(s,u,g,y);return;case"option":for(G in l)if(l.hasOwnProperty(G)&&(u=l[G],u!=null))switch(G){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Tt(s,a,G,u,l,null)}return;case"dialog":rt("beforetoggle",s),rt("toggle",s),rt("cancel",s),rt("close",s);break;case"iframe":case"object":rt("load",s);break;case"video":case"audio":for(u=0;u<Cu.length;u++)rt(Cu[u],s);break;case"image":rt("error",s),rt("load",s);break;case"details":rt("toggle",s);break;case"embed":case"source":case"link":rt("error",s),rt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in l)if(l.hasOwnProperty(te)&&(u=l[te],u!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:Tt(s,a,te,u,l,null)}return;default:if(fi(a)){for(ue in l)l.hasOwnProperty(ue)&&(u=l[ue],u!==void 0&&Ig(s,a,ue,u,l,void 0));return}}for(O in l)l.hasOwnProperty(O)&&(u=l[O],u!=null&&Tt(s,a,O,u,l,null))}function jI(s,a,l,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,E=null,O=null,G=null,te=null,ue=null;for(ae in l){var ge=l[ae];if(l.hasOwnProperty(ae)&&ge!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":G=ge;default:u.hasOwnProperty(ae)||Tt(s,a,ae,null,u,ge)}}for(var ne in u){var ae=u[ne];if(ge=l[ne],u.hasOwnProperty(ne)&&(ae!=null||ge!=null))switch(ne){case"type":y=ae;break;case"name":g=ae;break;case"checked":te=ae;break;case"defaultChecked":ue=ae;break;case"value":E=ae;break;case"defaultValue":O=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,a));break;default:ae!==ge&&Tt(s,a,ne,ae,u,ge)}}hi(s,E,O,G,te,ue,y,g);return;case"select":ae=E=O=ne=null;for(y in l)if(G=l[y],l.hasOwnProperty(y)&&G!=null)switch(y){case"value":break;case"multiple":ae=G;default:u.hasOwnProperty(y)||Tt(s,a,y,null,u,G)}for(g in u)if(y=u[g],G=l[g],u.hasOwnProperty(g)&&(y!=null||G!=null))switch(g){case"value":ne=y;break;case"defaultValue":O=y;break;case"multiple":E=y;default:y!==G&&Tt(s,a,g,y,u,G)}a=O,l=E,u=ae,ne!=null?ls(s,!!l,ne,!1):!!u!=!!l&&(a!=null?ls(s,!!l,a,!0):ls(s,!!l,l?[]:"",!1));return;case"textarea":ae=ne=null;for(O in l)if(g=l[O],l.hasOwnProperty(O)&&g!=null&&!u.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Tt(s,a,O,null,u,g)}for(E in u)if(g=u[E],y=l[E],u.hasOwnProperty(E)&&(g!=null||y!=null))switch(E){case"value":ne=g;break;case"defaultValue":ae=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==y&&Tt(s,a,E,g,u,y)}cs(s,ne,ae);return;case"option":for(var Ie in l)if(ne=l[Ie],l.hasOwnProperty(Ie)&&ne!=null&&!u.hasOwnProperty(Ie))switch(Ie){case"selected":s.selected=!1;break;default:Tt(s,a,Ie,null,u,ne)}for(G in u)if(ne=u[G],ae=l[G],u.hasOwnProperty(G)&&ne!==ae&&(ne!=null||ae!=null))switch(G){case"selected":s.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:Tt(s,a,G,ne,u,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ue in l)ne=l[Ue],l.hasOwnProperty(Ue)&&ne!=null&&!u.hasOwnProperty(Ue)&&Tt(s,a,Ue,null,u,ne);for(te in u)if(ne=u[te],ae=l[te],u.hasOwnProperty(te)&&ne!==ae&&(ne!=null||ae!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,a));break;default:Tt(s,a,te,ne,u,ae)}return;default:if(fi(a)){for(var At in l)ne=l[At],l.hasOwnProperty(At)&&ne!==void 0&&!u.hasOwnProperty(At)&&Ig(s,a,At,void 0,u,ne);for(ue in u)ne=u[ue],ae=l[ue],!u.hasOwnProperty(ue)||ne===ae||ne===void 0&&ae===void 0||Ig(s,a,ue,ne,u,ae);return}}for(var Q in l)ne=l[Q],l.hasOwnProperty(Q)&&ne!=null&&!u.hasOwnProperty(Q)&&Tt(s,a,Q,null,u,ne);for(ge in u)ne=u[ge],ae=l[ge],!u.hasOwnProperty(ge)||ne===ae||ne==null&&ae==null||Tt(s,a,ge,ne,u,ae)}function s_(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kI(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],y=g.transferSize,E=g.initiatorType,O=g.duration;if(y&&O&&s_(E)){for(E=0,O=g.responseEnd,u+=1;u<l.length;u++){var G=l[u],te=G.startTime;if(te>O)break;var ue=G.transferSize,ge=G.initiatorType;ue&&s_(ge)&&(G=G.responseEnd,E+=ue*(G<O?1:(O-te)/(G-te)))}if(--u,a+=8*(y+E)/(g.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Og=null,jg=null;function Wd(s){return s.nodeType===9?s:s.ownerDocument}function i_(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a_(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function kg(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Dg=null;function DI(){var s=window.event;return s&&s.type==="popstate"?s===Dg?!1:(Dg=s,!0):(Dg=null,!1)}var o_=typeof setTimeout=="function"?setTimeout:void 0,MI=typeof clearTimeout=="function"?clearTimeout:void 0,l_=typeof Promise=="function"?Promise:void 0,LI=typeof queueMicrotask=="function"?queueMicrotask:typeof l_<"u"?function(s){return l_.resolve(null).then(s).catch(PI)}:o_;function PI(s){setTimeout(function(){throw s})}function no(s){return s==="head"}function c_(s,a){var l=a,u=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(g),oc(a);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")Iu(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,Iu(l);for(var y=l.firstChild;y;){var E=y.nextSibling,O=y.nodeName;y[Tr]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&y.rel.toLowerCase()==="stylesheet"||l.removeChild(y),y=E}}else l==="body"&&Iu(s.ownerDocument.body);l=g}while(l);oc(a)}function u_(s,a){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?a?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(a?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function Mg(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Mg(l),ci(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function VI(s,a,l,u){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Tr])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=xs(s.nextSibling),s===null)break}return null}function UI(s,a,l){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=xs(s.nextSibling),s===null))return null;return s}function h_(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=xs(s.nextSibling),s===null))return null;return s}function Lg(s){return s.data==="$?"||s.data==="$~"}function Pg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function qI(s,a){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||l.readyState!=="loading")a();else{var u=function(){a(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function xs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var Vg=null;function d_(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(a===0)return xs(s.nextSibling);a--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||a++}s=s.nextSibling}return null}function f_(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(a===0)return s;a--}else l!=="/$"&&l!=="/&"||a++}s=s.previousSibling}return null}function p_(s,a,l){switch(a=Wd(l),s){case"html":if(s=a.documentElement,!s)throw Error(r(452));return s;case"head":if(s=a.head,!s)throw Error(r(453));return s;case"body":if(s=a.body,!s)throw Error(r(454));return s;default:throw Error(r(451))}}function Iu(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);ci(s)}var _s=new Map,m_=new Set;function Xd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var da=X.d;X.d={f:BI,r:zI,D:HI,C:FI,L:GI,m:KI,X:$I,S:YI,M:QI};function BI(){var s=da.f(),a=zd();return s||a}function zI(s){var a=Wn(s);a!==null&&a.tag===5&&a.type==="form"?j1(a):da.r(s)}var sc=typeof document>"u"?null:document;function g_(s,a,l){var u=sc;if(u&&typeof a=="string"&&a){var g=Sn(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),m_.has(g)||(m_.add(g),s={rel:s,crossOrigin:l,href:a},u.querySelector(g)===null&&(a=u.createElement("link"),Hn(a,"link",s),zt(a),u.head.appendChild(a)))}}function HI(s){da.D(s),g_("dns-prefetch",s,null)}function FI(s,a){da.C(s,a),g_("preconnect",s,a)}function GI(s,a,l){da.L(s,a,l);var u=sc;if(u&&s&&a){var g='link[rel="preload"][as="'+Sn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+Sn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+Sn(l.imageSizes)+'"]')):g+='[href="'+Sn(s)+'"]';var y=g;switch(a){case"style":y=ic(s);break;case"script":y=ac(s)}_s.has(y)||(s=v({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:s,as:a},l),_s.set(y,s),u.querySelector(g)!==null||a==="style"&&u.querySelector(Ou(y))||a==="script"&&u.querySelector(ju(y))||(a=u.createElement("link"),Hn(a,"link",s),zt(a),u.head.appendChild(a)))}}function KI(s,a){da.m(s,a);var l=sc;if(l&&s){var u=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Sn(u)+'"][href="'+Sn(s)+'"]',y=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ac(s)}if(!_s.has(y)&&(s=v({rel:"modulepreload",href:s},a),_s.set(y,s),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ju(y)))return}u=l.createElement("link"),Hn(u,"link",s),zt(u),l.head.appendChild(u)}}}function YI(s,a,l){da.S(s,a,l);var u=sc;if(u&&s){var g=Ar(u).hoistableStyles,y=ic(s);a=a||"default";var E=g.get(y);if(!E){var O={loading:0,preload:null};if(E=u.querySelector(Ou(y)))O.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":a},l),(l=_s.get(y))&&Ug(s,l);var G=E=u.createElement("link");zt(G),Hn(G,"link",s),G._p=new Promise(function(te,ue){G.onload=te,G.onerror=ue}),G.addEventListener("load",function(){O.loading|=1}),G.addEventListener("error",function(){O.loading|=2}),O.loading|=4,Zd(E,a,u)}E={type:"stylesheet",instance:E,count:1,state:O},g.set(y,E)}}}function $I(s,a){da.X(s,a);var l=sc;if(l&&s){var u=Ar(l).hoistableScripts,g=ac(s),y=u.get(g);y||(y=l.querySelector(ju(g)),y||(s=v({src:s,async:!0},a),(a=_s.get(g))&&qg(s,a),y=l.createElement("script"),zt(y),Hn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function QI(s,a){da.M(s,a);var l=sc;if(l&&s){var u=Ar(l).hoistableScripts,g=ac(s),y=u.get(g);y||(y=l.querySelector(ju(g)),y||(s=v({src:s,async:!0,type:"module"},a),(a=_s.get(g))&&qg(s,a),y=l.createElement("script"),zt(y),Hn(y,"link",s),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function y_(s,a,l,u){var g=(g=Te.current)?Xd(g):null;if(!g)throw Error(r(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=ic(l.href),l=Ar(g).hoistableStyles,u=l.get(a),u||(u={type:"style",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=ic(l.href);var y=Ar(g).hoistableStyles,E=y.get(s);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,E),(y=g.querySelector(Ou(s)))&&!y._p&&(E.instance=y,E.state.loading=5),_s.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},_s.set(s,l),y||WI(g,s,l,E.state))),a&&u===null)throw Error(r(528,""));return E}if(a&&u!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ac(l),l=Ar(g).hoistableScripts,u=l.get(a),u||(u={type:"script",instance:null,count:0,state:null},l.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,s))}}function ic(s){return'href="'+Sn(s)+'"'}function Ou(s){return'link[rel="stylesheet"]['+s+"]"}function b_(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function WI(s,a,l,u){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=s.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),Hn(a,"link",l),zt(a),s.head.appendChild(a))}function ac(s){return'[src="'+Sn(s)+'"]'}function ju(s){return"script[async]"+s}function v_(s,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var u=s.querySelector('style[data-href~="'+Sn(l.href)+'"]');if(u)return a.instance=u,zt(u),u;var g=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),zt(u),Hn(u,"style",g),Zd(u,l.precedence,s),a.instance=u;case"stylesheet":g=ic(l.href);var y=s.querySelector(Ou(g));if(y)return a.state.loading|=4,a.instance=y,zt(y),y;u=b_(l),(g=_s.get(g))&&Ug(u,g),y=(s.ownerDocument||s).createElement("link"),zt(y);var E=y;return E._p=new Promise(function(O,G){E.onload=O,E.onerror=G}),Hn(y,"link",u),a.state.loading|=4,Zd(y,l.precedence,s),a.instance=y;case"script":return y=ac(l.src),(g=s.querySelector(ju(y)))?(a.instance=g,zt(g),g):(u=l,(g=_s.get(y))&&(u=v({},l),qg(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),zt(g),Hn(g,"link",u),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Zd(u,l.precedence,s));return a.instance}function Zd(s,a,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,y=g,E=0;E<u.length;E++){var O=u[E];if(O.dataset.precedence===a)y=O;else if(y!==g)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(s,a.firstChild))}function Ug(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function qg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Jd=null;function x_(s,a,l){if(Jd===null){var u=new Map,g=Jd=new Map;g.set(l,u)}else g=Jd,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var y=l[g];if(!(y[Tr]||y[Bt]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(a)||"";E=s+E;var O=u.get(E);O?O.push(y):u.set(E,[y])}}return u}function __(s,a,l){s=s.ownerDocument||s,s.head.insertBefore(l,a==="title"?s.querySelector("head > title"):null)}function XI(s,a,l){if(l===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function w_(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function ZI(s,a,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=ic(u.href),y=a.querySelector(Ou(g));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=ef.bind(s),a.then(s,s)),l.state.loading|=4,l.instance=y,zt(y);return}y=a.ownerDocument||a,u=b_(u),(g=_s.get(g))&&Ug(u,g),y=y.createElement("link"),zt(y);var E=y;E._p=new Promise(function(O,G){E.onload=O,E.onerror=G}),Hn(y,"link",u),l.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=ef.bind(s),a.addEventListener("load",l),a.addEventListener("error",l))}}var Bg=0;function JI(s,a){return s.stylesheets&&s.count===0&&nf(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&nf(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+a);0<s.imgBytes&&Bg===0&&(Bg=62500*kI());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&nf(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Bg?50:800)+a);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function ef(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var tf=null;function nf(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,tf=new Map,a.forEach(e4,s),tf=null,ef.call(s))}function e4(s,a){if(!(a.state.loading&4)){var l=tf.get(s);if(l)var u=l.get(null);else{l=new Map,tf.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var E=g[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),u=E)}u&&l.set(null,u)}g=a.instance,E=g.getAttribute("data-precedence"),y=l.get(E)||u,y===u&&l.set(null,g),l.set(E,g),this.count++,u=ef.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),y?y.parentNode.insertBefore(g,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var ku={$$typeof:B,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function t4(s,a,l,u,g,y,E,O,G){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wn(0),this.hiddenUpdates=wn(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function E_(s,a,l,u,g,y,E,O,G,te,ue,ge){return s=new t4(s,a,l,E,G,te,ue,ge,O),a=1,y===!0&&(a|=24),y=Kr(3,null,null,a),s.current=y,y.stateNode=s,a=xm(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:u,isDehydrated:l,cache:a},Tm(y),s}function T_(s){return s?(s=Pl,s):Pl}function A_(s,a,l,u,g,y){g=T_(g),u.context===null?u.context=g:u.pendingContext=g,u=Ga(a),u.payload={element:l},y=y===void 0?null:y,y!==null&&(u.callback=y),l=Ka(s,u,a),l!==null&&(kr(l,s,a),hu(l,s,a))}function S_(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<a?l:a}}function zg(s,a){S_(s,a),(s=s.alternate)&&S_(s,a)}function N_(s){if(s.tag===13||s.tag===31){var a=Ko(s,67108864);a!==null&&kr(a,s,67108864),zg(s,67108864)}}function C_(s){if(s.tag===13||s.tag===31){var a=Xr();a=is(a);var l=Ko(s,a);l!==null&&kr(l,s,a),zg(s,a)}}var rf=!0;function n4(s,a,l,u){var g=z.T;z.T=null;var y=X.p;try{X.p=2,Hg(s,a,l,u)}finally{X.p=y,z.T=g}}function r4(s,a,l,u){var g=z.T;z.T=null;var y=X.p;try{X.p=8,Hg(s,a,l,u)}finally{X.p=y,z.T=g}}function Hg(s,a,l,u){if(rf){var g=Fg(u);if(g===null)Rg(s,a,u,sf,l),I_(s,u);else if(i4(g,s,a,l,u))u.stopPropagation();else if(I_(s,u),a&4&&-1<s4.indexOf(s)){for(;g!==null;){var y=Wn(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=Qn(y.pendingLanes);if(E!==0){var O=y;for(O.pendingLanes|=2,O.entangledLanes|=2;E;){var G=1<<31-Ot(E);O.entanglements[1]|=G,E&=~G}xi(y),(yt&6)===0&&(qd=It()+500,Nu(0))}}break;case 31:case 13:O=Ko(y,2),O!==null&&kr(O,y,2),zd(),zg(y,2)}if(y=Fg(u),y===null&&Rg(s,a,u,sf,l),y===g)break;g=y}g!==null&&u.stopPropagation()}else Rg(s,a,u,null,l)}}function Fg(s){return s=Pn(s),Gg(s)}var sf=null;function Gg(s){if(sf=null,s=Dt(s),s!==null){var a=o(s);if(a===null)s=null;else{var l=a.tag;if(l===13){if(s=c(a),s!==null)return s;s=null}else if(l===31){if(s=h(a),s!==null)return s;s=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return sf=s,null}function R_(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_r()){case Vi:return 2;case Lr:return 8;case ur:case Ui:return 32;case On:return 268435456;default:return 32}default:return 32}}var Kg=!1,ro=null,so=null,io=null,Du=new Map,Mu=new Map,ao=[],s4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(s,a){switch(s){case"focusin":case"focusout":ro=null;break;case"dragenter":case"dragleave":so=null;break;case"mouseover":case"mouseout":io=null;break;case"pointerover":case"pointerout":Du.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mu.delete(a.pointerId)}}function Lu(s,a,l,u,g,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:l,eventSystemFlags:u,nativeEvent:y,targetContainers:[g]},a!==null&&(a=Wn(a),a!==null&&N_(a)),s):(s.eventSystemFlags|=u,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function i4(s,a,l,u,g){switch(a){case"focusin":return ro=Lu(ro,s,a,l,u,g),!0;case"dragenter":return so=Lu(so,s,a,l,u,g),!0;case"mouseover":return io=Lu(io,s,a,l,u,g),!0;case"pointerover":var y=g.pointerId;return Du.set(y,Lu(Du.get(y)||null,s,a,l,u,g)),!0;case"gotpointercapture":return y=g.pointerId,Mu.set(y,Lu(Mu.get(y)||null,s,a,l,u,g)),!0}return!1}function O_(s){var a=Dt(s.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=c(l),a!==null){s.blockedOn=a,fr(s.priority,function(){C_(l)});return}}else if(a===31){if(a=h(l),a!==null){s.blockedOn=a,fr(s.priority,function(){C_(l)});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function af(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var l=Fg(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);sn=u,l.target.dispatchEvent(u),sn=null}else return a=Wn(l),a!==null&&N_(a),s.blockedOn=l,!1;a.shift()}return!0}function j_(s,a,l){af(s)&&l.delete(a)}function a4(){Kg=!1,ro!==null&&af(ro)&&(ro=null),so!==null&&af(so)&&(so=null),io!==null&&af(io)&&(io=null),Du.forEach(j_),Mu.forEach(j_)}function of(s,a){s.blockedOn===a&&(s.blockedOn=null,Kg||(Kg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,a4)))}var lf=null;function k_(s){lf!==s&&(lf=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){lf===s&&(lf=null);for(var a=0;a<s.length;a+=3){var l=s[a],u=s[a+1],g=s[a+2];if(typeof u!="function"){if(Gg(u||l)===null)continue;break}var y=Wn(l);y!==null&&(s.splice(a,3),a-=3,Fm(y,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function oc(s){function a(G){return of(G,s)}ro!==null&&of(ro,s),so!==null&&of(so,s),io!==null&&of(io,s),Du.forEach(a),Mu.forEach(a);for(var l=0;l<ao.length;l++){var u=ao[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<ao.length&&(l=ao[0],l.blockedOn===null);)O_(l),l.blockedOn===null&&ao.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],y=l[u+1],E=g[en]||null;if(typeof y=="function")E||k_(l);else if(E){var O=null;if(y&&y.hasAttribute("formAction")){if(g=y,E=y[en]||null)O=E.formAction;else if(Gg(g)!==null)continue}else O=E.action;typeof O=="function"?l[u+1]=O:(l.splice(u,3),u-=3),k_(l)}}}function D_(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return g=E})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function Yg(s){this._internalRoot=s}cf.prototype.render=Yg.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,u=Xr();A_(l,u,s,a,null,null)},cf.prototype.unmount=Yg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;A_(s.current,2,null,s,null,null),zd(),a[Er]=null}};function cf(s){this._internalRoot=s}cf.prototype.unstable_scheduleHydration=function(s){if(s){var a=Jt();s={blockedOn:null,target:s,priority:a};for(var l=0;l<ao.length&&a!==0&&a<ao[l].priority;l++);ao.splice(l,0,s),l===0&&O_(s)}};var M_=e.version;if(M_!=="19.2.3")throw Error(r(527,M_,"19.2.3"));X.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=p(a),s=s!==null?b(s):null,s=s===null?null:s.stateNode,s};var o4={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uf.isDisabled&&uf.supportsFiber)try{hr=uf.inject(o4),Wt=uf}catch{}}return Vu.createRoot=function(s,a){if(!i(s))throw Error(r(299));var l=!1,u="",g=z1,y=H1,E=F1;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),a=E_(s,1,!1,null,null,l,u,null,g,y,E,D_),s[Er]=a.current,Cg(s),new Yg(a)},Vu.hydrateRoot=function(s,a,l){if(!i(s))throw Error(r(299));var u=!1,g="",y=z1,E=H1,O=F1,G=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError),l.formState!==void 0&&(G=l.formState)),a=E_(s,1,!0,a,l??null,u,g,G,y,E,O,D_),a.context=T_(null),l=a.current,u=Xr(),u=is(u),g=Ga(u),g.callback=null,Ka(l,g,u),l=u,a.current.lanes=l,ss(a,l),xi(a),s[Er]=a.current,Cg(s),new cf(a)},Vu.version="19.2.3",Vu}var G_;function x4(){if(G_)return Wg.exports;G_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Wg.exports=v4(),Wg.exports}var _4=x4();const w4=Mo(_4);/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var K_="popstate";function E4(n={}){function e(r,i){let{pathname:o,search:c,hash:h}=r.location;return V0("",{pathname:o,search:c,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:fh(i)}return A4(e,t,null,n)}function Qt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Os(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function T4(){return Math.random().toString(36).substring(2,10)}function Y_(n,e){return{usr:n.state,key:n.key,idx:e}}function V0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Hc(e):e,state:t,key:e&&e.key||r||T4()}}function fh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Hc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function A4(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,c=i.history,h="POP",d=null,p=b();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function b(){return(c.state||{idx:null}).idx}function v(){h="POP";let C=b(),U=C==null?null:C-p;p=C,d&&d({action:h,location:I.location,delta:U})}function x(C,U){h="PUSH";let K=V0(I.location,C,U);p=b()+1;let B=Y_(K,p),$=I.createHref(K);try{c.pushState(B,"",$)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;i.location.assign($)}o&&d&&d({action:h,location:I.location,delta:1})}function T(C,U){h="REPLACE";let K=V0(I.location,C,U);p=b();let B=Y_(K,p),$=I.createHref(K);c.replaceState(B,"",$),o&&d&&d({action:h,location:I.location,delta:0})}function N(C){return S4(C)}let I={get action(){return h},get location(){return n(i,c)},listen(C){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(K_,v),d=C,()=>{i.removeEventListener(K_,v),d=null}},createHref(C){return e(i,C)},createURL:N,encodeLocation(C){let U=N(C);return{pathname:U.pathname,search:U.search,hash:U.hash}},push:x,replace:T,go(C){return c.go(C)}};return I}function S4(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Qt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:fh(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function fA(n,e,t="/"){return N4(n,e,t,!1)}function N4(n,e,t,r){let i=typeof e=="string"?Hc(e):e,o=_a(i.pathname||"/",t);if(o==null)return null;let c=pA(n);C4(c);let h=null;for(let d=0;h==null&&d<c.length;++d){let p=U4(o);h=P4(c[d],p,r)}return h}function pA(n,e=[],t=[],r="",i=!1){let o=(c,h,d=i,p)=>{let b={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(r)&&d)return;Qt(b.relativePath.startsWith(r),`Absolute route path "${b.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(r.length)}let v=ba([r,b.relativePath]),x=t.concat(b);c.children&&c.children.length>0&&(Qt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),pA(c.children,e,x,v,d)),!(c.path==null&&!c.index)&&e.push({path:v,score:M4(v,c.index),routesMeta:x})};return n.forEach((c,h)=>{var d;if(c.path===""||!((d=c.path)!=null&&d.includes("?")))o(c,h);else for(let p of mA(c.path))o(c,h,!0,p)}),e}function mA(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let c=mA(r.join("/")),h=[];return h.push(...c.map(d=>d===""?o:[o,d].join("/"))),i&&h.push(...c),h.map(d=>n.startsWith("/")&&d===""?"/":d)}function C4(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:L4(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var R4=/^:[\w-]+$/,I4=3,O4=2,j4=1,k4=10,D4=-2,$_=n=>n==="*";function M4(n,e){let t=n.split("/"),r=t.length;return t.some($_)&&(r+=D4),e&&(r+=O4),t.filter(i=>!$_(i)).reduce((i,o)=>i+(R4.test(o)?I4:o===""?j4:k4),r)}function L4(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function P4(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",c=[];for(let h=0;h<r.length;++h){let d=r[h],p=h===r.length-1,b=o==="/"?e:e.slice(o.length)||"/",v=Wf({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},b),x=d.route;if(!v&&p&&t&&!r[r.length-1].route.index&&(v=Wf({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},b)),!v)return null;Object.assign(i,v.params),c.push({params:i,pathname:ba([o,v.pathname]),pathnameBase:H4(ba([o,v.pathnameBase])),route:x}),v.pathnameBase!=="/"&&(o=ba([o,v.pathnameBase]))}return c}function Wf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=V4(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((p,{paramName:b,isOptional:v},x)=>{if(b==="*"){let N=h[x]||"";c=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const T=h[x];return v&&!T?p[b]=void 0:p[b]=(T||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:n}}function V4(n,e=!1,t=!0){Os(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function U4(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Os(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function _a(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var gA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q4=n=>gA.test(n);function B4(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Hc(n):n,o;if(t)if(q4(t))o=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),Os(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?o=Q_(t.substring(1),"/"):o=Q_(t,e)}else o=e;return{pathname:o,search:F4(r),hash:G4(i)}}function Q_(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function e0(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function z4(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qy(n){let e=z4(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function By(n,e,t,r=!1){let i;typeof n=="string"?i=Hc(n):(i={...n},Qt(!i.pathname||!i.pathname.includes("?"),e0("?","pathname","search",i)),Qt(!i.pathname||!i.pathname.includes("#"),e0("#","pathname","hash",i)),Qt(!i.search||!i.search.includes("#"),e0("#","search","hash",i)));let o=n===""||i.pathname==="",c=o?"/":i.pathname,h;if(c==null)h=t;else{let v=e.length-1;if(!r&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),v-=1;i.pathname=x.join("/")}h=v>=0?e[v]:"/"}let d=B4(i,h),p=c&&c!=="/"&&c.endsWith("/"),b=(o||c===".")&&t.endsWith("/");return!d.pathname.endsWith("/")&&(p||b)&&(d.pathname+="/"),d}var ba=n=>n.join("/").replace(/\/\/+/g,"/"),H4=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),F4=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,G4=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,K4=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Y4(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function $4(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var yA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function bA(n,e){let t=n;if(typeof t!="string"||!gA.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,i=!1;if(yA)try{let o=new URL(window.location.href),c=t.startsWith("//")?new URL(o.protocol+t):new URL(t),h=_a(c.pathname,e);c.origin===o.origin&&h!=null?t=h+c.search+c.hash:i=!0}catch{Os(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vA=["POST","PUT","PATCH","DELETE"];new Set(vA);var Q4=["GET",...vA];new Set(Q4);var Fc=H.createContext(null);Fc.displayName="DataRouter";var wp=H.createContext(null);wp.displayName="DataRouterState";var W4=H.createContext(!1),xA=H.createContext({isTransitioning:!1});xA.displayName="ViewTransition";var X4=H.createContext(new Map);X4.displayName="Fetchers";var Z4=H.createContext(null);Z4.displayName="Await";var ns=H.createContext(null);ns.displayName="Navigation";var Mh=H.createContext(null);Mh.displayName="Location";var si=H.createContext({outlet:null,matches:[],isDataRoute:!1});si.displayName="Route";var zy=H.createContext(null);zy.displayName="RouteError";var _A="REACT_ROUTER_ERROR",J4="REDIRECT",e5="ROUTE_ERROR_RESPONSE";function t5(n){if(n.startsWith(`${_A}:${J4}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function n5(n){if(n.startsWith(`${_A}:${e5}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new K4(e.status,e.statusText,e.data)}catch{}}function r5(n,{relative:e}={}){Qt(Gc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=H.useContext(ns),{hash:i,pathname:o,search:c}=Lh(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:ba([t,o])),r.createHref({pathname:h,search:c,hash:i})}function Gc(){return H.useContext(Mh)!=null}function Ra(){return Qt(Gc(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Mh).location}var wA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function EA(n){H.useContext(ns).static||H.useLayoutEffect(n)}function Di(){let{isDataRoute:n}=H.useContext(si);return n?y5():s5()}function s5(){Qt(Gc(),"useNavigate() may be used only in the context of a <Router> component.");let n=H.useContext(Fc),{basename:e,navigator:t}=H.useContext(ns),{matches:r}=H.useContext(si),{pathname:i}=Ra(),o=JSON.stringify(qy(r)),c=H.useRef(!1);return EA(()=>{c.current=!0}),H.useCallback((d,p={})=>{if(Os(c.current,wA),!c.current)return;if(typeof d=="number"){t.go(d);return}let b=By(d,JSON.parse(o),i,p.relative==="path");n==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:ba([e,b.pathname])),(p.replace?t.replace:t.push)(b,p.state,p)},[e,t,o,i,n])}H.createContext(null);function i5(){let{matches:n}=H.useContext(si),e=n[n.length-1];return e?e.params:{}}function Lh(n,{relative:e}={}){let{matches:t}=H.useContext(si),{pathname:r}=Ra(),i=JSON.stringify(qy(t));return H.useMemo(()=>By(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function a5(n,e){return TA(n,e)}function TA(n,e,t,r,i){var K;Qt(Gc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=H.useContext(ns),{matches:c}=H.useContext(si),h=c[c.length-1],d=h?h.params:{},p=h?h.pathname:"/",b=h?h.pathnameBase:"/",v=h&&h.route;{let B=v&&v.path||"";SA(p,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let x=Ra(),T;if(e){let B=typeof e=="string"?Hc(e):e;Qt(b==="/"||((K=B.pathname)==null?void 0:K.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${B.pathname}" was given in the \`location\` prop.`),T=B}else T=x;let N=T.pathname||"/",I=N;if(b!=="/"){let B=b.replace(/^\//,"").split("/");I="/"+N.replace(/^\//,"").split("/").slice(B.length).join("/")}let C=fA(n,{pathname:I});Os(v||C!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Os(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let U=h5(C&&C.map(B=>Object.assign({},B,{params:Object.assign({},d,B.params),pathname:ba([b,o.encodeLocation?o.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?b:ba([b,o.encodeLocation?o.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),c,t,r,i);return e&&U?H.createElement(Mh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},U):U}function o5(){let n=g5(),e=Y4(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:o},"ErrorBoundary")," or"," ",H.createElement("code",{style:o},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:i},t):null,c)}var l5=H.createElement(o5,null),AA=class extends H.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=n5(n.digest);t&&(n=t)}let e=n!==void 0?H.createElement(si.Provider,{value:this.props.routeContext},H.createElement(zy.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?H.createElement(c5,{error:n},e):e}};AA.contextType=W4;var t0=new WeakMap;function c5({children:n,error:e}){let{basename:t}=H.useContext(ns);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=t5(e.digest);if(r){let i=t0.get(e);if(i)throw i;let o=bA(r.location,t);if(yA&&!t0.get(e))if(o.isExternal||r.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:r.replace}));throw t0.set(e,c),c}return H.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function u5({routeContext:n,match:e,children:t}){let r=H.useContext(Fc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(si.Provider,{value:n},t)}function h5(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=t==null?void 0:t.errors;if(c!=null){let b=o.findIndex(v=>v.route.id&&(c==null?void 0:c[v.route.id])!==void 0);Qt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,b+1))}let h=!1,d=-1;if(t)for(let b=0;b<o.length;b++){let v=o[b];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(d=b),v.route.id){let{loaderData:x,errors:T}=t,N=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!T||T[v.route.id]===void 0);if(v.route.lazy||N){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let p=t&&r?(b,v)=>{var x,T;r(b,{location:t.location,params:((T=(x=t.matches)==null?void 0:x[0])==null?void 0:T.params)??{},unstable_pattern:$4(t.matches),errorInfo:v})}:void 0;return o.reduceRight((b,v,x)=>{let T,N=!1,I=null,C=null;t&&(T=c&&v.route.id?c[v.route.id]:void 0,I=v.route.errorElement||l5,h&&(d<0&&x===0?(SA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,C=null):d===x&&(N=!0,C=v.route.hydrateFallbackElement||null)));let U=e.concat(o.slice(0,x+1)),K=()=>{let B;return T?B=I:N?B=C:v.route.Component?B=H.createElement(v.route.Component,null):v.route.element?B=v.route.element:B=b,H.createElement(u5,{match:v,routeContext:{outlet:b,matches:U,isDataRoute:t!=null},children:B})};return t&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?H.createElement(AA,{location:t.location,revalidation:t.revalidation,component:I,error:T,children:K(),routeContext:{outlet:null,matches:U,isDataRoute:!0},onError:p}):K()},null)}function Hy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function d5(n){let e=H.useContext(Fc);return Qt(e,Hy(n)),e}function f5(n){let e=H.useContext(wp);return Qt(e,Hy(n)),e}function p5(n){let e=H.useContext(si);return Qt(e,Hy(n)),e}function Fy(n){let e=p5(n),t=e.matches[e.matches.length-1];return Qt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function m5(){return Fy("useRouteId")}function g5(){var r;let n=H.useContext(zy),e=f5("useRouteError"),t=Fy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function y5(){let{router:n}=d5("useNavigate"),e=Fy("useNavigate"),t=H.useRef(!1);return EA(()=>{t.current=!0}),H.useCallback(async(i,o={})=>{Os(t.current,wA),t.current&&(typeof i=="number"?await n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var W_={};function SA(n,e,t){!e&&!W_[n]&&(W_[n]=!0,Os(!1,t))}H.memo(b5);function b5({routes:n,future:e,state:t,onError:r}){return TA(n,void 0,t,r,e)}function Uu({to:n,replace:e,state:t,relative:r}){Qt(Gc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=H.useContext(ns);Os(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=H.useContext(si),{pathname:c}=Ra(),h=Di(),d=By(n,qy(o),c,r==="path"),p=JSON.stringify(d);return H.useEffect(()=>{h(JSON.parse(p),{replace:e,state:t,relative:r})},[h,p,r,e,t]),null}function Zr(n){Qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function v5({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1,unstable_useTransitions:c}){Qt(!Gc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),d=H.useMemo(()=>({basename:h,navigator:i,static:o,unstable_useTransitions:c,future:{}}),[h,i,o,c]);typeof t=="string"&&(t=Hc(t));let{pathname:p="/",search:b="",hash:v="",state:x=null,key:T="default"}=t,N=H.useMemo(()=>{let I=_a(p,h);return I==null?null:{location:{pathname:I,search:b,hash:v,state:x,key:T},navigationType:r}},[h,p,b,v,x,T,r]);return Os(N!=null,`<Router basename="${h}"> is not able to match the URL "${p}${b}${v}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:H.createElement(ns.Provider,{value:d},H.createElement(Mh.Provider,{children:e,value:N}))}function x5({children:n,location:e}){return a5(U0(n),e)}function U0(n,e=[]){let t=[];return H.Children.forEach(n,(r,i)=>{if(!H.isValidElement(r))return;let o=[...e,i];if(r.type===H.Fragment){t.push.apply(t,U0(r.props.children,o));return}Qt(r.type===Zr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=U0(r.props.children,o)),t.push(c)}),t}var jf="get",kf="application/x-www-form-urlencoded";function Ep(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function _5(n){return Ep(n)&&n.tagName.toLowerCase()==="button"}function w5(n){return Ep(n)&&n.tagName.toLowerCase()==="form"}function E5(n){return Ep(n)&&n.tagName.toLowerCase()==="input"}function T5(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function A5(n,e){return n.button===0&&(!e||e==="_self")&&!T5(n)}var hf=null;function S5(){if(hf===null)try{new FormData(document.createElement("form"),0),hf=!1}catch{hf=!0}return hf}var N5=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function n0(n){return n!=null&&!N5.has(n)?(Os(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kf}"`),null):n}function C5(n,e){let t,r,i,o,c;if(w5(n)){let h=n.getAttribute("action");r=h?_a(h,e):null,t=n.getAttribute("method")||jf,i=n0(n.getAttribute("enctype"))||kf,o=new FormData(n)}else if(_5(n)||E5(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||h.getAttribute("action");if(r=d?_a(d,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||jf,i=n0(n.getAttribute("formenctype"))||n0(h.getAttribute("enctype"))||kf,o=new FormData(h,n),!S5()){let{name:p,type:b,value:v}=n;if(b==="image"){let x=p?`${p}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else p&&o.append(p,v)}}else{if(Ep(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=jf,r=null,i=kf,c=n}return o&&i==="text/plain"&&(c=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Gy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function R5(n,e,t,r){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname==="/"?i.pathname=`_root.${r}`:e&&_a(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function I5(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function O5(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function j5(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let c=await I5(o,t);return c.links?c.links():[]}return[]}));return L5(r.flat(1).filter(O5).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function X_(n,e,t,r,i,o){let c=(d,p)=>t[p]?d.route.id!==t[p].route.id:!0,h=(d,p)=>{var b;return t[p].pathname!==d.pathname||((b=t[p].route.path)==null?void 0:b.endsWith("*"))&&t[p].params["*"]!==d.params["*"]};return o==="assets"?e.filter((d,p)=>c(d,p)||h(d,p)):o==="data"?e.filter((d,p)=>{var v;let b=r.routes[d.route.id];if(!b||!b.hasLoader)return!1;if(c(d,p)||h(d,p))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function k5(n,e,{includeHydrateFallback:t}={}){return D5(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function D5(n){return[...new Set(n)]}function M5(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function L5(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(M5(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function NA(){let n=H.useContext(Fc);return Gy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function P5(){let n=H.useContext(wp);return Gy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ky=H.createContext(void 0);Ky.displayName="FrameworkContext";function CA(){let n=H.useContext(Ky);return Gy(n,"You must render this element inside a <HydratedRouter> element"),n}function V5(n,e){let t=H.useContext(Ky),[r,i]=H.useState(!1),[o,c]=H.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:p,onMouseLeave:b,onTouchStart:v}=e,x=H.useRef(null);H.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let I=U=>{U.forEach(K=>{c(K.isIntersecting)})},C=new IntersectionObserver(I,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[n]),H.useEffect(()=>{if(r){let I=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(I)}}},[r]);let T=()=>{i(!0)},N=()=>{i(!1),c(!1)};return t?n!=="intent"?[o,x,{}]:[o,x,{onFocus:qu(h,T),onBlur:qu(d,N),onMouseEnter:qu(p,T),onMouseLeave:qu(b,N),onTouchStart:qu(v,T)}]:[!1,x,{}]}function qu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function U5({page:n,...e}){let{router:t}=NA(),r=H.useMemo(()=>fA(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?H.createElement(B5,{page:n,matches:r,...e}):null}function q5(n){let{manifest:e,routeModules:t}=CA(),[r,i]=H.useState([]);return H.useEffect(()=>{let o=!1;return j5(n,e,t).then(c=>{o||i(c)}),()=>{o=!0}},[n,e,t]),r}function B5({page:n,matches:e,...t}){let r=Ra(),{future:i,manifest:o,routeModules:c}=CA(),{basename:h}=NA(),{loaderData:d,matches:p}=P5(),b=H.useMemo(()=>X_(n,e,p,o,r,"data"),[n,e,p,o,r]),v=H.useMemo(()=>X_(n,e,p,o,r,"assets"),[n,e,p,o,r]),x=H.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let I=new Set,C=!1;if(e.forEach(K=>{var $;let B=o.routes[K.route.id];!B||!B.hasLoader||(!b.some(Z=>Z.route.id===K.route.id)&&K.route.id in d&&(($=c[K.route.id])!=null&&$.shouldRevalidate)||B.hasClientLoader?C=!0:I.add(K.route.id))}),I.size===0)return[];let U=R5(n,h,i.unstable_trailingSlashAwareDataRequests,"data");return C&&I.size>0&&U.searchParams.set("_routes",e.filter(K=>I.has(K.route.id)).map(K=>K.route.id).join(",")),[U.pathname+U.search]},[h,i.unstable_trailingSlashAwareDataRequests,d,r,o,b,e,n,c]),T=H.useMemo(()=>k5(v,o),[v,o]),N=q5(v);return H.createElement(H.Fragment,null,x.map(I=>H.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...t})),T.map(I=>H.createElement("link",{key:I,rel:"modulepreload",href:I,...t})),N.map(({key:I,link:C})=>H.createElement("link",{key:I,nonce:t.nonce,...C})))}function z5(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var H5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{H5&&(window.__reactRouterVersion="7.12.0")}catch{}function F5({basename:n,children:e,unstable_useTransitions:t,window:r}){let i=H.useRef();i.current==null&&(i.current=E4({window:r,v5Compat:!0}));let o=i.current,[c,h]=H.useState({action:o.action,location:o.location}),d=H.useCallback(p=>{t===!1?h(p):H.startTransition(()=>h(p))},[t]);return H.useLayoutEffect(()=>o.listen(d),[o,d]),H.createElement(v5,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:o,unstable_useTransitions:t})}var RA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xo=H.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:c,state:h,target:d,to:p,preventScrollReset:b,viewTransition:v,unstable_defaultShouldRevalidate:x,...T},N){let{basename:I,unstable_useTransitions:C}=H.useContext(ns),U=typeof p=="string"&&RA.test(p),K=bA(p,I);p=K.to;let B=r5(p,{relative:i}),[$,Z,ve]=V5(r,T),L=$5(p,{replace:c,state:h,target:d,preventScrollReset:b,relative:i,viewTransition:v,unstable_defaultShouldRevalidate:x,unstable_useTransitions:C});function k(V){e&&e(V),V.defaultPrevented||L(V)}let P=H.createElement("a",{...T,...ve,href:K.absoluteURL||B,onClick:K.isExternal||o?e:k,ref:z5(N,Z),target:d,"data-discover":!U&&t==="render"?"true":void 0});return $&&!U?H.createElement(H.Fragment,null,P,H.createElement(U5,{page:B})):P});xo.displayName="Link";var G5=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:c,viewTransition:h,children:d,...p},b){let v=Lh(c,{relative:p.relative}),x=Ra(),T=H.useContext(wp),{navigator:N,basename:I}=H.useContext(ns),C=T!=null&&J5(v)&&h===!0,U=N.encodeLocation?N.encodeLocation(v).pathname:v.pathname,K=x.pathname,B=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(K=K.toLowerCase(),B=B?B.toLowerCase():null,U=U.toLowerCase()),B&&I&&(B=_a(B,I)||B);const $=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let Z=K===U||!i&&K.startsWith(U)&&K.charAt($)==="/",ve=B!=null&&(B===U||!i&&B.startsWith(U)&&B.charAt(U.length)==="/"),L={isActive:Z,isPending:ve,isTransitioning:C},k=Z?e:void 0,P;typeof r=="function"?P=r(L):P=[r,Z?"active":null,ve?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let V=typeof o=="function"?o(L):o;return H.createElement(xo,{...p,"aria-current":k,className:P,ref:b,style:V,to:c,viewTransition:h},typeof d=="function"?d(L):d)});G5.displayName="NavLink";var K5=H.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:c=jf,action:h,onSubmit:d,relative:p,preventScrollReset:b,viewTransition:v,unstable_defaultShouldRevalidate:x,...T},N)=>{let{unstable_useTransitions:I}=H.useContext(ns),C=X5(),U=Z5(h,{relative:p}),K=c.toLowerCase()==="get"?"get":"post",B=typeof h=="string"&&RA.test(h),$=Z=>{if(d&&d(Z),Z.defaultPrevented)return;Z.preventDefault();let ve=Z.nativeEvent.submitter,L=(ve==null?void 0:ve.getAttribute("formmethod"))||c,k=()=>C(ve||Z.currentTarget,{fetcherKey:e,method:L,navigate:t,replace:i,state:o,relative:p,preventScrollReset:b,viewTransition:v,unstable_defaultShouldRevalidate:x});I&&t!==!1?H.startTransition(()=>k()):k()};return H.createElement("form",{ref:N,method:K,action:U,onSubmit:r?d:$,...T,"data-discover":!B&&n==="render"?"true":void 0})});K5.displayName="Form";function Y5(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IA(n){let e=H.useContext(Fc);return Qt(e,Y5(n)),e}function $5(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h,unstable_useTransitions:d}={}){let p=Di(),b=Ra(),v=Lh(n,{relative:o});return H.useCallback(x=>{if(A5(x,e)){x.preventDefault();let T=t!==void 0?t:fh(b)===fh(v),N=()=>p(n,{replace:T,state:r,preventScrollReset:i,relative:o,viewTransition:c,unstable_defaultShouldRevalidate:h});d?H.startTransition(()=>N()):N()}},[b,p,v,t,r,e,n,i,o,c,h,d])}var Q5=0,W5=()=>`__${String(++Q5)}__`;function X5(){let{router:n}=IA("useSubmit"),{basename:e}=H.useContext(ns),t=m5(),r=n.fetch,i=n.navigate;return H.useCallback(async(o,c={})=>{let{action:h,method:d,encType:p,formData:b,body:v}=C5(o,e);if(c.navigate===!1){let x=c.fetcherKey||W5();await r(x,t,c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:b,body:v,formMethod:c.method||d,formEncType:c.encType||p,flushSync:c.flushSync})}else await i(c.action||h,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:b,body:v,formMethod:c.method||d,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,i,e,t])}function Z5(n,{relative:e}={}){let{basename:t}=H.useContext(ns),r=H.useContext(si);Qt(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Lh(n||".",{relative:e})},c=Ra();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),d=h.getAll("index");if(d.some(b=>b==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let b=h.toString();o.search=b?`?${b}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:ba([t,o.pathname])),fh(o)}function J5(n,{relative:e}={}){let t=H.useContext(xA);Qt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=IA("useViewTransitionState"),i=Lh(n,{relative:e});if(!t.isTransitioning)return!1;let o=_a(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=_a(t.nextLocation.pathname,r)||t.nextLocation.pathname;return Wf(i.pathname,c)!=null||Wf(i.pathname,o)!=null}var r0,Z_;function eO(){if(Z_)return r0;Z_=1;var n=typeof Element<"u",e=typeof Map=="function",t=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(o,c){if(o===c)return!0;if(o&&c&&typeof o=="object"&&typeof c=="object"){if(o.constructor!==c.constructor)return!1;var h,d,p;if(Array.isArray(o)){if(h=o.length,h!=c.length)return!1;for(d=h;d--!==0;)if(!i(o[d],c[d]))return!1;return!0}var b;if(e&&o instanceof Map&&c instanceof Map){if(o.size!==c.size)return!1;for(b=o.entries();!(d=b.next()).done;)if(!c.has(d.value[0]))return!1;for(b=o.entries();!(d=b.next()).done;)if(!i(d.value[1],c.get(d.value[0])))return!1;return!0}if(t&&o instanceof Set&&c instanceof Set){if(o.size!==c.size)return!1;for(b=o.entries();!(d=b.next()).done;)if(!c.has(d.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(c)){if(h=o.length,h!=c.length)return!1;for(d=h;d--!==0;)if(o[d]!==c[d])return!1;return!0}if(o.constructor===RegExp)return o.source===c.source&&o.flags===c.flags;if(o.valueOf!==Object.prototype.valueOf&&typeof o.valueOf=="function"&&typeof c.valueOf=="function")return o.valueOf()===c.valueOf();if(o.toString!==Object.prototype.toString&&typeof o.toString=="function"&&typeof c.toString=="function")return o.toString()===c.toString();if(p=Object.keys(o),h=p.length,h!==Object.keys(c).length)return!1;for(d=h;d--!==0;)if(!Object.prototype.hasOwnProperty.call(c,p[d]))return!1;if(n&&o instanceof Element)return!1;for(d=h;d--!==0;)if(!((p[d]==="_owner"||p[d]==="__v"||p[d]==="__o")&&o.$$typeof)&&!i(o[p[d]],c[p[d]]))return!1;return!0}return o!==o&&c!==c}return r0=function(c,h){try{return i(c,h)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},r0}var tO=eO();const nO=Mo(tO);var s0,J_;function rO(){if(J_)return s0;J_=1;var n=function(e,t,r,i,o,c,h,d){if(!e){var p;if(t===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var b=[r,i,o,c,h,d],v=0;p=new Error(t.replace(/%s/g,function(){return b[v++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return s0=n,s0}var sO=rO();const ew=Mo(sO);var i0,tw;function iO(){return tw||(tw=1,i0=function(e,t,r,i){var o=r?r.call(i,e,t):void 0;if(o!==void 0)return!!o;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var c=Object.keys(e),h=Object.keys(t);if(c.length!==h.length)return!1;for(var d=Object.prototype.hasOwnProperty.bind(t),p=0;p<c.length;p++){var b=c[p];if(!d(b))return!1;var v=e[b],x=t[b];if(o=r?r.call(i,v,x,b):void 0,o===!1||o===void 0&&v!==x)return!1}return!0}),i0}var aO=iO();const oO=Mo(aO);var OA=(n=>(n.BASE="base",n.BODY="body",n.HEAD="head",n.HTML="html",n.LINK="link",n.META="meta",n.NOSCRIPT="noscript",n.SCRIPT="script",n.STYLE="style",n.TITLE="title",n.FRAGMENT="Symbol(react.fragment)",n))(OA||{}),a0={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},nw=Object.values(OA),Yy={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},lO=Object.entries(Yy).reduce((n,[e,t])=>(n[t]=e,n),{}),Qs="data-rh",xc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},_c=(n,e)=>{for(let t=n.length-1;t>=0;t-=1){const r=n[t];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},cO=n=>{let e=_c(n,"title");const t=_c(n,xc.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),t&&e)return t.replace(/%s/g,()=>e);const r=_c(n,xc.DEFAULT_TITLE);return e||r||void 0},uO=n=>_c(n,xc.ON_CHANGE_CLIENT_STATE)||(()=>{}),o0=(n,e)=>e.filter(t=>typeof t[n]<"u").map(t=>t[n]).reduce((t,r)=>({...t,...r}),{}),hO=(n,e)=>e.filter(t=>typeof t.base<"u").map(t=>t.base).reverse().reduce((t,r)=>{if(!t.length){const i=Object.keys(r);for(let o=0;o<i.length;o+=1){const h=i[o].toLowerCase();if(n.indexOf(h)!==-1&&r[h])return t.concat(r)}}return t},[]),dO=n=>console&&typeof console.warn=="function"&&console.warn(n),Bu=(n,e,t)=>{const r={};return t.filter(i=>Array.isArray(i[n])?!0:(typeof i[n]<"u"&&dO(`Helmet: ${n} should be of type "Array". Instead found type "${typeof i[n]}"`),!1)).map(i=>i[n]).reverse().reduce((i,o)=>{const c={};o.filter(d=>{let p;const b=Object.keys(d);for(let x=0;x<b.length;x+=1){const T=b[x],N=T.toLowerCase();e.indexOf(N)!==-1&&!(p==="rel"&&d[p].toLowerCase()==="canonical")&&!(N==="rel"&&d[N].toLowerCase()==="stylesheet")&&(p=N),e.indexOf(T)!==-1&&(T==="innerHTML"||T==="cssText"||T==="itemprop")&&(p=T)}if(!p||!d[p])return!1;const v=d[p].toLowerCase();return r[p]||(r[p]={}),c[p]||(c[p]={}),r[p][v]?!1:(c[p][v]=!0,!0)}).reverse().forEach(d=>i.push(d));const h=Object.keys(c);for(let d=0;d<h.length;d+=1){const p=h[d],b={...r[p],...c[p]};r[p]=b}return i},[]).reverse()},fO=(n,e)=>{if(Array.isArray(n)&&n.length){for(let t=0;t<n.length;t+=1)if(n[t][e])return!0}return!1},pO=n=>({baseTag:hO(["href"],n),bodyAttributes:o0("bodyAttributes",n),defer:_c(n,xc.DEFER),encode:_c(n,xc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:o0("htmlAttributes",n),linkTags:Bu("link",["rel","href"],n),metaTags:Bu("meta",["name","charset","http-equiv","property","itemprop"],n),noscriptTags:Bu("noscript",["innerHTML"],n),onChangeClientState:uO(n),scriptTags:Bu("script",["src","innerHTML"],n),styleTags:Bu("style",["cssText"],n),title:cO(n),titleAttributes:o0("titleAttributes",n),prioritizeSeoTags:fO(n,xc.PRIORITIZE_SEO_TAGS)}),jA=n=>Array.isArray(n)?n.join(""):n,mO=(n,e)=>{const t=Object.keys(n);for(let r=0;r<t.length;r+=1)if(e[t[r]]&&e[t[r]].includes(n[t[r]]))return!0;return!1},l0=(n,e)=>Array.isArray(n)?n.reduce((t,r)=>(mO(r,e)?t.priority.push(r):t.default.push(r),t),{priority:[],default:[]}):{default:n,priority:[]},rw=(n,e)=>({...n,[e]:void 0}),gO=["noscript","script","style"],q0=(n,e=!0)=>e===!1?String(n):String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),kA=n=>Object.keys(n).reduce((e,t)=>{const r=typeof n[t]<"u"?`${t}="${n[t]}"`:`${t}`;return e?`${e} ${r}`:r},""),yO=(n,e,t,r)=>{const i=kA(t),o=jA(e);return i?`<${n} ${Qs}="true" ${i}>${q0(o,r)}</${n}>`:`<${n} ${Qs}="true">${q0(o,r)}</${n}>`},bO=(n,e,t=!0)=>e.reduce((r,i)=>{const o=i,c=Object.keys(o).filter(p=>!(p==="innerHTML"||p==="cssText")).reduce((p,b)=>{const v=typeof o[b]>"u"?b:`${b}="${q0(o[b],t)}"`;return p?`${p} ${v}`:v},""),h=o.innerHTML||o.cssText||"",d=gO.indexOf(n)===-1;return`${r}<${n} ${Qs}="true" ${c}${d?"/>":`>${h}</${n}>`}`},""),DA=(n,e={})=>Object.keys(n).reduce((t,r)=>{const i=Yy[r];return t[i||r]=n[r],t},e),vO=(n,e,t)=>{const r={key:e,[Qs]:!0},i=DA(t,r);return[bn.createElement("title",i,e)]},Df=(n,e)=>e.map((t,r)=>{const i={key:r,[Qs]:!0};return Object.keys(t).forEach(o=>{const h=Yy[o]||o;if(h==="innerHTML"||h==="cssText"){const d=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:d}}else i[h]=t[o]}),bn.createElement(n,i)}),Es=(n,e,t=!0)=>{switch(n){case"title":return{toComponent:()=>vO(n,e.title,e.titleAttributes),toString:()=>yO(n,e.title,e.titleAttributes,t)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>DA(e),toString:()=>kA(e)};default:return{toComponent:()=>Df(n,e),toString:()=>bO(n,e,t)}}},xO=({metaTags:n,linkTags:e,scriptTags:t,encode:r})=>{const i=l0(n,a0.meta),o=l0(e,a0.link),c=l0(t,a0.script);return{priorityMethods:{toComponent:()=>[...Df("meta",i.priority),...Df("link",o.priority),...Df("script",c.priority)],toString:()=>`${Es("meta",i.priority,r)} ${Es("link",o.priority,r)} ${Es("script",c.priority,r)}`},metaTags:i.default,linkTags:o.default,scriptTags:c.default}},_O=n=>{const{baseTag:e,bodyAttributes:t,encode:r=!0,htmlAttributes:i,noscriptTags:o,styleTags:c,title:h="",titleAttributes:d,prioritizeSeoTags:p}=n;let{linkTags:b,metaTags:v,scriptTags:x}=n,T={toComponent:()=>{},toString:()=>""};return p&&({priorityMethods:T,linkTags:b,metaTags:v,scriptTags:x}=xO(n)),{priority:T,base:Es("base",e,r),bodyAttributes:Es("bodyAttributes",t,r),htmlAttributes:Es("htmlAttributes",i,r),link:Es("link",b,r),meta:Es("meta",v,r),noscript:Es("noscript",o,r),script:Es("script",x,r),style:Es("style",c,r),title:Es("title",{title:h,titleAttributes:d},r)}},B0=_O,df=[],MA=!!(typeof window<"u"&&window.document&&window.document.createElement),z0=class{constructor(n,e){Ee(this,"instances",[]);Ee(this,"canUseDOM",MA);Ee(this,"context");Ee(this,"value",{setHelmet:n=>{this.context.helmet=n},helmetInstances:{get:()=>this.canUseDOM?df:this.instances,add:n=>{(this.canUseDOM?df:this.instances).push(n)},remove:n=>{const e=(this.canUseDOM?df:this.instances).indexOf(n);(this.canUseDOM?df:this.instances).splice(e,1)}}});this.context=n,this.canUseDOM=e||!1,e||(n.helmet=B0({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},wO={},LA=bn.createContext(wO),ll,$y=(ll=class extends H.Component{constructor(t){super(t);Ee(this,"helmetData");this.helmetData=new z0(this.props.context||{},ll.canUseDOM)}render(){return bn.createElement(LA.Provider,{value:this.helmetData.value},this.props.children)}},Ee(ll,"canUseDOM",MA),ll),lc=(n,e)=>{const t=document.head||document.querySelector("head"),r=t.querySelectorAll(`${n}[${Qs}]`),i=[].slice.call(r),o=[];let c;return e&&e.length&&e.forEach(h=>{const d=document.createElement(n);for(const p in h)if(Object.prototype.hasOwnProperty.call(h,p))if(p==="innerHTML")d.innerHTML=h.innerHTML;else if(p==="cssText")d.styleSheet?d.styleSheet.cssText=h.cssText:d.appendChild(document.createTextNode(h.cssText));else{const b=p,v=typeof h[b]>"u"?"":h[b];d.setAttribute(p,v)}d.setAttribute(Qs,"true"),i.some((p,b)=>(c=b,d.isEqualNode(p)))?i.splice(c,1):o.push(d)}),i.forEach(h=>{var d;return(d=h.parentNode)==null?void 0:d.removeChild(h)}),o.forEach(h=>t.appendChild(h)),{oldTags:i,newTags:o}},H0=(n,e)=>{const t=document.getElementsByTagName(n)[0];if(!t)return;const r=t.getAttribute(Qs),i=r?r.split(","):[],o=[...i],c=Object.keys(e);for(const h of c){const d=e[h]||"";t.getAttribute(h)!==d&&t.setAttribute(h,d),i.indexOf(h)===-1&&i.push(h);const p=o.indexOf(h);p!==-1&&o.splice(p,1)}for(let h=o.length-1;h>=0;h-=1)t.removeAttribute(o[h]);i.length===o.length?t.removeAttribute(Qs):t.getAttribute(Qs)!==c.join(",")&&t.setAttribute(Qs,c.join(","))},EO=(n,e)=>{typeof n<"u"&&document.title!==n&&(document.title=jA(n)),H0("title",e)},sw=(n,e)=>{const{baseTag:t,bodyAttributes:r,htmlAttributes:i,linkTags:o,metaTags:c,noscriptTags:h,onChangeClientState:d,scriptTags:p,styleTags:b,title:v,titleAttributes:x}=n;H0("body",r),H0("html",i),EO(v,x);const T={baseTag:lc("base",t),linkTags:lc("link",o),metaTags:lc("meta",c),noscriptTags:lc("noscript",h),scriptTags:lc("script",p),styleTags:lc("style",b)},N={},I={};Object.keys(T).forEach(C=>{const{newTags:U,oldTags:K}=T[C];U.length&&(N[C]=U),K.length&&(I[C]=T[C].oldTags)}),e&&e(),d(n,N,I)},zu=null,TO=n=>{zu&&cancelAnimationFrame(zu),n.defer?zu=requestAnimationFrame(()=>{sw(n,()=>{zu=null})}):(sw(n),zu=null)},AO=TO,iw=class extends H.Component{constructor(){super(...arguments);Ee(this,"rendered",!1)}shouldComponentUpdate(e){return!oO(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let r=null;const i=pO(e.get().map(o=>{const c={...o.props};return delete c.context,c}));$y.canUseDOM?AO(i):B0&&(r=B0(i)),t(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},P0,Tp=(P0=class extends H.Component{shouldComponentUpdate(n){return!nO(rw(this.props,"helmetData"),rw(n,"helmetData"))}mapNestedChildrenToProps(n,e){if(!e)return null;switch(n.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${n.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(n,e,t,r){return{...e,[n.type]:[...e[n.type]||[],{...t,...this.mapNestedChildrenToProps(n,r)}]}}mapObjectTypeChildren(n,e,t,r){switch(n.type){case"title":return{...e,[n.type]:r,titleAttributes:{...t}};case"body":return{...e,bodyAttributes:{...t}};case"html":return{...e,htmlAttributes:{...t}};default:return{...e,[n.type]:{...t}}}}mapArrayTypeChildrenToProps(n,e){let t={...e};return Object.keys(n).forEach(r=>{t={...t,[r]:n[r]}}),t}warnOnInvalidChildren(n,e){return ew(nw.some(t=>n.type===t),typeof n.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${nw.join(", ")} are allowed. Helmet does not support rendering <${n.type}> elements. Refer to our API for more information.`),ew(!e||typeof e=="string"||Array.isArray(e)&&!e.some(t=>typeof t!="string"),`Helmet expects a string as a child of <${n.type}>. Did you forget to wrap your children in braces? ( <${n.type}>{\`\`}</${n.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(n,e){let t={};return bn.Children.forEach(n,r=>{if(!r||!r.props)return;const{children:i,...o}=r.props,c=Object.keys(o).reduce((d,p)=>(d[lO[p]||p]=o[p],d),{});let{type:h}=r;switch(typeof h=="symbol"?h=h.toString():this.warnOnInvalidChildren(r,i),h){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":t=this.flattenArrayTypeChildren(r,t,c,i);break;default:e=this.mapObjectTypeChildren(r,e,c,i);break}}),this.mapArrayTypeChildrenToProps(t,e)}render(){const{children:n,...e}=this.props;let t={...e},{helmetData:r}=e;if(n&&(t=this.mapChildrenToProps(n,t)),r&&!(r instanceof z0)){const i=r;r=new z0(i.context,!0),delete t.helmetData}return r?bn.createElement(iw,{...t,context:r.value}):bn.createElement(LA.Consumer,null,i=>bn.createElement(iw,{...t,context:i}))}},Ee(P0,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),P0);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NO=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),aw=n=>{const e=NO(n);return e.charAt(0).toUpperCase()+e.slice(1)},PA=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),CO=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=H.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:c,...h},d)=>H.createElement("svg",{ref:d,...RO,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:PA("lucide",i),...!o&&!CO(h)&&{"aria-hidden":"true"},...h},[...c.map(([p,b])=>H.createElement(p,b)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const In=(n,e)=>{const t=H.forwardRef(({className:r,...i},o)=>H.createElement(IO,{ref:o,iconNode:e,className:PA(`lucide-${SO(aw(n))}`,`lucide-${n}`,r),...i}));return t.displayName=aw(n),t};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],VA=In("activity",OO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],kO=In("calendar",jO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],MO=In("check",DO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],PO=In("chevron-right",LO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],UO=In("circle-check",VO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ow=In("credit-card",qO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],zO=In("flame",BO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],lw=In("layers",HO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],GO=In("message-circle",FO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],UA=In("refresh-cw",KO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],$O=In("shield",YO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],WO=In("smartphone",QO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ZO=In("target",XO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],ej=In("ticket",JO);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],nj=In("trending-up",tj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rj=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sj=In("triangle-alert",rj);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],qA=In("trophy",ij);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],BA=In("zap",aj),ff={Arsenal:"https://media.api-sports.io/football/teams/42.png","Manchester City":"https://media.api-sports.io/football/teams/50.png",Liverpool:"https://media.api-sports.io/football/teams/40.png",Chelsea:"https://media.api-sports.io/football/teams/49.png","Manchester United":"https://media.api-sports.io/football/teams/33.png",Tottenham:"https://media.api-sports.io/football/teams/47.png","Real Madrid":"https://media.api-sports.io/football/teams/541.png",Barcelona:"https://media.api-sports.io/football/teams/529.png","Atletico Madrid":"https://media.api-sports.io/football/teams/530.png","Bayern Munich":"https://media.api-sports.io/football/teams/157.png","Borussia Dortmund":"https://media.api-sports.io/football/teams/165.png","Paris Saint Germain":"https://media.api-sports.io/football/teams/85.png",Juventus:"https://media.api-sports.io/football/teams/496.png","AC Milan":"https://media.api-sports.io/football/teams/489.png",Inter:"https://media.api-sports.io/football/teams/505.png",Napoli:"https://media.api-sports.io/football/teams/492.png","Bayer Leverkusen":"https://media.api-sports.io/football/teams/168.png",Newcastle:"https://media.api-sports.io/football/teams/34.png","Aston Villa":"https://media.api-sports.io/football/teams/66.png","West Ham":"https://media.api-sports.io/football/teams/48.png"};function ph(...n){return n.filter(Boolean).join(" ")}const cw=({name:n})=>{const[e,t]=H.useState(null),[r,i]=H.useState(!0),[o,c]=H.useState(!1),h=H.useMemo(()=>n.replace(/ FC| CF| United| City| Real|AC | AS/gi,"").trim(),[n]),d=H.useMemo(()=>{const p=n.trim().split(/\s+/).filter(Boolean);return(p.length>1?p[0][0]+p[1][0]:n.slice(0,2)).toUpperCase()},[n]);return H.useEffect(()=>{let p=!0;return(async()=>{if(i(!0),ff[n]||ff[h]){p&&(t(ff[n]||ff[h]),i(!1));return}const v=localStorage.getItem(`logo_${n}`);if(v){p&&(t(v),i(!1));return}try{const T=await(await fetch(`https://www.thesportsdb.com/api/v1/json/3/searchteams.php?t=${encodeURIComponent(n)}`)).json();if(T.teams&&T.teams.length>0){const N=T.teams[0].strBadge;localStorage.setItem(`logo_${n}`,N),p&&t(N)}else{const I=await(await fetch(`https://www.thesportsdb.com/api/v1/json/3/searchteams.php?t=${encodeURIComponent(h)}`)).json();if(I.teams&&I.teams.length>0){const C=I.teams[0].strBadge;localStorage.setItem(`logo_${n}`,C),p&&t(C)}else c(!0)}}catch{c(!0)}finally{p&&i(!1)}})(),()=>{p=!1}},[n,h]),f.jsxs("div",{className:"relative group",children:[f.jsx("div",{className:"pointer-events-none absolute -inset-3 rounded-full bg-blue-500/20 blur-xl opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),f.jsxs("div",{className:ph("relative w-20 h-20 rounded-2xl overflow-hidden p-3","border border-white/10 bg-gradient-to-b from-white/5 to-black/60","shadow-[0_10px_40px_-10px_rgba(0,0,0,0.5)] flex items-center justify-center"),children:[r&&f.jsx("div",{className:"absolute inset-0 animate-pulse bg-white/5"}),!r&&e&&!o?f.jsx("img",{src:e,alt:n,onError:()=>c(!0),className:"w-full h-full object-contain drop-shadow-xl transition-transform duration-500 group-hover:scale-110"}):!r&&f.jsx("div",{className:"flex flex-col items-center justify-center w-full h-full text-slate-500",children:f.jsx("span",{className:"text-xl font-black text-blue-500",children:d})})]})]})},c0=({label:n,value:e})=>{const t=e==="-"||e===""||e===null;return f.jsxs("div",{className:ph("rounded-2xl border border-white/5 bg-white/[0.02] p-3 text-center","transition-all duration-300 hover:bg-white/[0.05] hover:border-blue-500/30 group"),children:[f.jsx("p",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-wider group-hover:text-blue-400 transition-colors",children:n}),f.jsx("p",{className:ph("mt-1 text-lg font-black leading-none",t?"text-slate-600":"text-slate-200"),children:String(e)})]})},oj=({match:n,onAnalyze:e,isAnalyzing:t})=>{var p,b;const r=H.useMemo(()=>new Date(n.commence_time),[n.commence_time]),i=H.useMemo(()=>Number.isNaN(r.getTime())?"":new Intl.DateTimeFormat(void 0,{weekday:"short",hour:"2-digit",minute:"2-digit"}).format(r),[r]),o=H.useMemo(()=>Number.isNaN(r.getTime())?"":new Intl.DateTimeFormat(void 0,{month:"short",day:"2-digit"}).format(r),[r]),{homeOdds:c,awayOdds:h,drawOdds:d}=H.useMemo(()=>{var I,C,U,K,B,$,Z,ve,L;const v=(U=(C=(I=n.bookmakers)==null?void 0:I[0])==null?void 0:C.markets)==null?void 0:U.find(k=>k.key==="h2h"),x=((B=(K=v==null?void 0:v.outcomes)==null?void 0:K.find(k=>k.name===n.home_team))==null?void 0:B.price)??"-",T=((Z=($=v==null?void 0:v.outcomes)==null?void 0:$.find(k=>k.name===n.away_team))==null?void 0:Z.price)??"-",N=((L=(ve=v==null?void 0:v.outcomes)==null?void 0:ve.find(k=>k.name==="Draw"))==null?void 0:L.price)??"-";return{homeOdds:x,awayOdds:T,drawOdds:N}},[n.away_team,n.bookmakers,n.home_team]);return f.jsxs("article",{className:ph("relative overflow-hidden rounded-[2.5rem] border border-white/10 bg-[#0f172a]/40 backdrop-blur-xl","shadow-2xl hover:shadow-blue-900/10","transition-all duration-500 hover:-translate-y-1"),children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/[0.03] to-transparent pointer-events-none"}),f.jsx("div",{className:"absolute -right-20 -top-20 w-60 h-60 bg-blue-600/10 rounded-full blur-[80px] pointer-events-none"}),f.jsxs("div",{className:"relative z-10 p-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),f.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest text-slate-400",children:[o," ",f.jsx("span",{className:"text-slate-600",children:"|"})," ",i]})]}),((b=(p=n.bookmakers)==null?void 0:p[0])==null?void 0:b.title)&&f.jsx("span",{className:"text-[9px] font-bold text-blue-400 bg-blue-500/10 px-2 py-1 rounded-lg border border-blue-500/20",children:n.bookmakers[0].title})]}),f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsxs("div",{className:"flex flex-col items-center flex-1 gap-3",children:[f.jsx(cw,{name:n.home_team}),f.jsx("h2",{className:"text-xs font-bold text-white text-center uppercase tracking-wide max-w-[100px] leading-tight",children:n.home_team})]}),f.jsx("div",{className:"flex flex-col items-center justify-center pb-6",children:f.jsx("span",{className:"text-2xl font-black text-slate-700 italic opacity-50",children:"VS"})}),f.jsxs("div",{className:"flex flex-col items-center flex-1 gap-3",children:[f.jsx(cw,{name:n.away_team}),f.jsx("h2",{className:"text-xs font-bold text-white text-center uppercase tracking-wide max-w-[100px] leading-tight",children:n.away_team})]})]}),f.jsxs("div",{className:"mt-8 grid grid-cols-3 gap-3 bg-black/20 p-2 rounded-3xl border border-white/5",children:[f.jsx(c0,{label:"1 (Home)",value:c}),f.jsx(c0,{label:"X (Draw)",value:d}),f.jsx(c0,{label:"2 (Away)",value:h})]}),f.jsx("button",{onClick:()=>e(n),disabled:t,className:ph("mt-6 w-full rounded-2xl py-4","font-black text-xs uppercase tracking-[0.2em]","flex items-center justify-center gap-2","transition-all duration-300",t?"bg-slate-800 text-slate-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-500 text-white shadow-lg shadow-blue-900/30 hover:shadow-blue-600/40 hover:scale-[1.02]"),children:t?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin h-4 w-4 text-slate-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),f.jsx("span",{children:"Processing..."})]}):f.jsx(f.Fragment,{children:f.jsx("span",{children:" Analyze Match"})})})]})]})},lj="d790e3133f09f41a89a0b7c77975ead0",cj="561ca0a9a6674f2abccb9b21c9f89a45",uj=[{id:"soccer_uefa_champs_league",name:"Champions League",logo:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBxIQEA8PDw8QDxAPDw8PDw8PEA8PDQ8QFRUWFhURFRUYHSggGBolHhUVITEhJSk3Li4uFyEzODMsNygtLisBCgoKDg0OFxAQGi0dICUtLS0tLS0tLS0tKy0tLS0tLS0tLS0tKy0tLSstLS4tKy0tLS0tLS0tLS0tLS0tLS0tLf/AABEIAKgBKwMBIgACEQEDEQH/xAAcAAACAgMBAQAAAAAAAAAAAAAAAQIDBAUGBwj/xABCEAACAQMCBAMGAwQHBwUAAAABAgMABBEFEhMhMUEGIlEHFDJhcYEjcpFCUmKhM3OCorLB0RWSo7GzwuEkJTRTg//EABgBAAMBAQAAAAAAAAAAAAAAAAABAgME/8QAJREBAQEBAAIBAwMFAAAAAAAAAAERAhIhMQNRcTJBYROBkaHw/9oADAMBAAIRAxEAPwDw+nRRXSkUUUUYBQKKdAFApVIVpBTFOkKkK1kSVKpUiKLAVFFFSYoorpbvRRaW0fHjL318oaCDBLWtvn+lZRzMjkYVewDE88YWhqtD08XM8cBmSDiHaJJNxQN2Bxz59K9Is/Y/Iy7hqEGPlE5H+IVqvB+mafY7bvV50M3JoLBAZpU7h5lXIVuhCMRjvz5D1rwv4qg1GBzZqyusgi4UiKHjz8LsASApAPPJ6EUXqz4RXM6f7KbJF3XF3POQOYjCW8RPoOp/vVwvjnTkt8pDpUtrECB73NJNcF/o6uY1z6ZJ+lb3xv4zuEu5YLSdkS3JiaZQpkkkHxkMeig8gB6Vydz4u1A5Bv7og8iDKSCPQg1pzz182o1yr1XXZ+Hr/T5yLfU7ZEJO1L2EmBgT/wDaF8v9ojHr3NdnpnsvtoruOYze8Wm2VZLedBxCHjdBh1wMgsDnAIK8udT1Wksjxmit34x8PNp13JbsSyfHBIcfiQtna31GCD8wa0lTPahRRRTAp4oFOqkLSxSqVRNHQRNFM1GsaoGinSqMAoooowCiiigHRSoqgdFKijAdFKgUYDpilTq4SQqQqIqYrWJpGkRU6iaYRIop0UsN2nsw8Oi5n94kG6OBhsU4w83UZ+S8j9SPnW08d+PmLyWtiTGBmOe6A2zSFfKUjPVUGMZ6n5Drm+FNbisZbfTiAHFu0k0hOAt0y8VYv0yPqVHY15VnPM8yeZJ6k1OTUT3dqaV1Xs/1We1v7VrZsNLNFbupyUkSRwpVh98/IiuXSuw9l9vxNW09SMgTGQ//AJxu4/moq78Ur8sTXNNltrm4guP6WOVt7dnyciQfJgQfvWonFe3e1/w+s/BuYyizr+E29lQSR9QCTyyOf6mvME8O7mCvMuScbYUaQ/dm2gfUZq/p298yo66nNyuU4RdlRFLMxCqqglmYnAUAdSScV61o15Ja28FvuaUwpteQc0LEk7FPdFBCA99vLljHE6nPFp8oSz81wisss822XhlhzRBgKDjIJx3x61q7jxPev1u5h/Vtwh/cxSmS7Zp2XqZLj1XWbCHVoOHJ5Jo9xgmwcxseqn1U4GR9+1eM31m8EkkMqlJI2KOp7EenqO4PcGvRvD2tG7srnzlL2CBsupIaRcHbL+Yd/p864DU9TkuSjzHfIqbDIfjdR8O71IyRn0x6VNk3Yr6flPVYOKAKdFLGgAp4pgU6pOo1A1YaganpURpUzSrGqFFKipB0UqKAdFKnRgKnRRiqwCigUUYBRRTxRgIVKlTFVIVSFTWoirFraRFFRIqykRTxMqqmpwQfTnTIpx4BBI3AEEjOMjuM9qWK13Xss0w3V5NdSksUDgM3Vp5gwLk+oBY/Vga5e38M3r9LScfnQx/48V7H4QjgEKtaoqROoZQowTkcyx6luWDnnyrkvHfiU20kttbsRcMcyzYI4CtzCx/xkEHd+yDy581We0Tu2+mq8K+z2e9meF7i2tWiOJI3ljluRyzyhQ5P3Ir2nwj7PrPTSJYw81wAV94mPmUEYIRB5V9PX5180REghgSGByGBIYH1B9a9S9mPjm9N3b2U85nglLJmbzyxkIzLtk6nmoHPPWs/qcdWeqqdTW89oeoGW4Ma5Ii8uP4u5rlr6c2dq0yj8Z2EaNjIjZgTuP0AOPU4rfa1OvHu7l2CrxWRc/m5msGO7hmVot0cqOu149wJI+g5j1z1GK7OfXE5jjvvvyrymbmSTzJOSScknuSaoNb3xHojWr5BLwuTw5O/5H9GH8+o7gaRqxsdfNbXwlNIt5CIhuMhMbqThWiYEPk+gGT9q1GMfblXY+z2x8010w5Ipij/ADsMuR9FwP7da3UdBaOK4upTw145jt0I88xZyd3yXaGOe/LtSz1p+U8sc/TAp4pgUYemBTxTUVLFPE6qaqzVrVWanqKiNRNSpVjYsqKdGKWGVFFFGAUUU8UYBTpU6ohSop0AqKdFAFOlTFOBJatQVUtXLW3LPpICkRViikwq8Z6pIpYqbCo4qV69O8K6/HZaQk7DeUnaEICAzM0hYgZ9FJb7VpvaJwrrg6nbMHjkVbefHxRyqPJvHVSV5c/3PnXJG5fhCDP4YlaYL/GyhSf0UfzrI0K+WGdDKokgf8O5jOSrwtyb7jO4EcwQMVNgkYaVvPC9xwru1l/cuISfylgG/kTWZ4j8HS2zb4Fe4t2PlZAXkTPMBwvUEdGHI/I8q6HQvBD29rLqF+uzhRPJBat8RYDyvKOwzjyd+/oXsiL92D4qvt8rQqfLGzbsdC5Jz+lcvdCsxOfMnJPMk9SfWsa5FbYiemPFqUiEBmMsYILQykvEwHYqcgfI9q6GyW2lAcQQMP6tVZT+6wXvXJyjnW40WHgoZnODIoCKTgCPIPEP1IwPlk9xS4/VmF9T9O7jqmuFSMRRKqA8lRBtAyefKuW8Y6jvdLdDmO2BUkdGmON5+2Av2PrW40K/haSSSSQfgRtLtwQGVRk7T3PQY+fLPPHFOxYlj1Ylj9Scmn9SzM5L6PPW3rpXipAUsVMCspHRaYFBFTApEVWI1S4qo1c4qo1n005QopmlWVaClTopAqKdKgCinSowHRRRiqwCijFFGAUCnRTwixUhSp0SBJauSqVq5K15Z9LRTIprU8VoyY7CoYq9xVeKmxUqOK6HwxbabL5L2W4gkzycMnuzjsCduUP15fMdK0OKWKVhyvd7K3EMUfu78SFECRSI+47B0G4Hn6VLXLt7mymteW+RVVHY4GAwJDfYGvEtLvpbdxJBI0bAg+U+Vvkw6MPka9OsPFUF1byLuFpe8GTYHI93eTb5WjduQ548rf3utTefjUZ9nH3WnyQ8pUK9t3VD9/8ALrWsuq38erXU22MSPISfKiohYnrgALk/Su2s7O1NuH1W3tLWYHGZHiVpF7OY2PlPyH8s4GnXXjPYk15n4Z0E3cpZwfd4z+IeY3t1EQPqepI6D5kZxptKuLmefYjGOOWUGSQ7IIkViObnkAAByHYdK9AvvGGnWqCO1RrjZkIkScC3BJycsQOpPVQa4HX/ABNPeeVysUOciCIFYuuQW7ufmfsBUbauemouIgrFQ6yBTjegbYx7ldwBx88VXipAUYqsGogVNRSAq5RRIVLFRarmFUvVEpeqWq16qNZdNeUDRTorKxZUUUUYYop4pUYBRRRSwHinRRWiSxRinRRgKnRRQBRRToCS1clUrVyVpyjpegq4LVUYrJQVozY0i1VisqVaoIpUI4pYqwCkVpA4xWdbCqLC1kmcRwxvK56JGrO36CuxtPAlyih7uS2sUPe6nRH+yjP6ZpWyfIaeMcqxLlAM4GK7OPw9ZqMNrEGf4LeWRf1DVRceFYH5QavYux6JKTbEn08xP/Kne+f+0sefzCqcV0+teDL63Bd7cyR4zxbciePHr5fMB8yMVzQNEsvwfwAtBFSxSoBAVfGtVqKyI1pwIsKocVlstY8gp0MR6rYVe9VMKz6XzVVFSorNaOKMUUUGKWKdFALFFOilgOiniiqIqMVIU8UxqOKMVLFAoLUMUVPFLFGDTFXJVSirkq+YnpkR1kxisaOsuKtIzRkSsZ1rYSLWJItKwKQK6fQvC6NF79qEvullnyHH/qLo9QkS9eeOv36c65xRzB9PUAj9DyNdjo17Fqt8qatKyq8RgtOERFbwykAKMdsnn6FsA5GAM+9xUZF7rl1FZiXTLP8A2dprScEXCBWu5m5jdJJzK5Ixkd+W41l+zrRbe+S9muYzdXUBjdeNcyxI6MDjiOMnqjczn6VtvDejXGlw6pBqmw6XwnALMpE0x5KYVzkFh1B57guO5rRezdL6LjS21qksc0PCke5JS0AyDuJ5bh1GB+8az3ees/yd9WaXiuGJZ1EItFXhKGjspjPCjgtkM5AJbGM8vSt3o/hyGTT4pJbNbmWaSQj8b3eXh5IG1v2vhHL59at1a396WNLnU9Lh4W7ZFap+GhbGRkHPYfpWu1nQrq6hhhguLK+jtFIiS3kRZsYA8ynqcL1z3NV5bzJuF+7jrjVZbG5mFi81pGkjKIXkWQKV5MHXJRjuDc+f1rZTXVvf7RfQe43cq7orxEMcNx2BZWxnPqT/AGhyBs0cWNow9+inW8V8FJ4SYohk4lVf2hy6nn6DvU/Hcr+72qSyJM0ksk2+MYjZAPKVGTy2yL3PTqetVnstcrq2ky2snCmXB6qy5Mci5xuU4H6HmO4FYGK2VzqkskMcDvujibcmQCw5YA3dcAZA/wDAxgir/JJRCslUqqMVlKKqQMeRaxpBWZMawpaKFElY7Gr3FVEVl005V0VM1HFQvUaKlilijAKVPFPbRg1Gnip7aMUYNKnUsU9tXidQoqe2jbRg1GnininRhahigip08UYNQUValbHw9o5u51iBKr8UjgZKoOuPn0A+tdHdatY2kjW8OnQziNijyz7ZGZhybBdW7/QfKqibXKxisqGthr89u8sE1vCsUbwK0kKYQCQSSKw5clyAvQehxW/8UaBb2kEUkKy7pXCniSBgo27uQCj6VW5iHMlaxZVruNF0O3lsZbp1k4kKTnasoEbmNNwyNuRn61x86U93QwgKGFegP4KhOnPOvFW8S1S6aLeHjC82Pl2g5KI+OfUVxESjcu5dy5GVDbdw9M9vrU89S7h1udEvoNj3GozTXr25VbSwlkldHZgfOzNkLGMYIH6HIFGpa7cXjAzyeQfBAg2W0Y7BYxy+5yfnXSeNvAkFpae82jTMYpUW4WV1fajgAEbVGCGaP7NmsP2d+Go76Sbjl1iiVACjKrGVz5VBII6BuWO4qJ1xl7Oy/DUxLyrEuiQQQSGByGBIZT6gjoa6PxFp6W11NbxhtkRQDewZ2yivkkAY+L0rb6zoGn29vb3E/vmLgJgRSQttYpvxzQcqu9zJ/KccvbeIVuVFpqn4sXwxXZ/+VbN2Jf8AaXpnP33DppNXuncpC8qzra74YpkBHEjyMHn15KB9up6novEfhaFbRdQsZpJIMqHSYLxFDNsyCoHRiAQR3zmlp+g276ZJfFZeLGGG0SjhMQyruxtyPizjPapl5nuHdcey1FVroPD2hm7kKsxjijXfLIMZA7KM8snnz7YNZtr/ALKd+EIbhAx2rcGYgk9iRzUf7tXaTm4Y6vYVtdb0RrSQLu3xuC0UmMFgORVh2Ycs/UHvW5tNAgngQrvjnljZk3SAxbwccxt+EnAPPluz9XszQ4eWsWQ102h6dHNO8M6SAqshO1+G6OnVGBU98g+mKw/DOiC+uOGSY4wDI5XBcLnAUE9+fUjtRaNc45qk128k+jxytDJY3RVHaNpveH4gKkgtsBA7en2rnPEdlHBdTxQMzwqymF2ILNGyq6kkAA8m9Ky3a0jVUVPbT20Yeq6MVZipBaMHkqC06majijBpE1HNT20ttGGsxTxU8UVp4stQxRip08UeI1Xtp4qWKMUYNQxTxVmKNtHiWuv9mUyrPMrdWRGHqQreYD9RXO6tYvBcTQyfGkjc/wB9Scq49QwII+tUWc7xOskbFXQ5UjtXWHxekqKLqxiuGQYVjt5d8AlSVGeeAcUZZdg1y0a/6V6v4qvI4YYDNbJcqZNoV2K7GCfEMfLlXn+pat7wYgYY4Yod+yKEBAA+3dzxjJ2jnitprPiM3caxvCEKOHRlckdMEMpXn17EfenebcJ1+n3CSabdPFCtuphuxw1YsMiNgTk+tcZoWl+83MMOMqX3P+Rebfr0+9Z+leIOFbm14O5HSRXbibX/ABAQxXy4HXlkGq9K1QWwlIjLNLG8RcPsdFYYynlOG75Oeg5UTizywa7LQb6F9RnlS9hmFzGkcdsEkVlWMZAyeR5b8/mrzrUNKNvevbdo7kRrnnmMsDGfupU/eoaXde7zxzBSxiYOqhtmSOxODyra6vri3NxHdtb7HTZvVJfJIYzlCcpkHsfUAdMZMTi89fxh7sd3a3azanq+mTH8K5jiKj0Pu0SSY+eCCPy1rdLhbTjpVi5AmnvWubraRjaCYYl+h5n+zXJXPiEtqC6ikZjk3o7pxN6NtRUIU7QQCq989ay7nxCbi+F9JHzQxGOJXwF4eCFLbeYzuPT9qon0r/bP9q8m49oEONQnP76QN/wlX/trY+N4o20/TRLK0S/h+dYuMQeD027l/wCdaXXNW99lE7R8NtiowV9ykAkgjI5HmfXtVfiTxB7zbxWzQ7BBt4brJk8l2ecFefL0xzpzjrOP4LZ7YGt6/Ctium2YkaPIaWeYBGc7+JhUHTzAdew+9bHSB/7DcfWT/qpXFSpW/sNe2Wb2XByjhtz8TDhiQ2R5cYyBy9O/etLx69fdO+208DQ8S1voFOJJFdR2PniKJ/erh0T1BB7g8iD6Gtlp2oSW0gkiIBxhgeasvoRW5l8RQyMZjp8PHJyZCxILfvFcYJ+Z5/Onll0MvxU2bezVv6Tmxz1HkQN/Pb+lYV3ctDDp0i9VFzy7MNyZU1hXNw8zGSVtzHl8gPQDsKd/eB4ooimODv2tuzkOQSGGOvl6g/aqnOSE6WO2SWaO/iI/EgkjmXuW2+WT64BVvmqnuTXB6BqMtq5niUMEjHGVjgGMsq8+/wATKM/OtlpeutbB1CCRW/ZLbdpxgkHFa7RtS91kLmNZlaJonjf4HRsZBGDnpUzmzR+XYWms6ZqcixXVoFnlIUOV2uzdvxo8MT+auN8baAthdmBHLxtGk0RfHECMWG1sciQVYZ7jFbKDxDZwOJoNLVZlOUZ7iaSNG9QrEitBrGpy3czTztudsDkMKqjoqjsBUTjL69Rp5emuxRirMUYqvEtV4oqzFGKPEarxRirMUYo8RqrFPFWYoxR4jV22lw6t20wK18WOqDHRtrI21EpR4n5KttMLVm2jbR4lqvbRircU9tHiNVAVbHS2VNFpyDV6R1ci1GIVegp4qVkQCs60thJJHGSVEjom4AMRuIGcZGevrWLAtbTTE/Ht/wCvh/xrRfg2F4i0sWtw0AcyFAhLlNgJZQ3IZPYjvWw8PeHkuYLmeS4aBbYAyYg42VwTkYcHseWKzfGmmTS30pjt5pAwhCskUjKTw0HUDFbLwXGY7TVlEazsg28Iq0iSlVkG3aObA46Vz9dX+nLvv0qT25LUdPtkj3296bhw6q0bWz25CsGO8FnO7BUDH8VbXwd4Y9+4h43BCMiKSgdZHYMdg8wwQFz9KxNcglkHGayFnHBGqsFhkghYtKcFQw+I7+fPoua6i2uILCOwgmM6zRkX8oiWIpxJQVCSbjnknLl+9R3evHJ8iZvtzlvbsWEe08Qtw9nffnG39eVZ2qaRawNwrm6l4oA3iCEPHESM4JY5bqOgrf6lAttqqSnAildZwf2RvBDN/v5b71qvEujSG/YNFLJHPMGV4wfgc88Nggbcnr6ehzRO/Kz3nrRmOTk0xfe1thLvR5I0SZU+JZApV9hb+Ics1be6SsN17rxGYBo1MmwKcuAchdx5DcO/rWfqVhHaalBFGXKRzWzF5GUk7irE+VQAOdZevWUh1IkRuQ0luykKSCAqAnPoCD+lVOvj8E0uqaMsV0ltxSwYxgycMAgv0wu7njI71kXGjW8Mhie7fcu3OLYkcwCOe/0IrN8QEHUkwc4ktgfqNvKszWxIZpVFoHVkUCZYGMvNB+2Bzx0+gxRLfRObki2lgDkBiAexwetYU4ra3EWwsp6qSp+o61rbgVt+wYEgrFlFZzLVEqUYWsFlqG2slo6XCqbC1j7aNtZHCo4dGFrG209tZIi+dIr6UYPJj7aNtXFaW2jxGqttG2rdtLbR4nrJ20tlFFa4z2nipYooowtASlw6KKR6AlGynRQNASpqtFFA1ciVegooprjMgFbCHIIZSQR0IJBB9QaKKRrJdQuB0ubgfSaUf51j2l5NHkRzSxgkkhJHTJ9Tg8zRRU+M+w0XWoTv5XuJ3UENteWR1yDkHBOMg0jcSSMHkkeRxgB3Yu+B05nnRRTkgtbM3UkgAkkkkC5xxHZ8Z64z0qu51KdUMazyiPGNgkYLj069PlRRU+M+xbWhnYsRuJYgBQWOcKBgD6ADFbOHUrgJt48wXGAOI3+tFFOyHKxEBDbgSDnOQSGz65rPjnfvLIfrI5/zp0U8DJkaIxEttLEMWYkcXdjl/ETuz05Y6nrnnJRRRRJg1QUqpxRRVYWqGApZoopYjUTUNtFFOQaeymI6KKQ0+H8qXDoooA2UbRSop4Nf/9k=",country:"Europe"},{id:"soccer_epl",name:"Premier League",logo:"https://upload.wikimedia.org/wikipedia/en/thumb/f/f2/Premier_League_Logo.svg/800px-Premier_League_Logo.svg.png",country:"England"},{id:"soccer_italy_serie_a",name:"Serie A",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e9/Serie_A_logo_2022.svg/800px-Serie_A_logo_2022.svg.png",country:"Italy"},{id:"soccer_france_ligue_one",name:"Ligue 1",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARwAAACxCAMAAAAh3/JWAAAAz1BMVEUKXf4MXv////////3///z///oAWv3//f8AWv4AUPoAWP3///gAU/sAVvxFefqPrfq9z/mTsPVWh/chY/ns8/jo8fs0cPwEXvuIpvhylPYAUPcAT/3z+P4AVP91nP7D0vXU4vvX5fgATP7I2fWhvPX4//hDff0ASPMAX/m3yfV4ofkKWPRSgPiWtfVFdfDB1fckaPVwl/Jmi/Td5vSGqPTh8PCowvQtbPEAOvzL4Pa0yuwUW/Df8OxkjPOIrfQlZfWOo/uUu/bZ6vBTfOy72/RDNLwvAAANT0lEQVR4nO2dC1viuhaG26YJLWmRm0aojKDi4CAKXnC7PY777Dn//zed3MACpfSSlqL95nlUoElWXpKVZCXtaFoG0nU9i2wzKyMHc/2FlXD2WpjKMnKFE1W+b19RQ9iVSx5tWpFKOFHETU5i9wHWNbYknNg1PcSGEFf6AcMpgAnFVQknRCWcLFU8uguLAizL29gSTgRT4qXJwJCNMoIsy/mLLOogXYgGXVA4icooQEfcoRCXkVfR4W/tUyWcEO0RzrrSmbCROniMOFSVcEKUsi5fEE68CmRX3QC0eRYfrBLOar6+kJPSfY9EeaWwQN1Yth7kLgicNBUr4URIW2xP9M1UwglRCaeQKr+VEB0sHOWGHyyJAJVwQpQBnGLSiWZX/jO7QqiEE6ISThIpP4WlVttOicU2NuGGTarkWWu/cPzbpLHLC3tjmzHSSqRpRLOq9Efk4kJfFk3rX4a+BmcbHfaDjFCv2+rc/KpmZd2elRAOleVejG8nfRObdzGaztcWC7ppBPWc2un9mWkCiI/dHNkU0qn61XOmnZtjTGUYhonr3ii/sgsJR9d0Qv0vcrxRczKAABrANCoMDpyhHA1Odp4oU/to7rTrVLtu7egeYACMTwH4prSgDOqReWurut3pr/oxdb8raAwDDy4UFp1NPTKEQyy3Rx6uBiYEhmlQH7wK5yrOQL7TyiK6lDChaaM/pA1mFcqyWzXj5FVIf5pGzg02KziQDGUz7MbJK6fzhOmX3uFZLHbfNO1t6IfBfA5tRayP8deX3YiWhBan9A6mzOF8XopmBvTBAWz0xv3Jq3gTnKKIU8CvCEfv3uPKSk96vHog3e6zQAampHAtJ4WiFP55CSKtVUcMny56lkb+mKKTPV+oqktkKJnCiwVHc5/gChx8gjR95E44MgjmPVWmHiAc0h2IJkJdDf/j0aUf6t5AeBz8oCxcoQ5Obn0UvQz6TJfPYsyCc5s54JYBhHseowwLT3y4Ki8HRrwLpr/6cuh+sGhxqCPmPeD1Isuy08PZdWGS7P2yCNMbZi3HNIZvrOG4cw7HhA0rxBLlX1vEw655ey+rg3nLwZceg9NrMwcEIKyFWZINnCgeM1c4xPlb+Bj85NKXVg1CDqdtjwsIZz3Rqj3KrbK6bTF0G3eWphP3SSzNzbqbMMPVamZ6NjxzOFpNLhaO2TJzdHHJA6QVPEs6kO8VjuICxg0xVuG5R3Mnb2cVyOAMP0jCkXwVR7LekvfMfJs8uczETeaO9aboY3Dgbeab19KoMHDQG5DdaqQz73wl29Gktxna29e6MU65Ckz8PFDtzqBYO/Rdna8oJJxmgTZ0Y8BR8f19wrFv5PT4qMqmx1M5Vp2FjeN5a09wNM1+FjjAC3tV/WEKVPfewcXD0yhwo5xYd2KZafzHZld4ddlyfmW56CyeAuHo1YaMc4ngjfssO9nL9zo/ENxyHBG8weC9St9EdxjwfnX88xvB4TCCnNVoKDzOkB8YQEe4wqPsczc7h7NhRrojYem1DQ6ayeDNZZcPXX2+WQ7xQzVDGzfhrFuqMPPISTYTVm/EDBD+dtm8pjU0mEM2gaZHc8ixLWFx2FA4KQdJhQ0PVY+FA4YvDAZ6l/sO/WhbnUlORWZ+ZkRZ9pZckRvHIs41Fw7IbEQLVxQLTrLjPds+IRpqsMgWHaBuHAbHlu0I36UxMo3SkEsAJzSaZ/f5triJ37mLeRHjOGhH3SNXruLAGaHpkB9vg2DMdsXdUxFMBjfevmY50eqnYsN859XOTK6kBhcs7cW9OKcDZta+Fg9ZwonXLMliRY6PeizteCi3zj+iHiBQroj25wBHG7crYnRiK3Li3mKx0zm4IMXuVnkI3clu1GbTGt2ZyD3yiRMrm5Voumob9ybUkKGcG9artG5fwrmtxpr55gcnv3WXrnsDAQe+IxYEHInjBKBNkKoIaazYr8LtTgVqDcW0xhgzGNZMhnLuYx2TDJXi+GaOLacq98hBn9/g4MihC54m3eoMKEMZnCy2n0MyJl6dwzDxb4cHAYcQQtOE+CWOWcrnY1s+yhmONhYrKRO/WPzz6Uer9TGdfqwdIf2ecOSKHB97/CVBBFFZaP0mokLAyVlOQ8a5/vayLKZQfjaqkD2Q28AddQ44QJHgZGlAEllTeXh9+IZWQ1DJlg6bNSxeg4gsdyYbzuUFqvqlJbqtM4DEAcPx6hLO+a9/Tv365+jaip/dV4JDG0db3nmGMYZLmQBg2Mz4XvKiQ9O1Oyw3ycG62m7Goa7Cw3EnIl68JsoG1uNFLBIUXkQ4/thCtx945yKDM8ukxKLLb+pHULthcMzhNJsS89RGsRG2y3wX8IF8w90wPSp8CMHOOFhG8NZRxNtM9Op4Cxxj7qgzeBecrFpWOjjkZKta2RiZHk5SkNHCaP5XSLMsi67B2Q+0+G0xJbMgZvF55hAfTu7O8pDg7Jrn8U66cpGebqeviIM6Qa6LCOH0CJ36sgmeTkYaqvZ6DotV6PwS+WwuRNeg9EK36vI1KEKLaBkhNLF/QXpAM5itIrXZbNaUdfn48etHZ0zfHdknR/Xz8/pRi0JB2gO95ppdfTL78aODNPJjoeWzLFz75L/v/ob0FeC4DQzAvUdYVayaCSF/PIU7x5g9fwCDJ4cQ+5KuNhu0SVUfIMZtB7UwgHxYh/+yu0MIslunfQxnq3D2U6HIX0qEg4a9hmmAus3/RjW2quxquvc3NCsVzI4twc6Y9M7pvPiIwrGa0IDHFA79xelgs8UKeb8cYhOYtE1leDtExFpnDcdqggrAw7MzOg/EbZt49+YmHD4fNPGpq2v2I29JsBBwIiTbcSDzUy6Lotdt/qmEozt1DPD52LY7rMp3yDmnXeyIOudq0xRwhhXTeG9SPVxTIC/s+C39R+GkPekZbmyyPHfC2Yo9AI7WbTMmLMT+r2mCJoNjrMKBFRO0+IDFpoS386urZwVw9OLDsUcj2mDaI0vXepcGNpvWJhzWcj40dss598eOc9EvKpz4pX++kHD4OwKOw07lgGM237Hr+HnGHHIAHPDm9y+2hBPd5xRuqI8Ep4uaHA5hS/PfnoWI903gbLwKgvNOHewjnd+Q0diha4LglgM/6HR5OSeOD0dh30mwKIz21TgbPsexOsAwBo6uoZFGp8tE34QDKxC8fEynL4uzgV58ONuqFl9RR+aVS1LB6eqj2vX1de2uhgJbDsbUbeNFTHB/cKJVM1khAXAQh2OjP2IWPLCD4MAKe/TbYBExjQpHvaPJF05X6xgMTm/Oj5KCfjfIIdOVA4Zwsngu1XeD4z6bbHFF4QT5HDCcNBqTFxTT5+x/iIozmXI25znVDn3r0SYnJ9Nbumi69PxwKssZ8rjX6y2X4XK0yvP5vwmVGo7J4RDNOoHmVjgtfzM5HDhxFnBBcN6hASgcmrwGZcsBAWsrfzaFgLOr8NjzzgUcltCSo1WTVpTPkNEf+te9452zkMX6DHkFTlcRnG334UZMHCHzOAqAQ2oMDouWVh8wMOcug7O5fMgOTvJthJ1p480XGRxQ72p8K0HCGbOzJy1EV+VPFE6j2jsHBjxyEUFN6qBlt6LLB74BIYarBMuH0DqkSBpa38jRCi4O5+Yvx7NtW8LR7AGuYFpT9POeToI7yLkxDXzz03W8DgCLSeBwzJLYrtiVSDFDViyVcNjCE7TvL6leR9LnoAk2YPvp4WE+pJPkFnGvaM1xvTG5fDUW3QrD8zrT3Gmx7IsDR6WcBn/oH3sG9KPNnA27tepjCPj2AsYA39h6tcn+NwM6Iwbvy6Ec8CdHY0znj4yH3TcEnFXFcYHxnEUuonDE2QkAJq6IBOqa+w4xuysYmPiRPVTSfqWv6Frz9y1mcLQWFOcvDIzlGWXqc8Tuw6qUwdlP9Mf5bZwJGbfomv59zO6KRnevmBO7euMjwPh/jEYbNStnZ4+u9tE+W0j+vw/O/dlZli0nytGiFJOAZRZrGYzGVX6MAo3ZxGY8Fqsly3lpNpu3mjiKo2vd2vvD7UhD2pgHuBASiRaPtdXJiL5IeqYpcnAq7EIFcLQ1ODr7n1KEdBEwJ7yKOt8VR4ujATodxtnjcwh3ueJK39XMDY9GmpXwJIEiOMufu+aC297eaDk60dGyNzBU+vJvdrqALK6itdfF709LNLTMaeR7N8yMQMMiHwHZet1anRJ10AijvErPF5BVYO7py1yHE5Lf94MTufykGekrv+PlXbh9Fi5lVgXCiZx3CScPM3JRHhU7LCI+lXBCVMKJoAjRjcgDf27Kq+DvCicH0w+24+RieAkntJDsyzhYFRFOYfp6Uezwq4QTIt0X1tpxTX7WxPko+H2l080SzjJhsnRqkmemuHZl8pUXxkutKrZZJRyVCfIu13ddtjFm9dklzraEoyLBF4BTKAVsqm0bzVUUcFj6onDil6kH/LlqesjWbeI67gdOzFKX128c1/iC+qZwDtl2qexqUMIJzbmEo1IhR1L2gjpuGCdTlXDCFLJcKBQc5YdLMlKE3NVbUMLZs2LbHFLLtdWV7nNWCeCEbODHzSqp1MLRV15kCef/6SG8EDkfNnEAAAAASUVORK5CYII=",country:"France"},{id:"soccer_spain_la_liga",name:"La Liga",logo:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0f/LaLiga_logo_2023.svg/800px-LaLiga_logo_2023.svg.png",country:"Spain"},{id:"soccer_uefa_europa_league",name:"Europa League",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAA6lBMVEX////r6+vq6uoAAADp6en09PT5+fnv7+/y8vL8/Pz/aQDw8PD6+vr/XwDR0dHb29v/ZADAwMDj4+MNDQ2rq6ubm5teXl6Ojo7IyMiAgIA5OTmIiIijo6O4uLhnZ2d2dnZTU1MXFxcnJydBQUFJSUlWVlYvLy9jY2Nubm6WlpYhISGwsLBFRUVzc3M7OzsrKyvxybXu29H5lmPyu57/xqv/i03/pHb/dyP/4dH/0733p3//soz/nWv/gz7/8uv/xan0sZHw0L//z7b/3sv5jlXu2cz8ei//7OP+upzyvqf5oXv/cRf8gDnu5N0ThjfKAAAYNElEQVR4nO1dCXvaRhPWtdqVJSSQMQgDNrbxgbHjNGmOJmmatumRtvn/f+fbmT10IAHCYMtfovZptsqrYV/tMbMzsyvDtUzTtDyDXx4WXShSXjIplAyCd7EYpAADi8RoPNg1vjNsYKW/MywydCzLcgRDLAqGvGSZAo13hegUYGBRim4y2DWICxfDC4tEl8RdUiySArbhYCPDX7WwZWbaVHYBE4o+FhkUZRewGg9mRmkfzo5LiYZLiU47eXEQNw/8rTN06ohuKJiVjsPc3Fo+AOREVZyImwdm/G/hkn8Ll9AWUFIzL1xGAWBgkRmNBwffgsbfkKFTpx6PCP6GGVp5tLNUdJPBnCHOqYIhFjncM3z1PjyDpACBdfG2wjYerLQFn2Qdyd8pnXlTAHNWTtMNAvvfuE2z9XpQZv5fM6SsM4mM8CrKqbGHYvgAVhvpXtg2Z2jb047JzAez2siDXK4R9224nCCBP/ZnjuE+zE8v82KkbVrhPrBKO0AJmHYmtrgY6cjSVexR896SV4IfxhM1v7DtBYa2fdaljD55u9QznKGdubIMeWcdxmxTyc2wS32SXNp2NUN+HUU7Z1g+DsEcWO3GUwuzcrAZH5za9gqGvLOOvbqSa4DdEn0IxQAZo0LJAIQkhrfF4+ZS8EmRjNQWxWtC6kquA66h8a06qhbAwzUZzvy6ktcH79amSdZkmNCnarWR9Rie0Aex2vj9lKGaeTJoq7J7LAH31mI4YPUlrw3mDD24GOUXwyKBogulAEpUAPwCgGaKlWCju8AmLmHYIbUlrw+utNqguHbQpwpsLrIp0RZ2UF/y+uAdW23sbg2G55tIborVxhb0RQnD8SaSm2C1gRqmC/qihCHAA4c+tNVm1RkAZeDXLygE9VYzvMAHX/3DZ8NdxoBJIbZ6z+Ar+eFNq23wklEwvO3YKzbrEJ4krdabv7yHiwFbdYKvJWD/S6u913oLxXGBz6I+TKCtn7f22u2f3JWSa1VjhzHgd629vb32e+xFqxie4C//0+ZPtN77T8Rq+wAE99o/I+JsBcMrWMvQP+GJvdZr/0kw/IwEeX0/AqK/gmEHVkE/qEde0J0xhIii8uo7sk9D+FFNVBYUlTsdykK0swh+IWu71/oFpCUrGLqm45if2uqZF6xacq1qKLB/vxhw5vVIMP2gCEKDADi/DCYFbXGGy9nP6UPvqiTXqsY2YsDlqjb4lCEowMc5RkV92Bdd7kX62C+0ITZNuUH4U1rTT0yAO0sZhuKli+lXPPgrbbBd+nFP1/M3Q4KDZQxPlb+UvtQU975uuw0L2vI+Pu9X7ZSgBveWMLxlSrKvKbZf+eaC5Hv4vMstnqIVl7WOyu0nXvR+yUyjGmyMspQsNze5jomW7P6tn35JWLkxuVY1CuASq608BpwxlyqCr+ZX3YLvaArOL4ML2iInWY/F9sd1Yk+rY8Dbttr8z+20m2XA5K6S4WVesurk7Q+NtGnMX/Vc4eTAbFDJsJuX/FXPU2+byJD+LFug9TvNgWmnkqGTl0yey5fU/uxt35tYMg6NQp92lg0AQzUh72J5cG4ZnGN4WJRMVUdvvTWtzapRBHOGqSfOTT1xRe8iDVIAYr2M1w7BRFVu76tfABtXKSmaNVSHpCj5oxqJL4zNqrEIXvSm6pyojId4jWSkP9Ty4BNdAGeWwTl92KELkt8rMX9tVI1F8NasNvpONSFdBPsVDGmJZNWI7zeqxg6tNqpU2acShsazUoZHpESyasS9jaqxw8w9PQt+LQP3SxnOaYnkj6qbvt2kGrvL3PNft+VEysrA6exCMwxjWiLZeCElvWtY5t4bpQvLwJaxX6ItnhllknVv+JM2KnPvr+zoKQEPShjOvFKwqVTi10bZND8Khu3XFeCkhGHiloL9D4Ji6wttEkM5DPmysBxMFhme0HLJ9Df1trbLsNLnvV7K3H/tjJ4uA08WGN6ycsmm7PHtn2mDMvdctSioAnhqGSwz98CgqczcU8K2k9q3lcw986t67UEFWC+DU33oVqb5/SmnGq9BmXvSKG3/41aB2XWB4aRSMn2hu3xzrDapw1p/VzB09DJYM+xWM5QmLtetjYkB05dqKq1kqJbBmqFVKdn8W0/MjcncU3GH1k9uFVgtgxXDw2rJ5hfZI35sUOaedAS2nrvV4MucthiQasnScd7+mzYnc6/AsBQ8zjHki99KyZph+daFR8ncK2G4ACY5hnSJZMXw5TY2Z2yJoTRLW1+WMBTLYMmwR5ZI/kVJ2ypDoLV55p5665/cJeAZ2jTCpTGiSyS/l/PWc7M5mXtvtcavBhsRZzYlrgGZ0TGrlqzN+D/8xmTuaavtVVANtgin1jco63GiyyRrq+1jgzL3qFy1/ouqpgLsHfM1oUH9GRBdItlRlneTfG2+fO3gh6oEu1zXE8OHXLdkmWRl5P7cpMw9bSw/L3OBSnAws68NI6KmiMhUSv6S+guak7lHpdnW/odWj0P3wr4yjCufnMHColqyels/NilzL3irPFFeJdjjinDkOnYAmxRiUh3FlZJaP5BGZe79K6v1thrM10+J3+EasQM7LKok6zDkG1rr9JadZ+590H7cSrBt71tsZncMZtsXlTaN9i2/po3yJqaJNF4VOAF9Tyb20DAubDukFZJVMgBMWo1iqGJGmMxWCj6y7SEzcWV4BXssyiXTT2kMq2GZe6+V0q8Ae9xWm/tgdhPIP7mmpZItHcP6hzYsc09PEK2XtAxMu8gNFokdP8FFRqnkX/IR0iZl7jGVKvJvKZhMbftU7GabMVheHJdK9lQTvjI2q8YOM/d8Nde039FFMI0EqUNcGwJd2yuTrPp669c1GT6UXYrgP1Xt/lgEswN0IIp1PkPXYlKyaVgZDu3/XGPTapQwLGjLjTP3tMJ4swhmhzj0hEc/ZHP+36MFyab7Rtkzvy5zYz9a5p6nk7ZeewUwgU7KJ5qZcAa7MbpqipLdF0rAZ7eZmXsqHx3m0wIYOumEkHNkyHU++Pi7XkFympzY0Mw9k+rkQjBIsmFdZNRnpgh2n6HOlwv9VLLu5a2/G7sbgb5RBkn71+zWXpxJ7TFTASiCbWrHOcm/69zLP1dU+jH3W/ygGOq5AsEEN+k5TAURQzHljLKSNUHILt3x6S0bZu5BMZOtLQPemF5hAp87w7+VDA/EZqFDLdkivxUeXJaM90iZewIcvM4m6/sycw+DMbeeoQ4A6bki6h0yKTnNhNprvScrk/EeJXNPgXX+JK/rq69UgLHtRq5nq8sVeoOvNVDyx1eZXRqrk/EeJ3NPB67of5pie+85Zi4JSyYJ0swoORCvKUr+bS/zVp7APmDrZ13fvdYPEPISe9YdL81uGxkW/jmGND+dbSQINmYf8JKXp/tc+z8KYBqH/KLEjPkFxZDrCV6MwgglK4N2r/V5rWa571nQCL9P8NU0P+i1opkGoyTYT+vhmuIUJb0mfL1C8oYxYIyaUBETUfOQidOQZ+qJSgAYAAyWwZqlYCanRq7ZJBh/S4RS8F2KKRBKXPJXneewUnKtakhw6TxUfmLt8uBrFuw/h8mj/RnAsPTGKomFd8DLcpVODOG2omCyt/d+X/Pg3PWrAcVdnW1Cv/LB2PoJ0u9De7/64nqDg79w7OfgqZ3e4n/ZawE4t59k8ZoD2Grt/VSj0juKAVd3jwow8X5EhtdLGU4ATF/SOpJrVUPFgDFc6i+JAdPS4GvGfioBw+gr7gNeuCjMGH5NyXXAtWLAXnGaXhZ8FWBjeSdVwdINJG8eAxb68P6qFsGmu7+C4cWGkhtyekt+V1f5FW8muQGntyAYPaPLr8HuGZZabVZZn64yl6rBfLnq+9SP4IqhyGIsM7grinQzyeuCdQxYJDProvTJpWVWAGQRa4LdJcX7SV4K3jQGXO7GayD4W/++RUMr/Z1hnRiw5aS7pDSgKvjaTLC/xn6L9VJ1mgretdWWAcvkawgL+Wyrkh/VplFbKBihUdIZzfqD4+NB/2AeAhwT0O8p+dGtNgEm8+GkeOLuSW82jknZadc7tdpMpS23dGI57BaIRmeK1fXhdDKdnl1otmezkG0meTsx4HuffkeCeHQouF2NkpgF/EUGYG+ZcXJwKRb/h3NmeLv8EFud2JO1bAPuAphrrVicEXU0xwfFIfMy8Et94sfjI/z725CxOpJrVWOHGt+NcZdMb+wQITgeRSmYMgb+8CDBE4guozqSm2HTsBgPwziICRftW50hLBS7OhmPJcN+R4AjDJ8OvKfFkGL+zD7swIMfUSd/HDMJFlFuezqLQJM4GGob79qbuMY4XLoRPgtmEbQY7kYHMMOe2Bt2I1OC9cbnEe77YDH4q3quu9bQWrsaMmBMfLjcgF8uFgkveQxKDG4GCKBYdCkUERtQhV0AMxfy83qOSyQYWmyEHnwJJl3entGIEw8JSvYMfCcdw1squVY1FLjCm1oRfE2DxEuCr+jlnvOpM6YSnNh2P5r3J7cSzG7FhgSzQ5VkyqCrzpZLrlWN6hjwmnZplTFBnXOu5MBd0rUTX1pIsk/eSTABVXgxHEc0I5mEp5AK1nirzXS4ir+CInTVWMYPJcNpgGCRXgOXZujxTkUt2C/k7Z5haRsuTxHIMrzDrC64bnhbil2gsH/0eBwpsD/i/zs8FQfUCMn0/CKkJqSfni1bLqxdjVwvxTlVMMTiAkNTv4IAAZk9hmxBNK/9ARHS4hPR6wzcmDf2iJ/0EUyO0A/szDsqlxsi/deUSz7gs02F5FrVSMFLT2/JzryWs+40HXIRY8fkYMhAPACXGA1t+7QH9naI75I3HxyPLNrXZBGa5hOQzDpsqQJYvxoKvJvvrvXhdGAOBpc+tJNpHMqB14Uot2vb5+l+C9bXqhFy9Z+ETYNtR3ykaj8DLgaFSeR4lDgIjoZdvYc0BvLnZ3g63dOx2iAFWFidvD9GqlkMyAKTB7JSBcYGHPk2bGt7MKut4Jmq42yWYAI6H6fOCQw9FfbjSzYncnB65VQBHMHYPI+9uQjQPKHvrnk92Noktv6KOILnhqMrdajZzfEo5Hf4fZhkjc4tn1w7wU5qstbpLZu48TzePS+6YIhhjJcmx8VI6UkfvrvGotjA3EzbMZ+YN9FUzQV3E5xK747nYexEYdg5uMIvXZ2NGQVPDqR/4+T6tLyJOMTsKw4Ogd+zUSSew8QEYjhduHuYEABzG+fAX98Qe/zMPSm6OxuBJw18NZcJ8c0iOIRl4zEUL3HG3Vkbls5DW0iZg2QP04/4MmISMVoGNjp86jkF9PkJqSG5AZl7GoyJsqD8y8HCm5HwXxzXlfzYmXsKzM2265AsA0f7+HkEUlfyo2fumeq7axcxXQ5mp2C7PtUIacIXiHQVOL5+mC/L5XvpNlLmADz3yUowDbs1vrtWuxo7zdzjg91YA8zIBpKbk7n36OAHjAE/Eri2TUN9cddAV6z4FeFUVmCFCEzwykowLauHy5hfKpnmwEtD4lu32uj44KCL1wFco26H3x5BsSPBNEQEMbwEbiN2Po9yVhuj4+Ob05PTs6uunBi55JGW3E18lgGP8C4ez/YAmXvsKr8Gwm2SWBhIMBXnssXZA6DBxu76atamdJb5i76SnPuw7m0swejFgmtcfS7MVjP3FlJ+J3zhiquIvnzQExmlEQkOCu+CSoB5mLt/5gjJ+bvgfcSfVr94bjxQ5t4CQ2ZSwdCXYLlf2ySjAvTCwS0ybjG1fT9GFVdgaM99UQ21dHay1TB2l7lXZDjVDJkES4Z0gSGelWjp83bt/YyMEoaw6vcyZ/L3s9Uwdme1IcM7NSuMDrp0BUOYbmY9VWdTDlP7PHFMFsn7XV8xnIBk+YWomQ/VONMv5CEZnrlSOXigBpYzNCGsh/5FPGbeFxNKH4LfrooFXzPFcICScbu+PSG8GnHapuP7MVw3cw8ZPiPZlDk9DgW4MA5Rhpxv+9QUf3tJlGQxN3eYYuijZPyVE59XIzMqJplqGDvL3GPYg8C9BO9KqjhkOJRg2Q0deU6ijZIdEUGcqUaLlGSpC2byXAmU4li+UDTw4rHQ68t+8QC+NsHwjJu6Mjm9yNBK9WGGodyJP5eftzp0tWSCPtSeYaUMLQxOoRdc9oOx6KsD9gBWG8t/Jw4/2LScYcx7Stw9UQ2Lw/CYaMli49eFYggTpi8P4u1xxIX8EfGn1Oc7tdqKDE9XMsxc54bUbv0MQ+y2J54pGE77w+FA6hPe4qLpj9VW4hHdjGFmHK7M3LsXQ/CFY2HGtGQfGe67sg0zF4RqxBEFkUpPeUZkNfLjcKuZe+5xsRqu60mG0mgSXSz2vILVZoccEYg2dLVkV7Qhl1xkGHqB+D7NoeEF8vN0YbD7zD0cNvvTm5spXDcTbjtlrLYSbaGuCYOpmuA4HGQki3HoLtg0HWb5QkIf9taIbjogaT13lbknNL4nkwlxZ7ZgOFQaX7Sh1vg3Nzf45xRHPMFsvtPMFIhzSK/A8PQAIhqL3y23898726FNk3OBihF0TiRYdM5YtSElnpg5xiBODDs4cU/5S/H/Z0QyvOyMx0nooOSyfW8j/1EYCrskkut47IcnvrZpTKnV9/FT5KI8VQ0u7fBEMRwQtbWda8XiWpRfF2xjhuuMQ221pb2UMVPNnjeM9yzPEN+Lv2WOZmjJqs5gveOLKOkR8SG5RH6G9TC1S5keWmZsl1wJ3XHmnphLryHjHq/jY9fzZFLX9SgM51KXRV7gCW1BeEkCqBcE6oszd92YRl15nEticMnSptHJePLblxfT6QSuqRint8aOM/cWbBqbNwRZ0HyXgM5YbcKuREeHW/zaOiaJBRmrTdVC0A+JaBDP0r+308y9UoaUnefvXQcFho5Y7cJv+vSsIOHGKGUoGvsZUdWQw737wFabYGjSXMMcil/MMKRCnfVQMs19XFa0dwlDkeXOJ09ZDTm1Xuw4c2/B1yYYmmSsTkiyTw6k31N0TWxOyxeqLZHgVNHdzZVkdN8MdKXl2I3TagiPF5ex08w9GnY6CR4x04GLFyXYJ/F8eHU1OEgok9IiRKAMk0YATiIJZtHo9uzw7GiW+FRJTjgiASeiqIUJP9NJ/MzpRfjbHLLzzD15+j2yoFSDTcpNQW8BnAt7mxrsMzmD5CWbWgFYVCdQZVe5/GYTMveaBP6G9pBugyHvQQqMgbtqMPa2kuhL2v+bmLlnRWEos4JMOO8qgnOvYirAfhw7gQY7ndE8JJCLAYdjgWj4k89N4pisOK5KgnnczD34uMPAE1GDrtYGIcYXPFAFVOISofIPE48Y3FSYBfwBTPFLvxQ83mIa3xYz97jN3ZdHtqSfxxV+Q1TW4iBIkoak5j7spsHbYGU76VE2c7rMQfhomXsDYCjAnOHJ5Tm/piJKhvaJOAgSyQ+E5z4iCwx7vR5/qkNLp4fHztzLM5waENxiaNLIbU5gHYDzewovHTgN3CJDCE7w52gTMvfWYyji4HwddHEuNppAO8U4X3YHnXihDQVDtrzS2/uCx73G4UkPVnUiMszN0D4MRYLm+CWRsyFfP5f10snkUrfhNsYhcfEfMQdmijrKWh4kzhYF2ONtOPSEB2+uFw58coXvy9gxHKc0C2DCnXlBZ9KDAXcEeZcHIAXnUr1Z6NrLSa5VjYXbm+pD2QUyHcA/ljtB+RpQa4teYFnQFc9xqXFKYfXVN2Swja+EjsTHPNB942mG9tqZ7IvVuLc30ag0Jlie4bMYLQpiUeiBF9MpOGg65ABXvJ1n0ylsiwKGEHjUDPfh0CHIjG6i1YYM5fjqgrdKgtlQN419jlqdr6gICSJgOIBAqIl+uWvwLO6rrJqmMryN8chHim2IRW6tZtNIYgKuqi5XB5072I8IQ/SArw33YaYFhtxq40+xXZzess76MD2E2VlcmNHUwRGnVtucgYoPCWMEeuuQibW78Nt0sp5ux0jHYX/Fkm9JNYrgkpe1cSZ7GpAmqdXWAZ/vHWZWe1dchxgk0v6OhPG1v8o9mTOaWm1Dtq4+3JpNs87WxtHl0dElaIGJm/SOjo6wGAa9o95YOPHD3tF5xCjtgiuq1/Xgp6nT5a/g2TDibEN4Cp47H1VYbZvtsNyaTYMi0FQzRDeColcCVllrKFl6Ksy02FyrrZlgjAGbqbY09Rc8zPtuE28ImFttPhxr5AYu/xeLBIoYQ2UQcQ0wnuqDFaQAWPZ18LXh4O1+OaCB4O++tkZW+jvDe8SAGzK06o7De82lQZ0Z73HA34A+/BZsmu8MG1fppux0bgh4RQzYqbO4bib4G9L43xk2qdLfGeYZ/g+vYu5FmQd8/QAAAABJRU5ErkJggg==",country:"Europe"}],Qy=async n=>{try{const t=await(await fetch(`https://api.the-odds-api.com/v4/sports/${n}/odds/?regions=uk,eu&markets=h2h&dateFormat=iso&oddsFormat=decimal&apiKey=${lj}`)).json();return Array.isArray(t)?t:[]}catch(e){return console.error(`Error fetching odds for ${n}:`,e),[]}},zA=async(n,e)=>{const t=new Date(Date.now()-432e6).toISOString().split("T")[0],r=`"${n}" AND "${e}"`;try{return(await(await fetch(`https://newsapi.org/v2/everything?q=${encodeURIComponent(r)}&from=${t}&sortBy=relevancy&pageSize=5&apiKey=${cj}`)).json()).articles||[]}catch(i){return console.error("Error fetching news:",i),[]}},HA=async n=>{var i,o,c,h,d,p,b;const e="AIzaSyBXe2wSfgcBSS9lokA0j62CAEvhBDmt5p0",t="d6a79c87dc7514e74",r=`site:sofascore.com ${n} sofascore`;try{const T=(i=(await(await fetch(`https://www.googleapis.com/customsearch/v1?key=${e}&cx=${t}&q=${encodeURIComponent(r)}`)).json()).items)==null?void 0:i[0];if(!T)return null;const N=((h=(c=(o=T.pagemap)==null?void 0:o.cse_image)==null?void 0:c[0])==null?void 0:h.src)||((b=(p=(d=T.pagemap)==null?void 0:d.metatags)==null?void 0:p[0])==null?void 0:b["og:image"])||null;return{link:T.link,imageUrl:N}}catch(v){return console.error("Error searching assets:",v),null}};var $t;(function(n){n.STRING="string",n.NUMBER="number",n.INTEGER="integer",n.BOOLEAN="boolean",n.ARRAY="array",n.OBJECT="object"})($t||($t={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uw;(function(n){n.LANGUAGE_UNSPECIFIED="language_unspecified",n.PYTHON="python"})(uw||(uw={}));var hw;(function(n){n.OUTCOME_UNSPECIFIED="outcome_unspecified",n.OUTCOME_OK="outcome_ok",n.OUTCOME_FAILED="outcome_failed",n.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(hw||(hw={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=["user","model","function","system"];var fw;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(fw||(fw={}));var pw;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(pw||(pw={}));var mw;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(mw||(mw={}));var gw;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER"})(gw||(gw={}));var th;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.OTHER="OTHER"})(th||(th={}));var yw;(function(n){n.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",n.RETRIEVAL_QUERY="RETRIEVAL_QUERY",n.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",n.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",n.CLASSIFICATION="CLASSIFICATION",n.CLUSTERING="CLUSTERING"})(yw||(yw={}));var bw;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(bw||(bw={}));var vw;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(vw||(vw={}));/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class cc extends ir{constructor(e,t){super(e),this.response=t}}class FA extends ir{constructor(e,t,r,i){super(e),this.status=t,this.statusText=r,this.errorDetails=i}}class _o extends ir{}class GA extends ir{}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj="https://generativelanguage.googleapis.com",dj="v1beta",fj="0.24.1",pj="genai-js";var hl;(function(n){n.GENERATE_CONTENT="generateContent",n.STREAM_GENERATE_CONTENT="streamGenerateContent",n.COUNT_TOKENS="countTokens",n.EMBED_CONTENT="embedContent",n.BATCH_EMBED_CONTENTS="batchEmbedContents"})(hl||(hl={}));class mj{constructor(e,t,r,i,o){this.model=e,this.task=t,this.apiKey=r,this.stream=i,this.requestOptions=o}toString(){var e,t;const r=((e=this.requestOptions)===null||e===void 0?void 0:e.apiVersion)||dj;let o=`${((t=this.requestOptions)===null||t===void 0?void 0:t.baseUrl)||hj}/${r}/${this.model}:${this.task}`;return this.stream&&(o+="?alt=sse"),o}}function gj(n){const e=[];return n!=null&&n.apiClient&&e.push(n.apiClient),e.push(`${pj}/${fj}`),e.join(" ")}async function yj(n){var e;const t=new Headers;t.append("Content-Type","application/json"),t.append("x-goog-api-client",gj(n.requestOptions)),t.append("x-goog-api-key",n.apiKey);let r=(e=n.requestOptions)===null||e===void 0?void 0:e.customHeaders;if(r){if(!(r instanceof Headers))try{r=new Headers(r)}catch(i){throw new _o(`unable to convert customHeaders value ${JSON.stringify(r)} to Headers: ${i.message}`)}for(const[i,o]of r.entries()){if(i==="x-goog-api-key")throw new _o(`Cannot set reserved header name ${i}`);if(i==="x-goog-api-client")throw new _o(`Header name ${i} can only be set using the apiClient field`);t.append(i,o)}}return t}async function bj(n,e,t,r,i,o){const c=new mj(n,e,t,r,o);return{url:c.toString(),fetchOptions:Object.assign(Object.assign({},wj(o)),{method:"POST",headers:await yj(c),body:i})}}async function Ph(n,e,t,r,i,o={},c=fetch){const{url:h,fetchOptions:d}=await bj(n,e,t,r,i,o);return vj(h,d,c)}async function vj(n,e,t=fetch){let r;try{r=await t(n,e)}catch(i){xj(i,n)}return r.ok||await _j(r,n),r}function xj(n,e){let t=n;throw t.name==="AbortError"?(t=new GA(`Request aborted when fetching ${e.toString()}: ${n.message}`),t.stack=n.stack):n instanceof FA||n instanceof _o||(t=new ir(`Error fetching from ${e.toString()}: ${n.message}`),t.stack=n.stack),t}async function _j(n,e){let t="",r;try{const i=await n.json();t=i.error.message,i.error.details&&(t+=` ${JSON.stringify(i.error.details)}`,r=i.error.details)}catch{}throw new FA(`Error fetching from ${e.toString()}: [${n.status} ${n.statusText}] ${t}`,n.status,n.statusText,r)}function wj(n){const e={};if((n==null?void 0:n.signal)!==void 0||(n==null?void 0:n.timeout)>=0){const t=new AbortController;(n==null?void 0:n.timeout)>=0&&setTimeout(()=>t.abort(),n.timeout),n!=null&&n.signal&&n.signal.addEventListener("abort",()=>{t.abort()}),e.signal=t.signal}return e}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(n){return n.text=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Mf(n.candidates[0]))throw new cc(`${uo(n)}`,n);return Ej(n)}else if(n.promptFeedback)throw new cc(`Text not available. ${uo(n)}`,n);return""},n.functionCall=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Mf(n.candidates[0]))throw new cc(`${uo(n)}`,n);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),xw(n)[0]}else if(n.promptFeedback)throw new cc(`Function call not available. ${uo(n)}`,n)},n.functionCalls=()=>{if(n.candidates&&n.candidates.length>0){if(n.candidates.length>1&&console.warn(`This response had ${n.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Mf(n.candidates[0]))throw new cc(`${uo(n)}`,n);return xw(n)}else if(n.promptFeedback)throw new cc(`Function call not available. ${uo(n)}`,n)},n}function Ej(n){var e,t,r,i;const o=[];if(!((t=(e=n.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const c of(i=(r=n.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)c.text&&o.push(c.text),c.executableCode&&o.push("\n```"+c.executableCode.language+`
`+c.executableCode.code+"\n```\n"),c.codeExecutionResult&&o.push("\n```\n"+c.codeExecutionResult.output+"\n```\n");return o.length>0?o.join(""):""}function xw(n){var e,t,r,i;const o=[];if(!((t=(e=n.candidates)===null||e===void 0?void 0:e[0].content)===null||t===void 0)&&t.parts)for(const c of(i=(r=n.candidates)===null||r===void 0?void 0:r[0].content)===null||i===void 0?void 0:i.parts)c.functionCall&&o.push(c.functionCall);if(o.length>0)return o}const Tj=[th.RECITATION,th.SAFETY,th.LANGUAGE];function Mf(n){return!!n.finishReason&&Tj.includes(n.finishReason)}function uo(n){var e,t,r;let i="";if((!n.candidates||n.candidates.length===0)&&n.promptFeedback)i+="Response was blocked",!((e=n.promptFeedback)===null||e===void 0)&&e.blockReason&&(i+=` due to ${n.promptFeedback.blockReason}`),!((t=n.promptFeedback)===null||t===void 0)&&t.blockReasonMessage&&(i+=`: ${n.promptFeedback.blockReasonMessage}`);else if(!((r=n.candidates)===null||r===void 0)&&r[0]){const o=n.candidates[0];Mf(o)&&(i+=`Candidate was blocked due to ${o.finishReason}`,o.finishMessage&&(i+=`: ${o.finishMessage}`))}return i}function mh(n){return this instanceof mh?(this.v=n,this):new mh(n)}function Aj(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(x){r[x]&&(i[x]=function(T){return new Promise(function(N,I){o.push([x,T,N,I])>1||h(x,T)})})}function h(x,T){try{d(r[x](T))}catch(N){v(o[0][3],N)}}function d(x){x.value instanceof mh?Promise.resolve(x.value.v).then(p,b):v(o[0][2],x)}function p(x){h("next",x)}function b(x){h("throw",x)}function v(x,T){x(T),o.shift(),o.length&&h(o[0][0],o[0][1])}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function Sj(n){const e=n.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),t=Rj(e),[r,i]=t.tee();return{stream:Cj(r),response:Nj(i)}}async function Nj(n){const e=[],t=n.getReader();for(;;){const{done:r,value:i}=await t.read();if(r)return Wy(Ij(e));e.push(i)}}function Cj(n){return Aj(this,arguments,function*(){const t=n.getReader();for(;;){const{value:r,done:i}=yield mh(t.read());if(i)break;yield yield mh(Wy(r))}})}function Rj(n){const e=n.getReader();return new ReadableStream({start(r){let i="";return o();function o(){return e.read().then(({value:c,done:h})=>{if(h){if(i.trim()){r.error(new ir("Failed to parse stream"));return}r.close();return}i+=c;let d=i.match(_w),p;for(;d;){try{p=JSON.parse(d[1])}catch{r.error(new ir(`Error parsing JSON response: "${d[1]}"`));return}r.enqueue(p),i=i.substring(d[0].length),d=i.match(_w)}return o()}).catch(c=>{let h=c;throw h.stack=c.stack,h.name==="AbortError"?h=new GA("Request aborted when reading from the stream"):h=new ir("Error reading from the stream"),h})}}})}function Ij(n){const e=n[n.length-1],t={promptFeedback:e==null?void 0:e.promptFeedback};for(const r of n){if(r.candidates){let i=0;for(const o of r.candidates)if(t.candidates||(t.candidates=[]),t.candidates[i]||(t.candidates[i]={index:i}),t.candidates[i].citationMetadata=o.citationMetadata,t.candidates[i].groundingMetadata=o.groundingMetadata,t.candidates[i].finishReason=o.finishReason,t.candidates[i].finishMessage=o.finishMessage,t.candidates[i].safetyRatings=o.safetyRatings,o.content&&o.content.parts){t.candidates[i].content||(t.candidates[i].content={role:o.content.role||"user",parts:[]});const c={};for(const h of o.content.parts)h.text&&(c.text=h.text),h.functionCall&&(c.functionCall=h.functionCall),h.executableCode&&(c.executableCode=h.executableCode),h.codeExecutionResult&&(c.codeExecutionResult=h.codeExecutionResult),Object.keys(c).length===0&&(c.text=""),t.candidates[i].content.parts.push(c)}i++}r.usageMetadata&&(t.usageMetadata=r.usageMetadata)}return t}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KA(n,e,t,r){const i=await Ph(e,hl.STREAM_GENERATE_CONTENT,n,!0,JSON.stringify(t),r);return Sj(i)}async function YA(n,e,t,r){const o=await(await Ph(e,hl.GENERATE_CONTENT,n,!1,JSON.stringify(t),r)).json();return{response:Wy(o)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(n){if(n!=null){if(typeof n=="string")return{role:"system",parts:[{text:n}]};if(n.text)return{role:"system",parts:[n]};if(n.parts)return n.role?n:{role:"system",parts:n.parts}}}function gh(n){let e=[];if(typeof n=="string")e=[{text:n}];else for(const t of n)typeof t=="string"?e.push({text:t}):e.push(t);return Oj(e)}function Oj(n){const e={role:"user",parts:[]},t={role:"function",parts:[]};let r=!1,i=!1;for(const o of n)"functionResponse"in o?(t.parts.push(o),i=!0):(e.parts.push(o),r=!0);if(r&&i)throw new ir("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!i)throw new ir("No content is provided for sending chat message.");return r?e:t}function jj(n,e){var t;let r={model:e==null?void 0:e.model,generationConfig:e==null?void 0:e.generationConfig,safetySettings:e==null?void 0:e.safetySettings,tools:e==null?void 0:e.tools,toolConfig:e==null?void 0:e.toolConfig,systemInstruction:e==null?void 0:e.systemInstruction,cachedContent:(t=e==null?void 0:e.cachedContent)===null||t===void 0?void 0:t.name,contents:[]};const i=n.generateContentRequest!=null;if(n.contents){if(i)throw new _o("CountTokensRequest must have one of contents or generateContentRequest, not both.");r.contents=n.contents}else if(i)r=Object.assign(Object.assign({},r),n.generateContentRequest);else{const o=gh(n);r.contents=[o]}return{generateContentRequest:r}}function ww(n){let e;return n.contents?e=n:e={contents:[gh(n)]},n.systemInstruction&&(e.systemInstruction=$A(n.systemInstruction)),e}function kj(n){return typeof n=="string"||Array.isArray(n)?{content:gh(n)}:n}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],Dj={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function Mj(n){let e=!1;for(const t of n){const{role:r,parts:i}=t;if(!e&&r!=="user")throw new ir(`First content should be with role 'user', got ${r}`);if(!dw.includes(r))throw new ir(`Each item should include role field. Got ${r} but valid roles are: ${JSON.stringify(dw)}`);if(!Array.isArray(i))throw new ir("Content should have 'parts' property with an array of Parts");if(i.length===0)throw new ir("Each Content should have at least one part");const o={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const h of i)for(const d of Ew)d in h&&(o[d]+=1);const c=Dj[r];for(const h of Ew)if(!c.includes(h)&&o[h]>0)throw new ir(`Content with role '${r}' can't contain '${h}' part`);e=!0}}function Tw(n){var e;if(n.candidates===void 0||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;if(t===void 0||t.parts===void 0||t.parts.length===0)return!1;for(const r of t.parts)if(r===void 0||Object.keys(r).length===0||r.text!==void 0&&r.text==="")return!1;return!0}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw="SILENT_ERROR";class Lj{constructor(e,t,r,i={}){this.model=t,this.params=r,this._requestOptions=i,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,r!=null&&r.history&&(Mj(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e,t={}){var r,i,o,c,h,d;await this._sendPromise;const p=gh(e),b={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(h=this.params)===null||h===void 0?void 0:h.systemInstruction,cachedContent:(d=this.params)===null||d===void 0?void 0:d.cachedContent,contents:[...this._history,p]},v=Object.assign(Object.assign({},this._requestOptions),t);let x;return this._sendPromise=this._sendPromise.then(()=>YA(this._apiKey,this.model,b,v)).then(T=>{var N;if(Tw(T.response)){this._history.push(p);const I=Object.assign({parts:[],role:"model"},(N=T.response.candidates)===null||N===void 0?void 0:N[0].content);this._history.push(I)}else{const I=uo(T.response);I&&console.warn(`sendMessage() was unsuccessful. ${I}. Inspect response object for details.`)}x=T}).catch(T=>{throw this._sendPromise=Promise.resolve(),T}),await this._sendPromise,x}async sendMessageStream(e,t={}){var r,i,o,c,h,d;await this._sendPromise;const p=gh(e),b={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(i=this.params)===null||i===void 0?void 0:i.generationConfig,tools:(o=this.params)===null||o===void 0?void 0:o.tools,toolConfig:(c=this.params)===null||c===void 0?void 0:c.toolConfig,systemInstruction:(h=this.params)===null||h===void 0?void 0:h.systemInstruction,cachedContent:(d=this.params)===null||d===void 0?void 0:d.cachedContent,contents:[...this._history,p]},v=Object.assign(Object.assign({},this._requestOptions),t),x=KA(this._apiKey,this.model,b,v);return this._sendPromise=this._sendPromise.then(()=>x).catch(T=>{throw new Error(Aw)}).then(T=>T.response).then(T=>{if(Tw(T)){this._history.push(p);const N=Object.assign({},T.candidates[0].content);N.role||(N.role="model"),this._history.push(N)}else{const N=uo(T);N&&console.warn(`sendMessageStream() was unsuccessful. ${N}. Inspect response object for details.`)}}).catch(T=>{T.message!==Aw&&console.error(T)}),x}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pj(n,e,t,r){return(await Ph(e,hl.COUNT_TOKENS,n,!1,JSON.stringify(t),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vj(n,e,t,r){return(await Ph(e,hl.EMBED_CONTENT,n,!1,JSON.stringify(t),r)).json()}async function Uj(n,e,t,r){const i=t.requests.map(c=>Object.assign(Object.assign({},c),{model:e}));return(await Ph(e,hl.BATCH_EMBED_CONTENTS,n,!1,JSON.stringify({requests:i}),r)).json()}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,t,r={}){this.apiKey=e,this._requestOptions=r,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=$A(t.systemInstruction),this.cachedContent=t.cachedContent}async generateContent(e,t={}){var r;const i=ww(e),o=Object.assign(Object.assign({},this._requestOptions),t);return YA(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),o)}async generateContentStream(e,t={}){var r;const i=ww(e),o=Object.assign(Object.assign({},this._requestOptions),t);return KA(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},i),o)}startChat(e){var t;return new Lj(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(t=this.cachedContent)===null||t===void 0?void 0:t.name},e),this._requestOptions)}async countTokens(e,t={}){const r=jj(e,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),i=Object.assign(Object.assign({},this._requestOptions),t);return Pj(this.apiKey,this.model,r,i)}async embedContent(e,t={}){const r=kj(e),i=Object.assign(Object.assign({},this._requestOptions),t);return Vj(this.apiKey,this.model,r,i)}async batchEmbedContents(e,t={}){const r=Object.assign(Object.assign({},this._requestOptions),t);return Uj(this.apiKey,this.model,e,r)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new ir("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Sw(this.apiKey,e,t)}getGenerativeModelFromCachedContent(e,t,r){if(!e.name)throw new _o("Cached content must contain a `name` field.");if(!e.model)throw new _o("Cached content must contain a `model` field.");const i=["model","systemInstruction"];for(const c of i)if(t!=null&&t[c]&&e[c]&&(t==null?void 0:t[c])!==e[c]){if(c==="model"){const h=t.model.startsWith("models/")?t.model.replace("models/",""):t.model,d=e.model.startsWith("models/")?e.model.replace("models/",""):e.model;if(h===d)continue}throw new _o(`Different value for "${c}" specified in modelParams (${t[c]}) and cachedContent (${e[c]})`)}const o=Object.assign(Object.assign({},t),{model:e.model,tools:e.tools,toolConfig:e.toolConfig,systemInstruction:e.systemInstruction,cachedContent:e});return new Sw(this.apiKey,o,r)}}const QA="AIzaSyDDrLDWPY3LQfaTASihN-KlPScP84zFI6U",Bj=new qj(QA),Xy=async(n,e)=>{if(QA.includes("_"))return console.error(" Gemini API Key is missing!"),alert("Please set your Gemini API Key inside src/services/gemini.ts"),null;const t=Bj.getGenerativeModel({model:"gemini-2.5-flash",generationConfig:{responseMimeType:"application/json",responseSchema:{type:$t.OBJECT,properties:{matchName:{type:$t.STRING},dateTime:{type:$t.STRING,description:"e.g. May 6, 2025, 21:00"},stadium:{type:$t.STRING},bettingType:{type:$t.STRING},safeBet:{type:$t.OBJECT,properties:{selection:{type:$t.STRING},odds:{type:$t.STRING},reason:{type:$t.STRING}},required:["selection","odds","reason"]},additionalOptions:{type:$t.ARRAY,items:{type:$t.OBJECT,properties:{option:{type:$t.STRING},odds:{type:$t.STRING},reason:{type:$t.STRING},probability:{type:$t.STRING,format:"enum",enum:["likely","less-likely"]}},required:["option","odds","reason","probability"]}},comboBet:{type:$t.OBJECT,properties:{bet1:{type:$t.STRING},bet2:{type:$t.STRING},totalOdds:{type:$t.STRING},comment:{type:$t.STRING},riskLevel:{type:$t.STRING,format:"enum",enum:["Low","Medium","High"]},riskReason:{type:$t.STRING}},required:["bet1","bet2","totalOdds","comment","riskLevel","riskReason"]}},required:["matchName","dateTime","stadium","bettingType","safeBet","additionalOptions","comboBet"]}}}),r=n.map(c=>{var h,d,p;return{competition:c.sport_title,match:`${c.home_team} vs ${c.away_team}`,date:c.commence_time,odds:((p=(d=(h=c.bookmakers)==null?void 0:h[0])==null?void 0:d.markets.find(b=>b.key==="h2h"))==null?void 0:p.outcomes.map(b=>`${b.name}: ${b.price}`).join(", "))||"Odds not available"}}),i=Object.entries(e).map(([c,h])=>({matchId:c,articles:h.map(d=>({title:d.title,description:d.description})).slice(0,3)})),o=`
  You are an expert sports betting analyst.
  
  MATCH DATA: ${JSON.stringify(r)}
  NEWS INTEL: ${JSON.stringify(i)}
  
  TASK:
  Generate a high-conversion betting guide in JSON format based on the schema provided.
  `;try{const d=(await t.generateContent(o)).response.text();return d?JSON.parse(d):null}catch(c){return console.error("Gemini Analysis Error:",c),c.toString().includes("429")&&alert(" You hit the free usage limit. Please wait a minute and try again."),null}},zj=({children:n,className:e})=>f.jsx("span",{className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 text-[10px] font-black uppercase tracking-[0.22em] ${e}`,children:n}),Hj=[{match:"Man City vs Arsenal",tip:"Over 2.5",odds:"1.85",status:"WON"},{match:"Real Madrid vs Betis",tip:"Home Win",odds:"1.45",status:"WON"},{match:"Liverpool vs Chelsea",tip:"BTTS",odds:"1.70",status:"WON"},{match:"Bayern vs Dortmund",tip:"Over 3.5",odds:"2.10",status:"WON"}],Fj=[{name:"Ahmed K.",stars:5,text:"The new dashboard layout is insane! Looks exactly like the pro tools."},{name:"Sarah M.",stars:5,text:"Accuracy on the Safe Entry is 10/10."},{name:"John D.",stars:4,text:"Love the Neural Combo feature."}],Gj=({onEnter:n,onGoToContact:e,onGoToBlog:t,onGoToNews:r})=>{const[i,o]=H.useState(0),[c,h]=H.useState(!1),[d,p]=H.useState(null),[b,v]=H.useState(null),[x,T]=H.useState(null),N=async()=>{h(!0),p(null),v(null),T(null);try{const C=["soccer_epl","soccer_spain_la_liga","soccer_uefa_champs_league","soccer_germany_bundesliga","soccer_italy_serie_a"];let U=[];for(const P of C)try{const V=await Qy(P);if(V&&V.length>0){U=V;break}}catch{continue}const K=["Real Madrid","Barcelona","Man City","Arsenal","Liverpool","Bayern","PSG","Juventus","Inter","Milan","Dortmund"],B=U.find(P=>K.some(V=>P.home_team.includes(V)||P.away_team.includes(V)))||U[0];if(!B){T("No suitable matches found at the moment."),h(!1);return}const $=`${B.home_team} vs ${B.away_team}`;let Z={};const[ve,L]=await Promise.all([zA(B.home_team,B.away_team).catch(()=>[]),HA($).catch(()=>null)]);ve&&(Z[B.id]=ve);const k=await Xy([B],Z);k?(p(k),v((L==null?void 0:L.imageUrl)||null)):T("AI Analysis failed. Please try again.")}catch(C){console.error(C),T("Error fetching prediction.")}h(!1)};H.useEffect(()=>{const C=setInterval(()=>o(U=>U+1),5e3);return()=>clearInterval(C)},[]);const I=(C,U)=>{const K=[];for(let B=0;B<U;B++)K.push(C[(i+B)%C.length]);return K};return f.jsxs(f.Fragment,{children:[f.jsxs(Tp,{children:[f.jsx("title",{children:"Yakuza AI - Premium Football Analysis & Predictions"}),f.jsx("meta",{name:"description",content:"Unlock professional-grade sports analysis with Yakuza AI. Neural network predictions for football matches, odds analysis, and winning strategies."}),f.jsx("link",{rel:"canonical",href:"https://oniflow.site/"})]}),f.jsxs("div",{className:"min-h-screen bg-[#020617] text-slate-100 flex flex-col font-['Inter'] selection:bg-blue-500/30",children:[f.jsxs("header",{className:"glass-card px-6 py-4 flex flex-col xl:flex-row items-center justify-between sticky top-0 z-50 border-b border-white/5 backdrop-blur-md gap-6 xl:gap-0",children:[f.jsxs("div",{className:"flex items-center gap-8 w-full xl:w-auto justify-between xl:justify-start",children:[f.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>window.location.reload(),children:[f.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center font-black text-white text-xl shadow-lg shadow-blue-900/20",children:"YKZ"}),f.jsx("span",{className:"font-extrabold text-2xl tracking-tighter uppercase hidden sm:block",children:"Yakuza AI"})]}),f.jsxs("div",{className:"flex items-center gap-3 hidden md:flex",children:[f.jsxs("a",{href:"https://t.me/+VHJneIlAh_M4Zjc0",target:"_blank",rel:"noreferrer",className:"w-40 h-11 relative flex items-center justify-center gap-2 rounded-full bg-gradient-to-r from-blue-700 to-blue-500 text-white shadow-[0_0_20px_rgba(37,99,235,0.4)] hover:shadow-[0_0_35px_rgba(37,99,235,0.7)] hover:-translate-y-0.5 transition-all duration-300 border border-blue-400/30 group overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-white/10 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),f.jsx("svg",{className:"w-5 h-5 fill-current animate-pulse",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm5.894 8.221l-1.97 9.28c-.145.658-.537.818-1.084.508l-3-2.21-1.446 1.394c-.14.18-.357.223-.548.223l.188-2.85 5.18-4.68c.223-.198-.054-.306-.346-.109l-6.4 4.02-2.76-.86c-.6-.188-.612-.602.126-.892l10.8-4.16c.5-.182.937.114.802.821z"})}),f.jsx("span",{className:"text-[11px] font-black uppercase tracking-wider italic",children:"Join Telegram"})]}),f.jsxs("button",{onClick:()=>{navigator.clipboard.writeText("YAKUZA88"),alert("Code Copied: YAKUZA88")},className:"w-40 h-11 relative flex items-center justify-center gap-2 rounded-full bg-gradient-to-r from-emerald-600 to-green-500 text-white shadow-[0_0_20px_rgba(16,185,129,0.4)] hover:shadow-[0_0_35px_rgba(16,185,129,0.7)] hover:-translate-y-0.5 transition-all duration-300 border border-green-400/30 group overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-white/10 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),f.jsxs("div",{className:"flex flex-col items-start leading-none",children:[f.jsx("span",{className:"text-[9px] text-green-100 font-bold uppercase",children:"Get $500 Bonus"}),f.jsx("span",{className:"text-[11px] font-black uppercase tracking-wider italic",children:"Code: YAKUZA88"})]})]})]})]}),f.jsxs("nav",{className:"flex flex-wrap items-center gap-6 justify-center",children:[f.jsxs("div",{className:"hidden lg:flex items-center gap-8 mr-4",children:[f.jsx("button",{onClick:r,className:"text-sm font-bold text-slate-300 hover:text-white uppercase tracking-widest transition-all hover:scale-110",children:"News"}),f.jsx("button",{onClick:t,className:"text-sm font-bold text-slate-300 hover:text-white uppercase tracking-widest transition-all hover:scale-110",children:"Blog"}),f.jsx("button",{onClick:e,className:"text-sm font-bold text-slate-300 hover:text-white uppercase tracking-widest transition-all hover:scale-110",children:"Contact"})]}),f.jsx("button",{onClick:n,className:"px-8 py-3 bg-white text-blue-900 rounded-xl font-black text-xs uppercase tracking-widest hover:scale-105 transition-transform shadow-[0_0_25px_rgba(59,130,246,0.6)]",children:"ENTER TERMINAL"})]})]}),f.jsxs("main",{className:"flex-1 p-6 max-w-[1600px] mx-auto w-full grid grid-cols-1 lg:grid-cols-12 gap-6",children:[f.jsxs("aside",{className:"hidden lg:block lg:col-span-2 space-y-4 pt-10",children:[f.jsxs("h3",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-slate-500 mb-4 flex items-center gap-2",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"})," Intel Feed"]}),I(Fj,3).map((C,U)=>f.jsxs("div",{className:"glass-card p-4 rounded-2xl border border-white/5 bg-white/[0.02]",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsx("span",{className:"font-bold text-xs text-white",children:C.name}),f.jsx("div",{className:"text-yellow-500 text-[8px]",children:"".repeat(C.stars)})]}),f.jsxs("p",{className:"text-[10px] text-slate-400 italic leading-relaxed",children:['"',C.text,'"']})]},U))]}),f.jsxs("section",{className:"col-span-1 lg:col-span-8 flex flex-col gap-6",children:[f.jsxs("div",{className:"text-center py-6 space-y-3",children:[f.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 bg-blue-900/20 border border-blue-500/20 rounded-full mb-2",children:[f.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"}),f.jsx("span",{className:"text-[9px] font-black text-blue-400 tracking-[0.3em] uppercase",children:"System Online"})]}),f.jsxs("h1",{className:"text-4xl md:text-6xl font-black italic uppercase tracking-tighter text-white leading-none",children:["Yakuza ",f.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-500 to-indigo-500",children:"Neural"})]})]}),f.jsxs("div",{className:"glass-card rounded-[2.5rem] border border-white/10 bg-[#0B0F19] relative overflow-hidden min-h-[400px] flex flex-col items-center justify-center p-1",children:[!d&&!c&&f.jsxs("div",{className:"p-10 text-center max-w-lg mx-auto z-10",children:[f.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-1/2 bg-blue-600/10 blur-[80px]"}),f.jsxs("h2",{className:"text-2xl font-black uppercase text-white mb-4",children:["Unlock Professional Grade ",f.jsx("br",{}),f.jsx("span",{className:"text-blue-500",children:"Sports Analysis"})]}),f.jsx("p",{className:"text-slate-400 text-xs mb-8 leading-relaxed",children:"Our neural engine processes thousands of data points to generate elite-level predictions with calculated risk assessments."}),f.jsx("button",{onClick:N,className:"px-8 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-xl font-black uppercase tracking-widest text-xs hover:scale-105 transition-transform shadow-lg shadow-blue-900/50",children:"Initialize Analysis"}),f.jsx("div",{className:"mt-12 grid grid-cols-3 gap-4 border-t border-white/5 pt-8",children:[{label:"Success Rate",val:"78%"},{label:"Active Users",val:"2.4k"},{label:"Daily Tips",val:"50+"}].map((C,U)=>f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-xl font-black text-white",children:C.val}),f.jsx("p",{className:"text-[8px] font-black uppercase tracking-widest text-slate-500",children:C.label})]},U))}),x&&f.jsx("p",{className:"mt-4 text-red-400 text-xs font-bold",children:x})]}),c&&f.jsxs("div",{className:"flex flex-col items-center gap-4 z-10",children:[f.jsx("div",{className:"w-12 h-12 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin"}),f.jsx("span",{className:"text-xs font-black uppercase tracking-widest text-blue-400 animate-pulse",children:"Decrypting Match Data..."})]}),d&&f.jsxs("div",{className:"w-full h-full p-4 md:p-6 animate-in fade-in slide-in-from-bottom-8 duration-700 bg-[#05080f]",children:[f.jsxs("div",{className:"relative w-full h-40 md:h-56 rounded-[2rem] overflow-hidden mb-6 border border-white/10 group",children:[b&&f.jsx("img",{src:b,className:"absolute inset-0 w-full h-full object-cover opacity-50 group-hover:opacity-60 transition-opacity",alt:"Match"}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#05080f] via-transparent to-transparent"}),f.jsx("div",{className:"absolute bottom-5 left-6 right-6 flex items-end justify-between",children:f.jsxs("div",{children:[f.jsx(zj,{className:"mb-2 bg-blue-600/20 border-blue-500/30 text-blue-300",children:"Analysis Complete"}),f.jsx("h2",{className:"text-2xl md:text-4xl font-black uppercase text-white leading-none drop-shadow-xl",children:d.matchName}),f.jsxs("p",{className:"text-slate-400 text-[10px] font-bold uppercase tracking-widest mt-2",children:[d.dateTime,"  ",d.stadium]})]})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"md:col-span-2 relative rounded-[2rem] bg-[#0B0F19] border border-white/10 overflow-hidden group hover:border-emerald-500/30 transition-colors",children:[f.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-2 bg-emerald-500 shadow-[0_0_20px_rgba(16,185,129,0.5)]"}),f.jsxs("div",{className:"p-6 pl-8 md:p-8 md:pl-10 h-full flex flex-col justify-between",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-emerald-500 font-bold tracking-[0.3em] text-[10px] uppercase mb-4",children:"Elite Safe Entry"}),f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("h2",{className:"text-3xl md:text-5xl font-black text-white uppercase leading-[0.9]",children:d.safeBet.selection}),f.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[f.jsx("span",{className:"text-[10px] text-slate-500 font-bold uppercase tracking-widest",children:"Decoded Odds"}),f.jsxs("span",{className:"text-3xl md:text-4xl font-black text-emerald-400",children:["@",d.safeBet.odds]})]})]})]}),f.jsx("div",{className:"mt-8 p-5 bg-white/[0.03] rounded-2xl border border-white/5",children:f.jsxs("p",{className:"text-slate-300 text-xs md:text-sm italic leading-relaxed font-medium",children:['"',d.safeBet.reason,'"']})})]})]}),f.jsxs("div",{className:"md:col-span-1 rounded-[2rem] bg-gradient-to-b from-[#1e1b4b] to-[#0B0F19] border border-indigo-500/30 p-6 flex flex-col relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-indigo-500/20 blur-[40px] pointer-events-none"}),f.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[f.jsx("span",{className:"text-lg",children:""}),f.jsx("h3",{className:"font-black uppercase tracking-[0.2em] text-[10px] text-indigo-200",children:"Neural Combo"})]}),f.jsxs("div",{className:"space-y-3 flex-1",children:[f.jsx("div",{className:"bg-[#020617]/50 p-4 rounded-2xl border border-indigo-500/20 shadow-inner",children:f.jsx("p",{className:"font-black text-white text-xs uppercase",children:d.comboBet.bet1})}),f.jsx("div",{className:"flex justify-center text-indigo-400 font-black text-xs",children:"+"}),f.jsx("div",{className:"bg-[#020617]/50 p-4 rounded-2xl border border-indigo-500/20 shadow-inner",children:f.jsx("p",{className:"font-black text-white text-xs uppercase",children:d.comboBet.bet2})})]}),f.jsxs("div",{className:"mt-8 pt-6 border-t border-indigo-500/20 text-center",children:[f.jsx("span",{className:"text-[9px] font-bold uppercase text-indigo-300/60 tracking-widest block mb-1",children:"Synthesized Multiplier"}),f.jsxs("div",{className:"text-4xl font-black text-white",children:["@",d.comboBet.totalOdds]})]})]})]}),f.jsxs("div",{className:"mt-8",children:[f.jsx("h4",{className:"text-slate-500 font-black uppercase tracking-[0.2em] text-[10px] mb-4 pl-2",children:"Secondary Extractions"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.additionalOptions.map((C,U)=>f.jsxs("div",{className:"bg-[#0B0F19] border border-white/5 p-5 rounded-[1.5rem] hover:bg-white/[0.03] transition-colors group",children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsx("h5",{className:"font-black text-white uppercase text-sm group-hover:text-blue-400 transition-colors",children:C.option}),f.jsxs("span",{className:"text-blue-400 font-black text-lg",children:["@",C.odds]})]}),f.jsx("p",{className:"text-[10px] text-slate-400 leading-relaxed line-clamp-2",children:C.reason})]},U))})]}),f.jsx("div",{className:"mt-8 space-y-8",children:f.jsxs("button",{onClick:n,className:"group w-full py-4 bg-white hover:bg-slate-200 text-blue-950 rounded-2xl font-black uppercase tracking-[0.2em] text-xs shadow-[0_0_30px_rgba(255,255,255,0.15)] hover:shadow-[0_0_50px_rgba(255,255,255,0.3)] transition-all duration-300 transform hover:scale-[1.01] flex items-center justify-center gap-3",children:[f.jsx("span",{children:"Access Premium Terminal"}),f.jsx("svg",{className:"w-4 h-4 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})]})]})]}),f.jsxs("aside",{className:"hidden lg:block lg:col-span-2 space-y-4 pt-10",children:[f.jsxs("h3",{className:"text-[9px] font-black uppercase tracking-[0.2em] text-emerald-500 mb-4 flex items-center justify-end gap-2",children:["Live Wins ",f.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"})]}),I(Hj,3).map((C,U)=>f.jsxs("div",{className:"glass-card p-3 rounded-2xl border-r-2 border-r-emerald-500 bg-white/[0.02]",children:[f.jsxs("div",{className:"flex justify-between mb-1",children:[f.jsx("span",{className:"text-[9px] font-black uppercase text-slate-400",children:C.match}),f.jsx("span",{className:"text-[9px] font-bold text-emerald-400",children:"WON"})]}),f.jsxs("div",{className:"flex justify-between items-end",children:[f.jsx("span",{className:"text-xs font-bold text-white",children:C.tip}),f.jsxs("span",{className:"text-[10px] font-black text-slate-500",children:["@",C.odds]})]})]},U))]})]}),f.jsx("footer",{className:"py-6 text-center text-[9px] text-slate-600 font-black uppercase tracking-widest border-t border-white/5",children:"Yakuza AI Neural Systems  2026"})]})]})},Kj=()=>{const n=Di();return f.jsxs(f.Fragment,{children:[f.jsxs(Tp,{children:[f.jsx("title",{children:"Contact & Legal - Yakuza AI"}),f.jsx("meta",{name:"description",content:"Contact support and legal disclaimer. Yakuza AI provides sports analysis and predictions. 18+ Only."}),f.jsx("link",{rel:"canonical",href:"https://oniflow.site/contact"})]}),f.jsxs("div",{className:"min-h-screen bg-[#020617] text-slate-100 font-['Inter'] flex items-center justify-center p-6 relative overflow-hidden",children:[f.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[f.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-blue-600/10 rounded-full blur-[120px]"}),f.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-green-600/10 rounded-full blur-[120px]"})]}),f.jsxs("div",{className:"max-w-2xl w-full relative z-10",children:[f.jsx("button",{onClick:()=>n("/"),className:"mb-8 text-slate-400 hover:text-white flex items-center gap-2 text-xs font-bold uppercase tracking-widest transition-colors",children:" Back to Home"}),f.jsxs("div",{className:"glass-card p-8 md:p-10 rounded-[2.5rem] border border-white/10 bg-white/5 backdrop-blur-xl",children:[f.jsxs("div",{className:"text-center mb-10",children:[f.jsxs("h1",{className:"text-3xl md:text-4xl font-black uppercase italic tracking-tighter text-white mb-4",children:["Get in ",f.jsx("span",{className:"text-blue-500",children:"Touch"})]}),f.jsx("div",{className:"w-16 h-1 bg-gradient-to-r from-blue-600 to-green-500 mx-auto rounded-full"})]}),f.jsxs("div",{className:"space-y-8",children:[f.jsx("div",{className:"bg-blue-900/20 p-6 rounded-3xl border border-blue-500/20 text-center",children:f.jsxs("p",{className:"text-sm md:text-base leading-relaxed text-slate-200 font-medium",children:['"We developed ',f.jsx("span",{className:"text-blue-400 font-black",children:"Yakuza AI"}),' as a cutting-edge neural prediction engine. Thanks to its extreme accuracy, my partners and I have generated substantial returns. Now, we are opening this technology to the public."']})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("a",{href:"https://wa.me/212620438075",target:"_blank",rel:"noopener noreferrer",className:"p-6 rounded-2xl bg-white/5 border border-white/5 hover:border-green-500/30 transition-all group cursor-pointer block",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center text-green-400 text-xl",children:""}),f.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-slate-400",children:"WhatsApp"})]}),f.jsx("p",{className:"text-lg font-bold text-white group-hover:text-green-400 transition-colors",children:"+212 620-438075"})]}),f.jsxs("a",{href:"mailto:abdoskikim1000@gmail.com",className:"p-6 rounded-2xl bg-white/5 border border-white/5 hover:border-blue-500/30 transition-all group cursor-pointer block",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center text-blue-400 text-xl",children:""}),f.jsx("h3",{className:"text-xs font-black uppercase tracking-widest text-slate-400",children:"Email Support"})]}),f.jsx("p",{className:"text-sm font-bold text-white break-all group-hover:text-blue-400 transition-colors",children:"abdoskikim1000@gmail.com"})]})]}),f.jsxs("div",{className:"mt-8 pt-8 border-t border-white/5",children:[f.jsx("h4",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-3 text-center",children:"Legal Disclaimer"}),f.jsxs("p",{className:"text-[10px] md:text-xs text-slate-500 text-center leading-relaxed max-w-lg mx-auto",children:[f.jsx("strong",{children:"Yakuza AI is strictly an informational & statistical analysis tool."})," We are not a gambling operator and do not accept or facilitate bets. All predictions are based on historical data and AI algorithms.",f.jsx("br",{className:"my-2"}),f.jsx("span",{className:"opacity-70",children:"Past performance is not indicative of future results. Betting involves financial risk. Please gamble responsibly and only with money you can afford to lose."})]}),f.jsxs("div",{className:"flex justify-center items-center gap-6 mt-6 opacity-60",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-red-500 font-bold text-lg",children:"18+"}),f.jsx("span",{className:"text-[10px] uppercase tracking-wider text-slate-400 font-bold",children:"Adults Only"})]}),f.jsx("div",{className:"h-4 w-px bg-slate-700"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-yellow-500 text-lg",children:""}),f.jsx("span",{className:"text-[10px] uppercase tracking-wider text-slate-400 font-bold",children:"Play Responsibly"})]})]})]})]})]})]})]})]})},Yj=[{name:"Sky Sports",url:"https://www.skysports.com/rss/12040",color:"text-blue-400"},{name:"Goal.com",url:"https://www.goal.com/feeds/en/news",color:"text-white"},{name:"ESPN",url:"https://www.espn.com/espn/rss/soccer/news",color:"text-red-400"}],$j="https://api.rss2json.com/v1/api.json?rss_url=",Qj=({onBack:n})=>{const[e,t]=H.useState([]),[r,i]=H.useState(!0),[o,c]=H.useState(null),[h,d]=H.useState("");H.useEffect(()=>{(async()=>{i(!0),c(null);try{let v=[];const x=["football","soccer","premier league","la liga","bundesliga","serie a","ligue 1","champions league","ucl","fifa","uefa","goal","match","transfer","coach","manager","player","striker","midfielder","defender","goalkeeper","cup","final","draw","fixture","manchester","liverpool","arsenal","chelsea","barcelona","real madrid","bayern","psg","juventus","inter","milan","dortmund","tottenham","city","united","madrid","roma","napoli","marseille","ajax","benfica","porto","sporting","celtic","rangers","galatasaray","fenerbahce","al hilal","al nassr","riyadh","saudi","afc","caf","africa cup","afcon","world cup","euros","euro"],T=Yj.map(async C=>{const K=await(await fetch($j+encodeURIComponent(C.url))).json();return K.items&&Array.isArray(K.items)?K.items.slice(0,10).map(B=>{var $;return{title:B.title,link:B.link,pubDate:B.pubDate,description:B.description.replace(/<[^>]+>/g,"").slice(0,150)+"...",thumbnail:B.thumbnail||(($=B.enclosure)==null?void 0:$.link)||null,source:C.name,sourceColor:C.color}}):[]});v=(await Promise.all(T)).flat(),v.sort((C,U)=>new Date(U.pubDate).getTime()-new Date(C.pubDate).getTime());const I=v.filter(C=>{const U=(C.title+" "+C.description).toLowerCase();return x.some(K=>U.includes(K))});t(I),I.length===0&&c("No football news found. Check connection.")}catch{c("Failed to initialize news feed.")}i(!1)})()},[]);const p=e.filter(b=>b.title.toLowerCase().includes(h.toLowerCase())||b.description.toLowerCase().includes(h.toLowerCase()));return f.jsxs(f.Fragment,{children:[f.jsxs(Tp,{children:[f.jsx("title",{children:"News Feed | Yakuza AI"}),f.jsx("meta",{name:"description",content:"Latest football news and transfer updates aggregated by Yakuza AI."})]}),f.jsxs("div",{className:"min-h-screen bg-[#020617] text-slate-100 font-['Inter'] flex flex-col",children:[f.jsxs("header",{className:"sticky top-0 z-50 bg-[#020617]/80 backdrop-blur-md border-b border-white/5",children:[f.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:n,children:[f.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center font-black text-white shadow-lg shadow-blue-900/20",children:"Y"}),f.jsx("span",{className:"font-extrabold text-xl tracking-tighter uppercase hidden sm:block",children:"Yakuza AI"})]}),f.jsx("div",{className:"flex-1 max-w-md mx-6 hidden md:block relative",children:f.jsx("input",{type:"text",placeholder:"Search Database...",className:"w-full bg-[#0B0F19] border border-white/10 rounded-xl py-2 px-5 text-xs text-white placeholder:text-slate-500 focus:outline-none focus:border-blue-500/50 focus:ring-1 focus:ring-blue-500/20 transition-all font-bold",value:h,onChange:b=>d(b.target.value)})}),f.jsx("button",{onClick:n,className:"px-5 py-2 bg-white text-blue-900 rounded-xl font-black text-[10px] uppercase tracking-widest hover:scale-105 transition-transform shadow-[0_0_15px_rgba(59,130,246,0.3)]",children:"Exit"})]}),f.jsxs("div",{className:"bg-blue-900/10 border-y border-blue-500/10 py-1 overflow-hidden relative flex",children:[f.jsx("div",{className:"bg-blue-600 text-white text-[9px] font-black uppercase px-3 py-1 z-10 absolute left-0 h-full flex items-center tracking-widest shadow-lg",children:"Live Feed"}),f.jsx("div",{className:"whitespace-nowrap animate-marquee flex gap-10 pl-24 items-center",children:e.slice(0,5).map((b,v)=>f.jsxs("span",{className:"text-[10px] font-bold text-blue-200 uppercase tracking-wider flex items-center gap-2",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full animate-pulse"}),b.title]},v))})]})]}),f.jsxs("main",{className:"flex-1 p-6 max-w-7xl mx-auto w-full",children:[f.jsx("div",{className:"md:hidden mb-6",children:f.jsx("input",{type:"text",placeholder:"Search keywords...",className:"w-full bg-[#0B0F19] border border-white/10 rounded-xl py-3 px-4 text-sm text-white focus:outline-none focus:border-blue-500",value:h,onChange:b=>d(b.target.value)})}),r?f.jsxs("div",{className:"flex flex-col items-center justify-center py-20 space-y-4",children:[f.jsx("div",{className:"w-10 h-10 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),f.jsx("span",{className:"text-xs font-black text-blue-400 uppercase tracking-widest animate-pulse",children:"Scanning Global Feeds..."})]}):o?f.jsx("div",{className:"text-center py-20 bg-red-500/5 border border-red-500/20 rounded-2xl",children:f.jsx("p",{className:"text-red-400 font-bold text-sm",children:o})}):f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:p.map((b,v)=>f.jsxs("a",{href:b.link,target:"_blank",rel:"noopener noreferrer",className:"group flex flex-col bg-[#0B0F19] border border-white/10 rounded-3xl overflow-hidden hover:border-blue-500/30 transition-all duration-300 hover:-translate-y-1 hover:shadow-[0_10px_40px_-10px_rgba(37,99,235,0.2)]",children:[f.jsxs("div",{className:"h-48 overflow-hidden relative bg-slate-900",children:[b.thumbnail?f.jsx("img",{src:b.thumbnail,alt:"news",className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 group-hover:scale-105 transition-all duration-500"}):f.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-blue-900/20 to-[#020617]",children:f.jsx("div",{className:"text-2xl font-black text-white/10",children:"YAKUZA"})}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0B0F19] to-transparent opacity-60"}),f.jsx("div",{className:"absolute top-3 left-3 bg-black/40 backdrop-blur-md px-3 py-1 rounded-full text-[8px] font-black uppercase text-white tracking-widest border border-white/10 shadow-sm",children:f.jsx("span",{className:b.sourceColor,children:b.source})})]}),f.jsxs("div",{className:"p-6 flex flex-col flex-1 relative",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3 text-[9px] font-bold text-slate-500 uppercase tracking-wider",children:[f.jsx("span",{children:new Date(b.pubDate).toLocaleDateString()}),f.jsx("span",{className:"text-blue-500",children:""}),f.jsx("span",{children:new Date(b.pubDate).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),f.jsx("h3",{className:"text-sm font-black text-white mb-3 leading-relaxed group-hover:text-blue-400 transition-colors line-clamp-2",children:b.title}),f.jsx("p",{className:"text-[10px] text-slate-400 leading-relaxed line-clamp-3 mb-4 flex-1",children:b.description}),f.jsx("div",{className:"mt-auto pt-4 border-t border-white/5 flex justify-between items-center",children:f.jsxs("span",{className:"text-[9px] font-black uppercase text-blue-500 tracking-wider flex items-center gap-1 group-hover:gap-2 transition-all",children:["Read Article ",f.jsx("span",{children:""})]})})]})]},v))})]})]})]})},Wj=()=>{};var Nw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Xj=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],c=n[t++],h=n[t++],d=((i&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const o=n[t++],c=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|c&63)}}return e.join("")},XA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],c=i+1<n.length,h=c?n[i+1]:0,d=i+2<n.length,p=d?n[i+2]:0,b=o>>2,v=(o&3)<<4|h>>4;let x=(h&15)<<2|p>>6,T=p&63;d||(T=64,c||(x=64)),r.push(t[b],t[v],t[x],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(WA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Xj(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const v=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||h==null||p==null||v==null)throw new Zj;const x=o<<2|h>>4;if(r.push(x),p!==64){const T=h<<4&240|p>>2;if(r.push(T),v!==64){const N=p<<6&192|v;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Zj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jj=function(n){const e=WA(n);return XA.encodeByteArray(e,!0)},Xf=function(n){return Jj(n).replace(/\./g,"")},ZA=function(n){try{return XA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e3(){if(typeof self<"u")return self;if(typeof window<"u"||typeof window<"u")return window;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3=()=>e3().__FIREBASE_DEFAULTS__,n3=()=>{if(typeof process>"u"||typeof Nw>"u")return;const n=Nw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},r3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ZA(n[1]);return e&&JSON.parse(e)},Ap=()=>{try{return Wj()||t3()||n3()||r3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},JA=n=>{var e,t;return(t=(e=Ap())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},s3=n=>{const e=JA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},eS=()=>{var n;return(n=Ap())==null?void 0:n.config},tS=n=>{var e;return(e=Ap())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nS(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Xf(JSON.stringify(t)),Xf(JSON.stringify(c)),""].join(".")}const nh={};function o3(){const n={prod:[],emulator:[]};for(const e of Object.keys(nh))nh[e]?n.emulator.push(e):n.prod.push(e);return n}function l3(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Cw=!1;function rS(n,e){if(typeof window>"u"||typeof document>"u"||!Kc(window.location.host)||nh[n]===e||nh[n]||Cw)return;nh[n]=e;function t(x){return`__firebase__banner__${x}`}const r="__firebase__banner",o=o3().prod.length>0;function c(){const x=document.getElementById(r);x&&x.remove()}function h(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,T){x.setAttribute("width","24"),x.setAttribute("id",T),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Cw=!0,c()},x}function b(x,T){x.setAttribute("id",T),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function v(){const x=l3(r),T=t("text"),N=document.getElementById(T)||document.createElement("span"),I=t("learnmore"),C=document.getElementById(I)||document.createElement("a"),U=t("preprendIcon"),K=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const B=x.element;h(B),b(C,I);const $=p();d(K,U),B.append(K,N,C,$),document.body.appendChild(B)}o?(N.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function c3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lr())}function u3(){var e;const n=(e=Ap())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(window.process)==="[object process]"}catch{return!1}}function h3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function d3(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function f3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function p3(){const n=lr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function m3(){return!u3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g3(){try{return typeof indexedDB=="object"}catch{return!1}}function y3(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3="FirebaseError";class Ia extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=b3,Object.setPrototypeOf(this,Ia.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vh.prototype.create)}}class Vh{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],c=o?v3(o,r):"Error",h=`${this.serviceName}: ${c} (${i}).`;return new Ia(i,h,r)}}function v3(n,e){return n.replace(x3,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const x3=/\{\$([^}]+)}/g;function _3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function dl(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],c=e[i];if(Rw(o)&&Rw(c)){if(!dl(o,c))return!1}else if(o!==c)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Rw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ku(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Yu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function w3(n,e){const t=new E3(n,e);return t.subscribe.bind(t)}class E3{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");T3(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=u0),i.error===void 0&&(i.error=u0),i.complete===void 0&&(i.complete=u0);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function T3(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function u0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(n){return n&&n._delegate?n._delegate:n}class fl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new i3;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(N3(e))try{this.getOrInitializeService({instanceIdentifier:il})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=il){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=il){return this.instances.has(e)}getOptions(e=il){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&c.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:S3(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=il){return this.component?this.component.multipleInstances?e:il:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function S3(n){return n===il?void 0:n}function N3(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new A3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(at||(at={}));const R3={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},I3=at.INFO,O3={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},j3=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=O3[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zy{constructor(e){this.name=e,this._logLevel=I3,this._logHandler=j3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?R3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const k3=(n,e)=>e.some(t=>n instanceof t);let Iw,Ow;function D3(){return Iw||(Iw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M3(){return Ow||(Ow=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sS=new WeakMap,F0=new WeakMap,iS=new WeakMap,h0=new WeakMap,Jy=new WeakMap;function L3(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(wo(n.result)),i()},c=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&sS.set(t,n)}).catch(()=>{}),Jy.set(e,n),e}function P3(n){if(F0.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),i()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});F0.set(n,e)}let G0={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return F0.get(n);if(e==="objectStoreNames")return n.objectStoreNames||iS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function V3(n){G0=n(G0)}function U3(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(d0(this),e,...t);return iS.set(r,e.sort?e.sort():[e]),wo(r)}:M3().includes(n)?function(...e){return n.apply(d0(this),e),wo(sS.get(this))}:function(...e){return wo(n.apply(d0(this),e))}}function q3(n){return typeof n=="function"?U3(n):(n instanceof IDBTransaction&&P3(n),k3(n,D3())?new Proxy(n,G0):n)}function wo(n){if(n instanceof IDBRequest)return L3(n);if(h0.has(n))return h0.get(n);const e=q3(n);return e!==n&&(h0.set(n,e),Jy.set(e,n)),e}const d0=n=>Jy.get(n);function B3(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const c=indexedDB.open(n,e),h=wo(c);return r&&c.addEventListener("upgradeneeded",d=>{r(wo(c.result),d.oldVersion,d.newVersion,wo(c.transaction),d)}),t&&c.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),h.then(d=>{o&&d.addEventListener("close",()=>o()),i&&d.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const z3=["get","getKey","getAll","getAllKeys","count"],H3=["put","add","delete","clear"],f0=new Map;function jw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(f0.get(e))return f0.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=H3.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||z3.includes(t)))return;const o=async function(c,...h){const d=this.transaction(c,i?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(h.shift())),(await Promise.all([p[t](...h),i&&d.done]))[0]};return f0.set(e,o),o}V3(n=>({...n,get:(e,t,r)=>jw(e,t)||n.get(e,t,r),has:(e,t)=>!!jw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(G3(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function G3(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const K0="@firebase/app",kw="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new Zy("@firebase/app"),K3="@firebase/app-compat",Y3="@firebase/analytics-compat",$3="@firebase/analytics",Q3="@firebase/app-check-compat",W3="@firebase/app-check",X3="@firebase/auth",Z3="@firebase/auth-compat",J3="@firebase/database",ek="@firebase/data-connect",tk="@firebase/database-compat",nk="@firebase/functions",rk="@firebase/functions-compat",sk="@firebase/installations",ik="@firebase/installations-compat",ak="@firebase/messaging",ok="@firebase/messaging-compat",lk="@firebase/performance",ck="@firebase/performance-compat",uk="@firebase/remote-config",hk="@firebase/remote-config-compat",dk="@firebase/storage",fk="@firebase/storage-compat",pk="@firebase/firestore",mk="@firebase/ai",gk="@firebase/firestore-compat",yk="firebase",bk="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="[DEFAULT]",vk={[K0]:"fire-core",[K3]:"fire-core-compat",[$3]:"fire-analytics",[Y3]:"fire-analytics-compat",[W3]:"fire-app-check",[Q3]:"fire-app-check-compat",[X3]:"fire-auth",[Z3]:"fire-auth-compat",[J3]:"fire-rtdb",[ek]:"fire-data-connect",[tk]:"fire-rtdb-compat",[nk]:"fire-fn",[rk]:"fire-fn-compat",[sk]:"fire-iid",[ik]:"fire-iid-compat",[ak]:"fire-fcm",[ok]:"fire-fcm-compat",[lk]:"fire-perf",[ck]:"fire-perf-compat",[uk]:"fire-rc",[hk]:"fire-rc-compat",[dk]:"fire-gcs",[fk]:"fire-gcs-compat",[pk]:"fire-fst",[gk]:"fire-fst-compat",[mk]:"fire-vertex","fire-js":"fire-js",[yk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf=new Map,xk=new Map,$0=new Map;function Dw(n,e){try{n.container.addComponent(e)}catch(t){wa.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ic(n){const e=n.name;if($0.has(e))return wa.debug(`There were multiple attempts to register component ${e}.`),!1;$0.set(e,n);for(const t of Zf.values())Dw(t,n);for(const t of xk.values())Dw(t,n);return!0}function eb(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Jr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Eo=new Vh("app","Firebase",_k);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc=bk;function aS(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Y0,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Eo.create("bad-app-name",{appName:String(i)});if(t||(t=eS()),!t)throw Eo.create("no-options");const o=Zf.get(i);if(o){if(dl(t,o.options)&&dl(r,o.config))return o;throw Eo.create("duplicate-app",{appName:i})}const c=new C3(i);for(const d of $0.values())c.addComponent(d);const h=new wk(t,r,c);return Zf.set(i,h),h}function oS(n=Y0){const e=Zf.get(n);if(!e&&n===Y0&&eS())return aS();if(!e)throw Eo.create("no-app",{appName:n});return e}function To(n,e,t){let r=vk[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const c=[`Unable to register library "${r}" with version "${e}":`];i&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wa.warn(c.join(" "));return}Ic(new fl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek="firebase-heartbeat-database",Tk=1,yh="firebase-heartbeat-store";let p0=null;function lS(){return p0||(p0=B3(Ek,Tk,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(yh)}catch(t){console.warn(t)}}}}).catch(n=>{throw Eo.create("idb-open",{originalErrorMessage:n.message})})),p0}async function Ak(n){try{const t=(await lS()).transaction(yh),r=await t.objectStore(yh).get(cS(n));return await t.done,r}catch(e){if(e instanceof Ia)wa.warn(e.message);else{const t=Eo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});wa.warn(t.message)}}}async function Mw(n,e){try{const r=(await lS()).transaction(yh,"readwrite");await r.objectStore(yh).put(e,cS(n)),await r.done}catch(t){if(t instanceof Ia)wa.warn(t.message);else{const r=Eo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});wa.warn(r.message)}}}function cS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=1024,Nk=30;class Ck{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ik(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Lw();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>Nk){const c=Ok(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){wa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Lw(),{heartbeatsToSend:r,unsentEntries:i}=Rk(this._heartbeatsCache.heartbeats),o=Xf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return wa.warn(t),""}}}function Lw(){return new Date().toISOString().substring(0,10)}function Rk(n,e=Sk){const t=[];let r=n.slice();for(const i of n){const o=t.find(c=>c.agent===i.agent);if(o){if(o.dates.push(i.date),Pw(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Pw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Ik{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g3()?y3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Ak(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Mw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Mw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Pw(n){return Xf(JSON.stringify({version:2,heartbeats:n})).length}function Ok(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jk(n){Ic(new fl("platform-logger",e=>new F3(e),"PRIVATE")),Ic(new fl("heartbeat",e=>new Ck(e),"PRIVATE")),To(K0,kw,n),To(K0,kw,"esm2020"),To("fire-js","")}jk("");var Vw=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ao,uS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,k){function P(){}P.prototype=k.prototype,L.F=k.prototype,L.prototype=new P,L.prototype.constructor=L,L.D=function(V,A,D){for(var R=Array(arguments.length-2),le=2;le<arguments.length;le++)R[le-2]=arguments[le];return k.prototype[A].apply(V,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,k,P){P||(P=0);const V=Array(16);if(typeof k=="string")for(var A=0;A<16;++A)V[A]=k.charCodeAt(P++)|k.charCodeAt(P++)<<8|k.charCodeAt(P++)<<16|k.charCodeAt(P++)<<24;else for(A=0;A<16;++A)V[A]=k[P++]|k[P++]<<8|k[P++]<<16|k[P++]<<24;k=L.g[0],P=L.g[1],A=L.g[2];let D=L.g[3],R;R=k+(D^P&(A^D))+V[0]+3614090360&4294967295,k=P+(R<<7&4294967295|R>>>25),R=D+(A^k&(P^A))+V[1]+3905402710&4294967295,D=k+(R<<12&4294967295|R>>>20),R=A+(P^D&(k^P))+V[2]+606105819&4294967295,A=D+(R<<17&4294967295|R>>>15),R=P+(k^A&(D^k))+V[3]+3250441966&4294967295,P=A+(R<<22&4294967295|R>>>10),R=k+(D^P&(A^D))+V[4]+4118548399&4294967295,k=P+(R<<7&4294967295|R>>>25),R=D+(A^k&(P^A))+V[5]+1200080426&4294967295,D=k+(R<<12&4294967295|R>>>20),R=A+(P^D&(k^P))+V[6]+2821735955&4294967295,A=D+(R<<17&4294967295|R>>>15),R=P+(k^A&(D^k))+V[7]+4249261313&4294967295,P=A+(R<<22&4294967295|R>>>10),R=k+(D^P&(A^D))+V[8]+1770035416&4294967295,k=P+(R<<7&4294967295|R>>>25),R=D+(A^k&(P^A))+V[9]+2336552879&4294967295,D=k+(R<<12&4294967295|R>>>20),R=A+(P^D&(k^P))+V[10]+4294925233&4294967295,A=D+(R<<17&4294967295|R>>>15),R=P+(k^A&(D^k))+V[11]+2304563134&4294967295,P=A+(R<<22&4294967295|R>>>10),R=k+(D^P&(A^D))+V[12]+1804603682&4294967295,k=P+(R<<7&4294967295|R>>>25),R=D+(A^k&(P^A))+V[13]+4254626195&4294967295,D=k+(R<<12&4294967295|R>>>20),R=A+(P^D&(k^P))+V[14]+2792965006&4294967295,A=D+(R<<17&4294967295|R>>>15),R=P+(k^A&(D^k))+V[15]+1236535329&4294967295,P=A+(R<<22&4294967295|R>>>10),R=k+(A^D&(P^A))+V[1]+4129170786&4294967295,k=P+(R<<5&4294967295|R>>>27),R=D+(P^A&(k^P))+V[6]+3225465664&4294967295,D=k+(R<<9&4294967295|R>>>23),R=A+(k^P&(D^k))+V[11]+643717713&4294967295,A=D+(R<<14&4294967295|R>>>18),R=P+(D^k&(A^D))+V[0]+3921069994&4294967295,P=A+(R<<20&4294967295|R>>>12),R=k+(A^D&(P^A))+V[5]+3593408605&4294967295,k=P+(R<<5&4294967295|R>>>27),R=D+(P^A&(k^P))+V[10]+38016083&4294967295,D=k+(R<<9&4294967295|R>>>23),R=A+(k^P&(D^k))+V[15]+3634488961&4294967295,A=D+(R<<14&4294967295|R>>>18),R=P+(D^k&(A^D))+V[4]+3889429448&4294967295,P=A+(R<<20&4294967295|R>>>12),R=k+(A^D&(P^A))+V[9]+568446438&4294967295,k=P+(R<<5&4294967295|R>>>27),R=D+(P^A&(k^P))+V[14]+3275163606&4294967295,D=k+(R<<9&4294967295|R>>>23),R=A+(k^P&(D^k))+V[3]+4107603335&4294967295,A=D+(R<<14&4294967295|R>>>18),R=P+(D^k&(A^D))+V[8]+1163531501&4294967295,P=A+(R<<20&4294967295|R>>>12),R=k+(A^D&(P^A))+V[13]+2850285829&4294967295,k=P+(R<<5&4294967295|R>>>27),R=D+(P^A&(k^P))+V[2]+4243563512&4294967295,D=k+(R<<9&4294967295|R>>>23),R=A+(k^P&(D^k))+V[7]+1735328473&4294967295,A=D+(R<<14&4294967295|R>>>18),R=P+(D^k&(A^D))+V[12]+2368359562&4294967295,P=A+(R<<20&4294967295|R>>>12),R=k+(P^A^D)+V[5]+4294588738&4294967295,k=P+(R<<4&4294967295|R>>>28),R=D+(k^P^A)+V[8]+2272392833&4294967295,D=k+(R<<11&4294967295|R>>>21),R=A+(D^k^P)+V[11]+1839030562&4294967295,A=D+(R<<16&4294967295|R>>>16),R=P+(A^D^k)+V[14]+4259657740&4294967295,P=A+(R<<23&4294967295|R>>>9),R=k+(P^A^D)+V[1]+2763975236&4294967295,k=P+(R<<4&4294967295|R>>>28),R=D+(k^P^A)+V[4]+1272893353&4294967295,D=k+(R<<11&4294967295|R>>>21),R=A+(D^k^P)+V[7]+4139469664&4294967295,A=D+(R<<16&4294967295|R>>>16),R=P+(A^D^k)+V[10]+3200236656&4294967295,P=A+(R<<23&4294967295|R>>>9),R=k+(P^A^D)+V[13]+681279174&4294967295,k=P+(R<<4&4294967295|R>>>28),R=D+(k^P^A)+V[0]+3936430074&4294967295,D=k+(R<<11&4294967295|R>>>21),R=A+(D^k^P)+V[3]+3572445317&4294967295,A=D+(R<<16&4294967295|R>>>16),R=P+(A^D^k)+V[6]+76029189&4294967295,P=A+(R<<23&4294967295|R>>>9),R=k+(P^A^D)+V[9]+3654602809&4294967295,k=P+(R<<4&4294967295|R>>>28),R=D+(k^P^A)+V[12]+3873151461&4294967295,D=k+(R<<11&4294967295|R>>>21),R=A+(D^k^P)+V[15]+530742520&4294967295,A=D+(R<<16&4294967295|R>>>16),R=P+(A^D^k)+V[2]+3299628645&4294967295,P=A+(R<<23&4294967295|R>>>9),R=k+(A^(P|~D))+V[0]+4096336452&4294967295,k=P+(R<<6&4294967295|R>>>26),R=D+(P^(k|~A))+V[7]+1126891415&4294967295,D=k+(R<<10&4294967295|R>>>22),R=A+(k^(D|~P))+V[14]+2878612391&4294967295,A=D+(R<<15&4294967295|R>>>17),R=P+(D^(A|~k))+V[5]+4237533241&4294967295,P=A+(R<<21&4294967295|R>>>11),R=k+(A^(P|~D))+V[12]+1700485571&4294967295,k=P+(R<<6&4294967295|R>>>26),R=D+(P^(k|~A))+V[3]+2399980690&4294967295,D=k+(R<<10&4294967295|R>>>22),R=A+(k^(D|~P))+V[10]+4293915773&4294967295,A=D+(R<<15&4294967295|R>>>17),R=P+(D^(A|~k))+V[1]+2240044497&4294967295,P=A+(R<<21&4294967295|R>>>11),R=k+(A^(P|~D))+V[8]+1873313359&4294967295,k=P+(R<<6&4294967295|R>>>26),R=D+(P^(k|~A))+V[15]+4264355552&4294967295,D=k+(R<<10&4294967295|R>>>22),R=A+(k^(D|~P))+V[6]+2734768916&4294967295,A=D+(R<<15&4294967295|R>>>17),R=P+(D^(A|~k))+V[13]+1309151649&4294967295,P=A+(R<<21&4294967295|R>>>11),R=k+(A^(P|~D))+V[4]+4149444226&4294967295,k=P+(R<<6&4294967295|R>>>26),R=D+(P^(k|~A))+V[11]+3174756917&4294967295,D=k+(R<<10&4294967295|R>>>22),R=A+(k^(D|~P))+V[2]+718787259&4294967295,A=D+(R<<15&4294967295|R>>>17),R=P+(D^(A|~k))+V[9]+3951481745&4294967295,L.g[0]=L.g[0]+k&4294967295,L.g[1]=L.g[1]+(A+(R<<21&4294967295|R>>>11))&4294967295,L.g[2]=L.g[2]+A&4294967295,L.g[3]=L.g[3]+D&4294967295}r.prototype.v=function(L,k){k===void 0&&(k=L.length);const P=k-this.blockSize,V=this.C;let A=this.h,D=0;for(;D<k;){if(A==0)for(;D<=P;)i(this,L,D),D+=this.blockSize;if(typeof L=="string"){for(;D<k;)if(V[A++]=L.charCodeAt(D++),A==this.blockSize){i(this,V),A=0;break}}else for(;D<k;)if(V[A++]=L[D++],A==this.blockSize){i(this,V),A=0;break}}this.h=A,this.o+=k},r.prototype.A=function(){var L=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);L[0]=128;for(var k=1;k<L.length-8;++k)L[k]=0;k=this.o*8;for(var P=L.length-8;P<L.length;++P)L[P]=k&255,k/=256;for(this.v(L),L=Array(16),k=0,P=0;P<4;++P)for(let V=0;V<32;V+=8)L[k++]=this.g[P]>>>V&255;return L};function o(L,k){var P=h;return Object.prototype.hasOwnProperty.call(P,L)?P[L]:P[L]=k(L)}function c(L,k){this.h=k;const P=[];let V=!0;for(let A=L.length-1;A>=0;A--){const D=L[A]|0;V&&D==k||(P[A]=D,V=!1)}this.g=P}var h={};function d(L){return-128<=L&&L<128?o(L,function(k){return new c([k|0],k<0?-1:0)}):new c([L|0],L<0?-1:0)}function p(L){if(isNaN(L)||!isFinite(L))return v;if(L<0)return C(p(-L));const k=[];let P=1;for(let V=0;L>=P;V++)k[V]=L/P|0,P*=4294967296;return new c(k,0)}function b(L,k){if(L.length==0)throw Error("number format error: empty string");if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(L.charAt(0)=="-")return C(b(L.substring(1),k));if(L.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=p(Math.pow(k,8));let V=v;for(let D=0;D<L.length;D+=8){var A=Math.min(8,L.length-D);const R=parseInt(L.substring(D,D+A),k);A<8?(A=p(Math.pow(k,A)),V=V.j(A).add(p(R))):(V=V.j(P),V=V.add(p(R)))}return V}var v=d(0),x=d(1),T=d(16777216);n=c.prototype,n.m=function(){if(I(this))return-C(this).m();let L=0,k=1;for(let P=0;P<this.g.length;P++){const V=this.i(P);L+=(V>=0?V:4294967296+V)*k,k*=4294967296}return L},n.toString=function(L){if(L=L||10,L<2||36<L)throw Error("radix out of range: "+L);if(N(this))return"0";if(I(this))return"-"+C(this).toString(L);const k=p(Math.pow(L,6));var P=this;let V="";for(;;){const A=$(P,k).g;P=U(P,A.j(k));let D=((P.g.length>0?P.g[0]:P.h)>>>0).toString(L);if(P=A,N(P))return D+V;for(;D.length<6;)D="0"+D;V=D+V}},n.i=function(L){return L<0?0:L<this.g.length?this.g[L]:this.h};function N(L){if(L.h!=0)return!1;for(let k=0;k<L.g.length;k++)if(L.g[k]!=0)return!1;return!0}function I(L){return L.h==-1}n.l=function(L){return L=U(this,L),I(L)?-1:N(L)?0:1};function C(L){const k=L.g.length,P=[];for(let V=0;V<k;V++)P[V]=~L.g[V];return new c(P,~L.h).add(x)}n.abs=function(){return I(this)?C(this):this},n.add=function(L){const k=Math.max(this.g.length,L.g.length),P=[];let V=0;for(let A=0;A<=k;A++){let D=V+(this.i(A)&65535)+(L.i(A)&65535),R=(D>>>16)+(this.i(A)>>>16)+(L.i(A)>>>16);V=R>>>16,D&=65535,R&=65535,P[A]=R<<16|D}return new c(P,P[P.length-1]&-2147483648?-1:0)};function U(L,k){return L.add(C(k))}n.j=function(L){if(N(this)||N(L))return v;if(I(this))return I(L)?C(this).j(C(L)):C(C(this).j(L));if(I(L))return C(this.j(C(L)));if(this.l(T)<0&&L.l(T)<0)return p(this.m()*L.m());const k=this.g.length+L.g.length,P=[];for(var V=0;V<2*k;V++)P[V]=0;for(V=0;V<this.g.length;V++)for(let A=0;A<L.g.length;A++){const D=this.i(V)>>>16,R=this.i(V)&65535,le=L.i(A)>>>16,de=L.i(A)&65535;P[2*V+2*A]+=R*de,K(P,2*V+2*A),P[2*V+2*A+1]+=D*de,K(P,2*V+2*A+1),P[2*V+2*A+1]+=R*le,K(P,2*V+2*A+1),P[2*V+2*A+2]+=D*le,K(P,2*V+2*A+2)}for(L=0;L<k;L++)P[L]=P[2*L+1]<<16|P[2*L];for(L=k;L<2*k;L++)P[L]=0;return new c(P,0)};function K(L,k){for(;(L[k]&65535)!=L[k];)L[k+1]+=L[k]>>>16,L[k]&=65535,k++}function B(L,k){this.g=L,this.h=k}function $(L,k){if(N(k))throw Error("division by zero");if(N(L))return new B(v,v);if(I(L))return k=$(C(L),k),new B(C(k.g),C(k.h));if(I(k))return k=$(L,C(k)),new B(C(k.g),k.h);if(L.g.length>30){if(I(L)||I(k))throw Error("slowDivide_ only works with positive integers.");for(var P=x,V=k;V.l(L)<=0;)P=Z(P),V=Z(V);var A=ve(P,1),D=ve(V,1);for(V=ve(V,2),P=ve(P,2);!N(V);){var R=D.add(V);R.l(L)<=0&&(A=A.add(P),D=R),V=ve(V,1),P=ve(P,1)}return k=U(L,A.j(k)),new B(A,k)}for(A=v;L.l(k)>=0;){for(P=Math.max(1,Math.floor(L.m()/k.m())),V=Math.ceil(Math.log(P)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),D=p(P),R=D.j(k);I(R)||R.l(L)>0;)P-=V,D=p(P),R=D.j(k);N(D)&&(D=x),A=A.add(D),L=U(L,R)}return new B(A,L)}n.B=function(L){return $(this,L).h},n.and=function(L){const k=Math.max(this.g.length,L.g.length),P=[];for(let V=0;V<k;V++)P[V]=this.i(V)&L.i(V);return new c(P,this.h&L.h)},n.or=function(L){const k=Math.max(this.g.length,L.g.length),P=[];for(let V=0;V<k;V++)P[V]=this.i(V)|L.i(V);return new c(P,this.h|L.h)},n.xor=function(L){const k=Math.max(this.g.length,L.g.length),P=[];for(let V=0;V<k;V++)P[V]=this.i(V)^L.i(V);return new c(P,this.h^L.h)};function Z(L){const k=L.g.length+1,P=[];for(let V=0;V<k;V++)P[V]=L.i(V)<<1|L.i(V-1)>>>31;return new c(P,L.h)}function ve(L,k){const P=k>>5;k%=32;const V=L.g.length-P,A=[];for(let D=0;D<V;D++)A[D]=k>0?L.i(D+P)>>>k|L.i(D+P+1)<<32-k:L.i(D+P);return new c(A,L.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,uS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=b,Ao=c}).apply(typeof Vw<"u"?Vw:typeof self<"u"?self:typeof window<"u"?window:{});var pf=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hS,$u,dS,Lf,Q0,fS,pS,mS;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof pf=="object"&&pf];for(var _=0;_<m.length;++_){var S=m[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(m,_){if(_)e:{var S=r;m=m.split(".");for(var M=0;M<m.length-1;M++){var J=m[M];if(!(J in S))break e;S=S[J]}m=m[m.length-1],M=S[m],_=_(M),_!=M&&_!=null&&e(S,m,{configurable:!0,writable:!0,value:_})}}i("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(m){return m||function(_){var S=[],M;for(M in _)Object.prototype.hasOwnProperty.call(_,M)&&S.push([M,_[M]]);return S}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(m){var _=typeof m;return _=="object"&&m!=null||_=="function"}function d(m,_,S){return m.call.apply(m.bind,arguments)}function p(m,_,S){return p=d,p.apply(null,arguments)}function b(m,_){var S=Array.prototype.slice.call(arguments,1);return function(){var M=S.slice();return M.push.apply(M,arguments),m.apply(this,M)}}function v(m,_){function S(){}S.prototype=_.prototype,m.Z=_.prototype,m.prototype=new S,m.prototype.constructor=m,m.Ob=function(M,J,ie){for(var we=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)we[Ge-2]=arguments[Ge];return _.prototype[J].apply(M,we)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function T(m){const _=m.length;if(_>0){const S=Array(_);for(let M=0;M<_;M++)S[M]=m[M];return S}return[]}function N(m,_){for(let M=1;M<arguments.length;M++){const J=arguments[M];var S=typeof J;if(S=S!="object"?S:J?Array.isArray(J)?"array":S:"null",S=="array"||S=="object"&&typeof J.length=="number"){S=m.length||0;const ie=J.length||0;m.length=S+ie;for(let we=0;we<ie;we++)m[S+we]=J[we]}else m.push(J)}}class I{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function C(m){c.setTimeout(()=>{throw m},0)}function U(){var m=L;let _=null;return m.g&&(_=m.g,m.g=m.g.next,m.g||(m.h=null),_.next=null),_}class K{constructor(){this.h=this.g=null}add(_,S){const M=B.get();M.set(_,S),this.h?this.h.next=M:this.g=M,this.h=M}}var B=new I(()=>new $,m=>m.reset());class ${constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,ve=!1,L=new K,k=()=>{const m=Promise.resolve(void 0);Z=()=>{m.then(P)}};function P(){for(var m;m=U();){try{m.h.call(m.g)}catch(S){C(S)}var _=B;_.j(m),_.h<100&&(_.h++,m.next=_.g,_.g=m)}ve=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(m,_){this.type=m,this.g=this.target=_,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var D=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,_=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const S=()=>{};c.addEventListener("test",S,_),c.removeEventListener("test",S,_)}catch{}return m})();function R(m){return/^[\s\xa0]*$/.test(m)}function le(m,_){A.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,_)}v(le,A),le.prototype.init=function(m,_){const S=this.type=m.type,M=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=_,_=m.relatedTarget,_||(S=="mouseover"?_=m.fromElement:S=="mouseout"&&(_=m.toElement)),this.relatedTarget=_,M?(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),z=0;function X(m,_,S,M,J){this.listener=m,this.proxy=null,this.src=_,this.type=S,this.capture=!!M,this.ha=J,this.key=++z,this.da=this.fa=!1}function ce(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function xe(m,_,S){for(const M in m)_.call(S,m[M],M,m)}function re(m,_){for(const S in m)_.call(void 0,m[S],S,m)}function q(m){const _={};for(const S in m)_[S]=m[S];return _}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(m,_){let S,M;for(let J=1;J<arguments.length;J++){M=arguments[J];for(S in M)m[S]=M[S];for(let ie=0;ie<W.length;ie++)S=W[ie],Object.prototype.hasOwnProperty.call(M,S)&&(m[S]=M[S])}}function he(m){this.src=m,this.g={},this.h=0}he.prototype.add=function(m,_,S,M,J){const ie=m.toString();m=this.g[ie],m||(m=this.g[ie]=[],this.h++);const we=Te(m,_,M,J);return we>-1?(_=m[we],S||(_.fa=!1)):(_=new X(_,this.src,ie,!!M,J),_.fa=S,m.push(_)),_};function ye(m,_){const S=_.type;if(S in m.g){var M=m.g[S],J=Array.prototype.indexOf.call(M,_,void 0),ie;(ie=J>=0)&&Array.prototype.splice.call(M,J,1),ie&&(ce(_),m.g[S].length==0&&(delete m.g[S],m.h--))}}function Te(m,_,S,M){for(let J=0;J<m.length;++J){const ie=m[J];if(!ie.da&&ie.listener==_&&ie.capture==!!S&&ie.ha==M)return J}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),Ne={};function Me(m,_,S,M,J){if(Array.isArray(_)){for(let ie=0;ie<_.length;ie++)Me(m,_[ie],S,M,J);return null}return S=Li(S),m&&m[de]?m.J(_,S,h(M)?!!M.capture:!1,J):Ye(m,_,S,!1,M,J)}function Ye(m,_,S,M,J,ie){if(!_)throw Error("Invalid event type");const we=h(J)?!!J.capture:!!J;let Ge=mt(m);if(Ge||(m[Se]=Ge=new he(m)),S=Ge.add(_,S,M,we,ie),S.proxy)return S;if(M=We(),S.proxy=M,M.src=m,M.listener=S,m.addEventListener)D||(J=we),J===void 0&&(J=!1),m.addEventListener(_.toString(),M,J);else if(m.attachEvent)m.attachEvent(dt(_.toString()),M);else if(m.addListener&&m.removeListener)m.addListener(M);else throw Error("addEventListener and attachEvent are unavailable.");return S}function We(){function m(S){return _.call(m.src,m.listener,S)}const _=_e;return m}function Xe(m,_,S,M,J){if(Array.isArray(_))for(var ie=0;ie<_.length;ie++)Xe(m,_[ie],S,M,J);else M=h(M)?!!M.capture:!!M,S=Li(S),m&&m[de]?(m=m.i,ie=String(_).toString(),ie in m.g&&(_=m.g[ie],S=Te(_,S,M,J),S>-1&&(ce(_[S]),Array.prototype.splice.call(_,S,1),_.length==0&&(delete m.g[ie],m.h--)))):m&&(m=mt(m))&&(_=m.g[_.toString()],m=-1,_&&(m=Te(_,S,M,J)),(S=m>-1?_[m]:null)&&et(S))}function et(m){if(typeof m!="number"&&m&&!m.da){var _=m.src;if(_&&_[de])ye(_.i,m);else{var S=m.type,M=m.proxy;_.removeEventListener?_.removeEventListener(S,M,m.capture):_.detachEvent?_.detachEvent(dt(S),M):_.addListener&&_.removeListener&&_.removeListener(M),(S=mt(_))?(ye(S,m),S.h==0&&(S.src=null,_[Se]=null)):ce(m)}}}function dt(m){return m in Ne?Ne[m]:Ne[m]="on"+m}function _e(m,_){if(m.da)m=!0;else{_=new le(_,this);const S=m.listener,M=m.ha||m.src;m.fa&&et(m),m=S.call(M,_)}return m}function mt(m){return m=m[Se],m instanceof he?m:null}var vr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Li(m){return typeof m=="function"?m:(m[vr]||(m[vr]=function(_){return m.handleEvent(_)}),m[vr])}function qt(){V.call(this),this.i=new he(this),this.M=this,this.G=null}v(qt,V),qt.prototype[de]=!0,qt.prototype.removeEventListener=function(m,_,S,M){Xe(this,m,_,S,M)};function Rt(m,_){var S,M=m.G;if(M)for(S=[];M;M=M.G)S.push(M);if(m=m.M,M=_.type||_,typeof _=="string")_=new A(_,m);else if(_ instanceof A)_.target=_.target||m;else{var J=_;_=new A(M,m),oe(_,J)}J=!0;let ie,we;if(S)for(we=S.length-1;we>=0;we--)ie=_.g=S[we],J=xr(ie,M,!0,_)&&J;if(ie=_.g=m,J=xr(ie,M,!0,_)&&J,J=xr(ie,M,!1,_)&&J,S)for(we=0;we<S.length;we++)ie=_.g=S[we],J=xr(ie,M,!1,_)&&J}qt.prototype.N=function(){if(qt.Z.N.call(this),this.i){var m=this.i;for(const _ in m.g){const S=m.g[_];for(let M=0;M<S.length;M++)ce(S[M]);delete m.g[_],m.h--}}this.G=null},qt.prototype.J=function(m,_,S,M){return this.i.add(String(m),_,!1,S,M)},qt.prototype.K=function(m,_,S,M){return this.i.add(String(m),_,!0,S,M)};function xr(m,_,S,M){if(_=m.i.g[String(_)],!_)return!0;_=_.concat();let J=!0;for(let ie=0;ie<_.length;++ie){const we=_[ie];if(we&&!we.da&&we.capture==S){const Ge=we.listener,on=we.ha||we.src;we.fa&&ye(m.i,we),J=Ge.call(on,M)!==!1&&J}}return J&&!M.defaultPrevented}function Da(m,_){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=p(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(m,_||0)}function Pi(m){m.g=Da(()=>{m.g=null,m.i&&(m.i=!1,Pi(m))},m.l);const _=m.h;m.h=null,m.m.apply(null,_)}class It extends V{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Pi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _r(m){V.call(this),this.h=m,this.g={}}v(_r,V);var Vi=[];function Lr(m){xe(m.g,function(_,S){this.g.hasOwnProperty(S)&&et(_)},m),m.g={}}_r.prototype.N=function(){_r.Z.N.call(this),Lr(this)},_r.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=c.JSON.stringify,Ui=c.JSON.parse,On=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function qi(){}function Bi(){}var hr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Wt(){A.call(this,"d")}v(Wt,A);function _n(){A.call(this,"c")}v(_n,A);var Ot={},ks=null;function wr(){return ks=ks||new qt}Ot.Ia="serverreachability";function $n(m){A.call(this,Ot.Ia,m)}v($n,A);function jn(m){const _=wr();Rt(_,new $n(_))}Ot.STAT_EVENT="statevent";function Pr(m,_){A.call(this,Ot.STAT_EVENT,m),this.stat=_}v(Pr,A);function wt(m){const _=wr();Rt(_,new Pr(_,m))}Ot.Ja="timingevent";function Qn(m,_){A.call(this,Ot.Ja,m),this.size=_}v(Qn,A);function An(m,_){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},_)}function kn(){this.g=!0}kn.prototype.ua=function(){this.g=!1};function zi(m,_,S,M,J,ie){m.info(function(){if(m.g)if(ie){var we="",Ge=ie.split("&");for(let gt=0;gt<Ge.length;gt++){var on=Ge[gt].split("=");if(on.length>1){const Kt=on[0];on=on[1];const fs=Kt.split("_");we=fs.length>=2&&fs[1]=="type"?we+(Kt+"="+on+"&"):we+(Kt+"=redacted&")}}}else we=null;else we=ie;return"XMLHTTP REQ ("+M+") [attempt "+J+"]: "+_+`
`+S+`
`+we})}function li(m,_,S,M,J,ie,we){m.info(function(){return"XMLHTTP RESP ("+M+") [ attempt "+J+"]: "+_+`
`+S+`
`+ie+" "+we})}function wn(m,_,S,M){m.info(function(){return"XMLHTTP TEXT ("+_+"): "+Vr(m,S)+(M?" "+M:"")})}function ss(m,_){m.info(function(){return"TIMEOUT: "+_})}kn.prototype.info=function(){};function Vr(m,_){if(!m.g)return _;if(!_)return null;try{const ie=JSON.parse(_);if(ie){for(m=0;m<ie.length;m++)if(Array.isArray(ie[m])){var S=ie[m];if(!(S.length<2)){var M=S[1];if(Array.isArray(M)&&!(M.length<1)){var J=M[0];if(J!="noop"&&J!="stop"&&J!="close")for(let we=1;we<M.length;we++)M[we]=""}}}}return ur(ie)}catch{return _}}var Ds={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Hi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fi;function is(){}v(is,qi),is.prototype.g=function(){return new XMLHttpRequest},Fi=new is;function dr(m){return encodeURIComponent(String(m))}function Jt(m){var _=1;m=m.split(":");const S=[];for(;_>0&&m.length;)S.push(m.shift()),_--;return m.length&&S.push(m.join(":")),S}function fr(m,_,S,M){this.j=m,this.i=_,this.l=S,this.S=M||1,this.V=new _r(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new pr}function pr(){this.i=null,this.g="",this.h=!1}var Bt={},en={};function Er(m,_,S){m.M=1,m.A=os(Ht(_)),m.u=S,m.R=!0,Xt(m,null)}function Xt(m,_){m.F=Date.now(),Tr(m),m.B=Ht(m.A);var S=m.B,M=m.S;Array.isArray(M)||(M=[String(M)]),fi(S.i,"t",M),m.C=0,S=m.j.L,m.h=new pr,m.g=rd(m.j,S?_:null,!m.u),m.P>0&&(m.O=new It(p(m.Y,m,m.g),m.P)),_=m.V,S=m.g,M=m.ba;var J="readystatechange";Array.isArray(J)||(J&&(Vi[0]=J.toString()),J=Vi);for(let ie=0;ie<J.length;ie++){const we=Me(S,J[ie],M||_.handleEvent,!1,_.h||_);if(!we)break;_.g[we.key]=we}_=m.J?q(m.J):{},m.u?(m.v||(m.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,_)):(m.v="GET",m.g.ea(m.B,m.v,null,_)),jn(),zi(m.i,m.v,m.B,m.l,m.S,m.u)}fr.prototype.ba=function(m){m=m.target;const _=this.O;_&&F(m)==3?_.j():this.Y(m)},fr.prototype.Y=function(m){try{if(m==this.g)e:{const Ge=F(this.g),on=this.g.ya(),gt=this.g.ca();if(!(Ge<3)&&(Ge!=3||this.g&&(this.h.h||this.g.la()||se(this.g)))){this.K||Ge!=4||on==7||(on==8||gt<=0?jn(3):jn(2)),Dt(this);var _=this.g.ca();this.X=_;var S=Bo(this);if(this.o=_==200,li(this.i,this.v,this.B,this.l,this.S,Ge,_),this.o){if(this.U&&!this.L){t:{if(this.g){var M,J=this.g;if((M=J.g?J.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(M)){var ie=M;break t}}ie=null}if(m=ie)wn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ar(this,m);else{this.o=!1,this.m=3,wt(12),Dn(this),Wn(this);break e}}if(this.R){m=!0;let Kt;for(;!this.K&&this.C<S.length;)if(Kt=La(this,S),Kt==en){Ge==4&&(this.m=4,wt(14),m=!1),wn(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==Bt){this.m=4,wt(15),wn(this.i,this.l,S,"[Invalid Chunk]"),m=!1;break}else wn(this.i,this.l,Kt,null),Ar(this,Kt);if(Ma(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ge!=4||S.length!=0||this.h.h||(this.m=1,wt(16),m=!1),this.o=this.o&&m,!m)wn(this.i,this.l,S,"[Invalid Chunked Response]"),Dn(this),Wn(this);else if(S.length>0&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.aa&&!we.P&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),Fr(we),we.P=!0,wt(11))}}else wn(this.i,this.l,S,null),Ar(this,S);Ge==4&&Dn(this),this.o&&!this.K&&(Ge==4?Wi(this.j,this):(this.o=!1,Tr(this)))}else Ve(this.g),_==400&&S.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),Dn(this),Wn(this)}}}catch{}finally{}};function Bo(m){if(!Ma(m))return m.g.la();const _=se(m.g);if(_==="")return"";let S="";const M=_.length,J=F(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Dn(m),Wn(m),"";m.h.i=new c.TextDecoder}for(let ie=0;ie<M;ie++)m.h.h=!0,S+=m.h.i.decode(_[ie],{stream:!(J&&ie==M-1)});return _.length=0,m.h.g+=S,m.C=0,m.h.g}function Ma(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function La(m,_){var S=m.C,M=_.indexOf(`
`,S);return M==-1?en:(S=Number(_.substring(S,M)),isNaN(S)?Bt:(M+=1,M+S>_.length?en:(_=_.slice(M,M+S),m.C=M+S,_)))}fr.prototype.cancel=function(){this.K=!0,Dn(this)};function Tr(m){m.T=Date.now()+m.H,ci(m,m.H)}function ci(m,_){if(m.D!=null)throw Error("WatchDog timer not null");m.D=An(p(m.aa,m),_)}function Dt(m){m.D&&(c.clearTimeout(m.D),m.D=null)}fr.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(ss(this.i,this.B),this.M!=2&&(jn(),wt(17)),Dn(this),this.m=2,Wn(this)):ci(this,this.T-m)};function Wn(m){m.j.I==0||m.K||Wi(m.j,m)}function Dn(m){Dt(m);var _=m.O;_&&typeof _.dispose=="function"&&_.dispose(),m.O=null,Lr(m.V),m.g&&(_=m.g,m.g=null,_.abort(),_.dispose())}function Ar(m,_){try{var S=m.j;if(S.I!=0&&(S.g==m||Mn(S.h,m))){if(!m.L&&Mn(S.h,m)&&S.I==3){try{var M=S.Ba.g.parse(_)}catch{M=null}if(Array.isArray(M)&&M.length==3){var J=M;if(J[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<m.F)Us(S),vt(S);else break e;Un(S),wt(18)}}else S.xa=J[1],0<S.xa-S.K&&J[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=An(p(S.Va,S),6e3));mr(S.h)<=1&&S.ta&&(S.ta=void 0)}else mi(S,11)}else if((m.L||S.g==m)&&Us(S),!R(_))for(J=S.Ba.g.parse(_),_=0;_<J.length;_++){let gt=J[_];const Kt=gt[0];if(!(Kt<=S.K))if(S.K=Kt,gt=gt[1],S.I==2)if(gt[0]=="c"){S.M=gt[1],S.ba=gt[2];const fs=gt[3];fs!=null&&(S.ka=fs,S.j.info("VER="+S.ka));const gi=gt[4];gi!=null&&(S.za=gi,S.j.info("SVER="+S.za));const qs=gt[5];qs!=null&&typeof qs=="number"&&qs>0&&(M=1.5*qs,S.O=M,S.j.info("backChannelRequestTimeoutMs_="+M)),M=S;const Bs=m.g;if(Bs){const Ho=Bs.g?Bs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ho){var ie=M.h;ie.g||Ho.indexOf("spdy")==-1&&Ho.indexOf("quic")==-1&&Ho.indexOf("h2")==-1||(ie.j=ie.l,ie.g=new Set,ie.h&&(Xn(ie,ie.h),ie.h=null))}if(M.G){const jl=Bs.g?Bs.g.getResponseHeader("X-HTTP-Session-Id"):null;jl&&(M.wa=jl,ut(M.J,M.G,jl))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-m.F,S.j.info("Handshake RTT: "+S.T+"ms")),M=S;var we=m;if(M.na=nd(M,M.L?M.ba:null,M.W),we.L){Ms(M.h,we);var Ge=we,on=M.O;on&&(Ge.H=on),Ge.D&&(Dt(Ge),Tr(Ge)),M.g=we}else Hr(M);S.i.length>0&&St(S)}else gt[0]!="stop"&&gt[0]!="close"||mi(S,7);else S.I==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?mi(S,7):Je(S):gt[0]!="noop"&&S.l&&S.l.qa(gt),S.A=0)}}jn(4)}catch{}}var zt=class{constructor(m,_){this.g=m,this.map=_}};function Gi(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function as(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function mr(m){return m.h?1:m.g?m.g.size:0}function Mn(m,_){return m.h?m.h==_:m.g?m.g.has(_):!1}function Xn(m,_){m.g?m.g.add(_):m.h=_}function Ms(m,_){m.h&&m.h==_?m.h=null:m.g&&m.g.has(_)&&m.g.delete(_)}Gi.prototype.cancel=function(){if(this.i=Ki(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Ki(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let _=m.i;for(const S of m.g.values())_=_.concat(S.G);return _}return T(m.i)}var Pa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ui(m,_){if(m){m=m.split("&");for(let S=0;S<m.length;S++){const M=m[S].indexOf("=");let J,ie=null;M>=0?(J=m[S].substring(0,M),ie=m[S].substring(M+1)):J=m[S],_(J,ie?decodeURIComponent(ie.replace(/\+/g," ")):"")}}}function Ln(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;m instanceof Ln?(this.l=m.l,Mt(this,m.j),this.o=m.o,this.g=m.g,Sr(this,m.u),this.h=m.h,Ur(this,Va(m.i)),this.m=m.m):m&&(_=String(m).match(Pa))?(this.l=!1,Mt(this,_[1]||"",!0),this.o=Nr(_[2]||""),this.g=Nr(_[3]||"",!0),Sr(this,_[4]),this.h=Nr(_[5]||"",!0),Ur(this,_[6]||"",!0),this.m=Nr(_[7]||"")):(this.l=!1,this.i=new dn(null,this.l))}Ln.prototype.toString=function(){const m=[];var _=this.j;_&&m.push(Ls(_,hi,!0),":");var S=this.g;return(S||_=="file")&&(m.push("//"),(_=this.o)&&m.push(Ls(_,hi,!0),"@"),m.push(dr(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&m.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&m.push("/"),m.push(Ls(S,S.charAt(0)=="/"?Yi:di,!0))),(S=this.i.toString())&&m.push("?",S),(S=this.m)&&m.push("#",Ls(S,cs)),m.join("")},Ln.prototype.resolve=function(m){const _=Ht(this);let S=!!m.j;S?Mt(_,m.j):S=!!m.o,S?_.o=m.o:S=!!m.g,S?_.g=m.g:S=m.u!=null;var M=m.h;if(S)Sr(_,m.u);else if(S=!!m.h){if(M.charAt(0)!="/")if(this.g&&!this.h)M="/"+M;else{var J=_.h.lastIndexOf("/");J!=-1&&(M=_.h.slice(0,J+1)+M)}if(J=M,J==".."||J==".")M="";else if(J.indexOf("./")!=-1||J.indexOf("/.")!=-1){M=J.lastIndexOf("/",0)==0,J=J.split("/");const ie=[];for(let we=0;we<J.length;){const Ge=J[we++];Ge=="."?M&&we==J.length&&ie.push(""):Ge==".."?((ie.length>1||ie.length==1&&ie[0]!="")&&ie.pop(),M&&we==J.length&&ie.push("")):(ie.push(Ge),M=!0)}M=ie.join("/")}else M=J}return S?_.h=M:S=m.i.toString()!=="",S?Ur(_,Va(m.i)):S=!!m.m,S&&(_.m=m.m),_};function Ht(m){return new Ln(m)}function Mt(m,_,S){m.j=S?Nr(_,!0):_,m.j&&(m.j=m.j.replace(/:$/,""))}function Sr(m,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);m.u=_}else m.u=null}function Ur(m,_,S){_ instanceof dn?(m.i=_,pi(m.i,m.l)):(S||(_=Ls(_,ls)),m.i=new dn(_,m.l))}function ut(m,_,S){m.i.set(_,S)}function os(m){return ut(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function Nr(m,_){return m?_?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ls(m,_,S){return typeof m=="string"?(m=encodeURI(m).replace(_,Sn),S&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Sn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var hi=/[#\/\?@]/g,di=/[#\?:]/g,Yi=/[#\?]/g,ls=/[#\?@]/g,cs=/#/g;function dn(m,_){this.h=this.g=null,this.i=m||null,this.j=!!_}function Ft(m){m.g||(m.g=new Map,m.h=0,m.i&&ui(m.i,function(_,S){m.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}n=dn.prototype,n.add=function(m,_){Ft(this),this.i=null,m=us(this,m);let S=this.g.get(m);return S||this.g.set(m,S=[]),S.push(_),this.h+=1,this};function Cr(m,_){Ft(m),_=us(m,_),m.g.has(_)&&(m.i=null,m.h-=m.g.get(_).length,m.g.delete(_))}function $i(m,_){return Ft(m),_=us(m,_),m.g.has(_)}n.forEach=function(m,_){Ft(this),this.g.forEach(function(S,M){S.forEach(function(J){m.call(_,J,M,this)},this)},this)};function Zn(m,_){Ft(m);let S=[];if(typeof _=="string")$i(m,_)&&(S=S.concat(m.g.get(us(m,_))));else for(m=Array.from(m.g.values()),_=0;_<m.length;_++)S=S.concat(m[_]);return S}n.set=function(m,_){return Ft(this),this.i=null,m=us(this,m),$i(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[_]),this.h+=1,this},n.get=function(m,_){return m?(m=Zn(this,m),m.length>0?String(m[0]):_):_};function fi(m,_,S){Cr(m,_),S.length>0&&(m.i=null,m.g.set(us(m,_),T(S)),m.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],_=Array.from(this.g.keys());for(let M=0;M<_.length;M++){var S=_[M];const J=dr(S);S=Zn(this,S);for(let ie=0;ie<S.length;ie++){let we=J;S[ie]!==""&&(we+="="+dr(S[ie])),m.push(we)}}return this.i=m.join("&")};function Va(m){const _=new dn;return _.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),_}function us(m,_){return _=String(_),m.j&&(_=_.toLowerCase()),_}function pi(m,_){_&&!m.j&&(Ft(m),m.i=null,m.g.forEach(function(S,M){const J=M.toLowerCase();M!=J&&(Cr(this,M),fi(this,J,S))},m)),m.j=_}function Jn(m,_){const S=new kn;if(c.Image){const M=new Image;M.onload=b(Pn,S,"TestLoadImage: loaded",!0,_,M),M.onerror=b(Pn,S,"TestLoadImage: error",!1,_,M),M.onabort=b(Pn,S,"TestLoadImage: abort",!1,_,M),M.ontimeout=b(Pn,S,"TestLoadImage: timeout",!1,_,M),c.setTimeout(function(){M.ontimeout&&M.ontimeout()},1e4),M.src=m}else _(!1)}function sn(m,_){const S=new kn,M=new AbortController,J=setTimeout(()=>{M.abort(),Pn(S,"TestPingServer: timeout",!1,_)},1e4);fetch(m,{signal:M.signal}).then(ie=>{clearTimeout(J),ie.ok?Pn(S,"TestPingServer: ok",!0,_):Pn(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(J),Pn(S,"TestPingServer: error",!1,_)})}function Pn(m,_,S,M,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),M(S)}catch{}}function qr(){this.g=new On}function Vn(m){this.i=m.Sb||null,this.h=m.ab||!1}v(Vn,qi),Vn.prototype.g=function(){return new Br(this.i,this.h)};function Br(m,_){qt.call(this),this.H=m,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(Br,qt),n=Br.prototype,n.open=function(m,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=_,this.readyState=1,er(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(_.body=m),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,er(this)),this.g&&(this.readyState=3,er(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;zr(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function zr(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var _=m.value?m.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!m.done}))&&(this.response=this.responseText+=_)}m.done?hs(this):er(this),this.readyState==3&&zr(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,hs(this))},n.Na=function(m){this.g&&(this.response=m,hs(this))},n.ga=function(){this.g&&hs(this)};function hs(m){m.readyState=4,m.l=null,m.j=null,m.B=null,er(m)}n.setRequestHeader=function(m,_){this.A.append(m,_)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,m.push(S[0]+": "+S[1]),S=_.next();return m.join(`\r
`)};function er(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Br.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Nn(m){let _="";return xe(m,function(S,M){_+=M,_+=":",_+=S,_+=`\r
`}),_}function ds(m,_,S){e:{for(M in S){var M=!1;break e}M=!0}M||(S=Nn(S),typeof m=="string"?S!=null&&dr(S):ut(m,_,S))}function Ze(m){qt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(Ze,qt);var gr=/^https?$/i,Ps=["POST","PUT"];n=Ze.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,_,S,M){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);_=_?_.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fi.g(),this.g.onreadystatechange=x(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(m),!0),this.B=!1}catch(ie){Vs(this,ie);return}if(m=S||"",S=new Map(this.headers),M)if(Object.getPrototypeOf(M)===Object.prototype)for(var J in M)S.set(J,M[J]);else if(typeof M.keys=="function"&&typeof M.get=="function")for(const ie of M.keys())S.set(ie,M.get(ie));else throw Error("Unknown input type for opt_headers: "+String(M));M=Array.from(S.keys()).find(ie=>ie.toLowerCase()=="content-type"),J=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(Ps,_,void 0)>=0)||M||J||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ie,we]of S)this.g.setRequestHeader(ie,we);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(ie){Vs(this,ie)}};function Vs(m,_){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=_,m.o=5,Qi(m),j(m)}function Qi(m){m.A||(m.A=!0,Rt(m,"complete"),Rt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Rt(this,"complete"),Rt(this,"abort"),j(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),j(this,!0)),Ze.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?w(this):this.Xa())},n.Xa=function(){w(this)};function w(m){if(m.h&&typeof o<"u"){if(m.v&&F(m)==4)setTimeout(m.Ca.bind(m),0);else if(Rt(m,"readystatechange"),F(m)==4){m.h=!1;try{const ie=m.ca();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var S;if(!(S=_)){var M;if(M=ie===0){let we=String(m.D).match(Pa)[1]||null;!we&&c.self&&c.self.location&&(we=c.self.location.protocol.slice(0,-1)),M=!gr.test(we?we.toLowerCase():"")}S=M}if(S)Rt(m,"complete"),Rt(m,"success");else{m.o=6;try{var J=F(m)>2?m.g.statusText:""}catch{J=""}m.l=J+" ["+m.ca()+"]",Qi(m)}}finally{j(m)}}}}function j(m,_){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const S=m.g;m.g=null,_||Rt(m,"ready");try{S.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function F(m){return m.g?m.g.readyState:0}n.ca=function(){try{return F(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var _=this.g.responseText;return m&&_.indexOf(m)==0&&(_=_.substring(m.length)),Ui(_)}};function se(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Ve(m){const _={};m=(m.g&&F(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let M=0;M<m.length;M++){if(R(m[M]))continue;var S=Jt(m[M]);const J=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ie=_[J]||[];_[J]=ie,ie.push(S)}re(_,function(M){return M.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Re(m,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[m]||_}function $e(m){this.za=0,this.i=[],this.j=new kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Re("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Re("baseRetryDelayMs",5e3,m),this.Za=Re("retryDelaySeedMs",1e4,m),this.Ta=Re("forwardChannelMaxRetries",2,m),this.va=Re("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Gi(m&&m.concurrentRequestLimit),this.Ba=new qr,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=$e.prototype,n.ka=8,n.I=1,n.connect=function(m,_,S,M){wt(0),this.W=m,this.H=_||{},S&&M!==void 0&&(this.H.OSID=S,this.H.OAID=M),this.F=this.X,this.J=nd(this,null,this.W),St(this)};function Je(m){if(tt(m),m.I==3){var _=m.V++,S=Ht(m.J);if(ut(S,"SID",m.M),ut(S,"RID",_),ut(S,"TYPE","terminate"),Gt(m,S),_=new fr(m,m.j,_),_.M=2,_.A=os(Ht(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!S&&c.Image&&(new Image().src=_.A,S=!0),S||(_.g=rd(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Tr(_)}td(m)}function vt(m){m.g&&(Fr(m),m.g.cancel(),m.g=null)}function tt(m){vt(m),m.v&&(c.clearTimeout(m.v),m.v=null),Us(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function St(m){if(!as(m.h)&&!m.m){m.m=!0;var _=m.Ea;Z||k(),ve||(Z(),ve=!0),L.add(_,m),m.D=0}}function an(m,_){return mr(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=_.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=An(p(m.Ea,m,_),ed(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const J=new fr(this,this.j,m);let ie=this.o;if(this.U&&(ie?(ie=q(ie),oe(ie,this.U)):ie=this.U),this.u!==null||this.R||(J.J=ie,ie=null),this.S)e:{for(var _=0,S=0;S<this.i.length;S++){t:{var M=this.i[S];if("__data__"in M.map&&(M=M.map.__data__,typeof M=="string")){M=M.length;break t}M=void 0}if(M===void 0)break;if(_+=M,_>4096){_=S;break e}if(_===4096||S===this.i.length-1){_=S+1;break e}}_=1e3}else _=1e3;_=tn(this,J,_),S=Ht(this.J),ut(S,"RID",m),ut(S,"CVER",22),this.G&&ut(S,"X-HTTP-Session-Id",this.G),Gt(this,S),ie&&(this.R?_="headers="+dr(Nn(ie))+"&"+_:this.u&&ds(S,this.u,ie)),Xn(this.h,J),this.Ra&&ut(S,"TYPE","init"),this.S?(ut(S,"$req",_),ut(S,"SID","null"),J.U=!0,Er(J,S,null)):Er(J,S,_),this.I=2}}else this.I==3&&(m?Lt(this,m):this.i.length==0||as(this.h)||Lt(this))};function Lt(m,_){var S;_?S=_.l:S=m.V++;const M=Ht(m.J);ut(M,"SID",m.M),ut(M,"RID",S),ut(M,"AID",m.K),Gt(m,M),m.u&&m.o&&ds(M,m.u,m.o),S=new fr(m,m.j,S,m.D+1),m.u===null&&(S.J=m.o),_&&(m.i=_.G.concat(m.i)),_=tn(m,S,1e3),S.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Xn(m.h,S),Er(S,M,_)}function Gt(m,_){m.H&&xe(m.H,function(S,M){ut(_,M,S)}),m.l&&xe({},function(S,M){ut(_,M,S)})}function tn(m,_,S){S=Math.min(m.i.length,S);const M=m.l?p(m.l.Ka,m.l,m):null;e:{var J=m.i;let Ge=-1;for(;;){const on=["count="+S];Ge==-1?S>0?(Ge=J[0].g,on.push("ofs="+Ge)):Ge=0:on.push("ofs="+Ge);let gt=!0;for(let Kt=0;Kt<S;Kt++){var ie=J[Kt].g;const fs=J[Kt].map;if(ie-=Ge,ie<0)Ge=Math.max(0,J[Kt].g-100),gt=!1;else try{ie="req"+ie+"_"||"";try{var we=fs instanceof Map?fs:Object.entries(fs);for(const[gi,qs]of we){let Bs=qs;h(qs)&&(Bs=ur(qs)),on.push(ie+gi+"="+encodeURIComponent(Bs))}}catch(gi){throw on.push(ie+"type="+encodeURIComponent("_badmap")),gi}}catch{M&&M(fs)}}if(gt){we=on.join("&");break e}}we=void 0}return m=m.i.splice(0,S),_.G=m,we}function Hr(m){if(!m.g&&!m.v){m.Y=1;var _=m.Da;Z||k(),ve||(Z(),ve=!0),L.add(_,m),m.A=0}}function Un(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=An(p(m.Da,m),ed(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,zo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=An(p(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),vt(this),zo(this))};function Fr(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function zo(m){m.g=new fr(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var _=Ht(m.na);ut(_,"RID","rpc"),ut(_,"SID",m.M),ut(_,"AID",m.K),ut(_,"CI",m.F?"0":"1"),!m.F&&m.ia&&ut(_,"TO",m.ia),ut(_,"TYPE","xmlhttp"),Gt(m,_),m.u&&m.o&&ds(_,m.u,m.o),m.O&&(m.g.H=m.O);var S=m.g;m=m.ba,S.M=1,S.A=os(Ht(_)),S.u=null,S.R=!0,Xt(S,m)}n.Va=function(){this.C!=null&&(this.C=null,vt(this),Un(this),wt(19))};function Us(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function Wi(m,_){var S=null;if(m.g==_){Us(m),Fr(m),m.g=null;var M=2}else if(Mn(m.h,_))S=_.G,Ms(m.h,_),M=1;else return;if(m.I!=0){if(_.o)if(M==1){S=_.u?_.u.length:0,_=Date.now()-_.F;var J=m.D;M=wr(),Rt(M,new Qn(M,S)),St(m)}else Hr(m);else if(J=_.m,J==3||J==0&&_.X>0||!(M==1&&an(m,_)||M==2&&Un(m)))switch(S&&S.length>0&&(_=m.h,_.i=_.i.concat(S)),J){case 1:mi(m,5);break;case 4:mi(m,10);break;case 3:mi(m,6);break;default:mi(m,2)}}}function ed(m,_){let S=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(S*=2),S*_}function mi(m,_){if(m.j.info("Error code "+_),_==2){var S=p(m.bb,m),M=m.Ua;const J=!M;M=new Ln(M||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Mt(M,"https"),os(M),J?Jn(M.toString(),S):sn(M.toString(),S)}else wt(2);m.I=0,m.l&&m.l.pa(_),td(m),tt(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function td(m){if(m.I=0,m.ja=[],m.l){const _=Ki(m.h);(_.length!=0||m.i.length!=0)&&(N(m.ja,_),N(m.ja,m.i),m.h.i.length=0,T(m.i),m.i.length=0),m.l.oa()}}function nd(m,_,S){var M=S instanceof Ln?Ht(S):new Ln(S);if(M.g!="")_&&(M.g=_+"."+M.g),Sr(M,M.u);else{var J=c.location;M=J.protocol,_=_?_+"."+J.hostname:J.hostname,J=+J.port;const ie=new Ln(null);M&&Mt(ie,M),_&&(ie.g=_),J&&Sr(ie,J),S&&(ie.h=S),M=ie}return S=m.G,_=m.wa,S&&_&&ut(M,S,_),ut(M,"VER",m.ka),Gt(m,M),M}function rd(m,_,S){if(_&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=m.Aa&&!m.ma?new Ze(new Vn({ab:S})):new Ze(m.ma),_.Fa(m.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function sd(){}n=sd.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ua(){}Ua.prototype.g=function(m,_){return new yr(m,_)};function yr(m,_){qt.call(this),this.g=new $e(_),this.l=m,this.h=_&&_.messageUrlParams||null,m=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(m?m["X-WebChannel-Content-Type"]=_.messageContentType:m={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(m?m["X-WebChannel-Client-Profile"]=_.sa:m={"X-WebChannel-Client-Profile":_.sa}),this.g.U=m,(m=_&&_.Qb)&&!R(m)&&(this.g.u=m),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!R(_)&&(this.g.G=_,m=this.h,m!==null&&_ in m&&(m=this.h,_ in m&&delete m[_])),this.j=new Xi(this)}v(yr,qt),yr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yr.prototype.close=function(){Je(this.g)},yr.prototype.o=function(m){var _=this.g;if(typeof m=="string"){var S={};S.__data__=m,m=S}else this.v&&(S={},S.__data__=ur(m),m=S);_.i.push(new zt(_.Ya++,m)),_.I==3&&St(_)},yr.prototype.N=function(){this.g.l=null,delete this.j,Je(this.g),delete this.g,yr.Z.N.call(this)};function id(m){Wt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var _=m.__sm__;if(_){e:{for(const S in _){m=S;break e}m=void 0}(this.i=m)&&(m=this.i,_=_!==null&&m in _?_[m]:void 0),this.data=_}else this.data=m}v(id,Wt);function ad(){_n.call(this),this.status=1}v(ad,_n);function Xi(m){this.g=m}v(Xi,sd),Xi.prototype.ra=function(){Rt(this.g,"a")},Xi.prototype.qa=function(m){Rt(this.g,new id(m))},Xi.prototype.pa=function(m){Rt(this.g,new ad)},Xi.prototype.oa=function(){Rt(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,yr.prototype.send=yr.prototype.o,yr.prototype.open=yr.prototype.m,yr.prototype.close=yr.prototype.close,mS=function(){return new Ua},pS=function(){return wr()},fS=Ot,Q0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ds.NO_ERROR=0,Ds.TIMEOUT=8,Ds.HTTP_ERROR=6,Lf=Ds,Hi.COMPLETE="complete",dS=Hi,Bi.EventType=hr,hr.OPEN="a",hr.CLOSE="b",hr.ERROR="c",hr.MESSAGE="d",qt.prototype.listen=qt.prototype.J,$u=Bi,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa,hS=Ze}).apply(typeof pf<"u"?pf:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}rr.UNAUTHENTICATED=new rr(null),rr.GOOGLE_CREDENTIALS=new rr("google-credentials-uid"),rr.FIRST_PARTY=new rr("first-party-uid"),rr.MOCK_USER=new rr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c="12.8.0";function kk(n){$c=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pl=new Zy("@firebase/firestore");function uc(){return pl.logLevel}function Ce(n,...e){if(pl.logLevel<=at.DEBUG){const t=e.map(tb);pl.debug(`Firestore (${$c}): ${n}`,...t)}}function Ea(n,...e){if(pl.logLevel<=at.ERROR){const t=e.map(tb);pl.error(`Firestore (${$c}): ${n}`,...t)}}function Oc(n,...e){if(pl.logLevel<=at.WARN){const t=e.map(tb);pl.warn(`Firestore (${$c}): ${n}`,...t)}}function tb(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,gS(n,r,t)}function gS(n,e,t){let r=`FIRESTORE (${$c}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ea(r),new Error(r)}function bt(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||gS(e,i,r)}function Fe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends Ia{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Dk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(rr.UNAUTHENTICATED)))}shutdown(){}}class Mk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Lk{constructor(e){this.t=e,this.currentUser=rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){bt(this.o===void 0,42304);let r=this.i;const i=d=>this.i!==r?(r=this.i,t(d)):Promise.resolve();let o=new va;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new va,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await i(this.currentUser)}))},h=d=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((d=>h(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new va)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt(typeof r.accessToken=="string",31837,{l:r}),new yS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string",2055,{h:e}),new rr(e)}}class Pk{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=rr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Vk{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Pk(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(rr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Uw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uk{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Jr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){bt(this.o===void 0,3512);const r=o=>{o.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,Ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Uw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(bt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Uw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=qk(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function ot(n,e){return n<e?-1:n>e?1:0}function W0(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),o=e.charAt(r);if(i!==o)return m0(i)===m0(o)?ot(i,o):m0(i)?1:-1}return ot(n.length,e.length)}const Bk=55296,zk=57343;function m0(n){const e=n.charCodeAt(0);return e>=Bk&&e<=zk}function jc(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="__name__";class Ei{constructor(e,t,r){t===void 0?t=0:t>e.length&&Be(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Be(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Ei.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ei?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=Ei.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ot(e.length,t.length)}static compareSegments(e,t){const r=Ei.isNumericId(e),i=Ei.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Ei.extractNumericId(e).compare(Ei.extractNumericId(t)):W0(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ao.fromString(e.substring(4,e.length-2))}}class kt extends Ei{construct(e,t,r){return new kt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new kt(t)}static emptyPath(){return new kt([])}}const Hk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gn extends Ei{construct(e,t,r){return new Gn(e,t,r)}static isValidIdentifier(e){return Hk.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qw}static keyField(){return new Gn([qw])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ae(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new Ae(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[i+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Ae(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,i+=2}else h==="`"?(c=!c,i++):h!=="."||c?(r+=h,i++):(o(),i++)}if(o(),c)throw new Ae(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gn(t)}static emptyPath(){return new Gn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(kt.fromString(e))}static fromName(e){return new Pe(kt.fromString(e).popFirst(5))}static empty(){return new Pe(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new kt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(n,e,t){if(!t)throw new Ae(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Fk(n,e,t,r){if(e===!0&&r===!0)throw new Ae(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Bw(n){if(!Pe.isDocumentKey(n))throw new Ae(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function zw(n){if(Pe.isDocumentKey(n))throw new Ae(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Sp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Be(12329,{type:typeof n})}function Zs(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Sp(n);throw new Ae(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(n,e){const t={typeString:n};return e&&(t.value=e),t}function qh(n,e){if(!vS(n))throw new Ae(me.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(i&&typeof c!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new Ae(me.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=-62135596800,Fw=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Fw);return new Ct(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Hw)throw new Ae(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Fw}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(qh(e,Ct._jsonSchema))return new Ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Hw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ct._jsonSchemaVersion="firestore/timestamp/1.0",Ct._jsonSchema={type:xn("string",Ct._jsonSchemaVersion),seconds:xn("number"),nanoseconds:xn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new Ct(0,0))}static max(){return new ze(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=-1;function Gk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ze.fromTimestamp(r===1e9?new Ct(t+1,0):new Ct(t,r));return new Co(i,Pe.empty(),e)}function Kk(n){return new Co(n.readTime,n.key,bh)}class Co{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Co(ze.min(),Pe.empty(),bh)}static max(){return new Co(ze.max(),Pe.empty(),bh)}}function Yk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Pe.comparator(n.documentKey,e.documentKey),t!==0?t:ot(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Qk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==$k)throw n;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new be(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof be?t:be.resolve(t)}catch(t){return be.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):be.reject(t)}static resolve(e){return new be(((t,r)=>{t(e)}))}static reject(e){return new be(((t,r)=>{r(e)}))}static waitFor(e){return new be(((t,r)=>{let i=0,o=0,c=!1;e.forEach((h=>{++i,h.next((()=>{++o,c&&o===i&&t()}),(d=>r(d)))})),c=!0,o===i&&t()}))}static or(e){let t=be.resolve(!1);for(const r of e)t=t.next((i=>i?be.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,o)=>{r.push(t.call(this,i,o))})),this.waitFor(r)}static mapArray(e,t){return new be(((r,i)=>{const o=e.length,c=new Array(o);let h=0;for(let d=0;d<o;d++){const p=d;t(e[p]).next((b=>{c[p]=b,++h,h===o&&r(c)}),(b=>i(b)))}}))}static doWhile(e,t){return new be(((r,i)=>{const o=()=>{e()===!0?t().next((()=>{o()}),i):r()};o()}))}}function Wk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Wc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Np.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rb=-1;function Cp(n){return n==null}function Jf(n){return n===0&&1/n==-1/0}function Xk(n){return typeof n=="number"&&Number.isInteger(n)&&!Jf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="";function Zk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Gw(e)),e=Jk(n.get(t),e);return Gw(e)}function Jk(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case xS:t+="";break;default:t+=o}}return t}function Gw(n){return n+xS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function wl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function _S(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,t){this.comparator=e,this.root=t||Fn.EMPTY}insert(e,t){return new Zt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(e){return new Zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mf(this.root,e,this.comparator,!1)}getReverseIterator(){return new mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mf(this.root,e,this.comparator,!0)}}class mf{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Fn.RED,this.left=i??Fn.EMPTY,this.right=o??Fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Fn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Fn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Be(27949);return e+(this.isRed()?0:1)}}Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Be(57766)}get value(){throw Be(16141)}get color(){throw Be(16727)}get left(){throw Be(29726)}get right(){throw Be(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Fn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.comparator=e,this.data=new Zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Yw(this.data.getIterator())}getIteratorFrom(e){return new Yw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Tn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Tn(this.comparator);return t.data=e,t}}class Yw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.fields=e,e.sort(Gn.comparator)}static empty(){return new Ws([])}unionWith(e){let t=new Tn(Gn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ws(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jc(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new wS("Invalid base64 string: "+o):o}})(e);return new Yn(t)}static fromUint8Array(e){const t=(function(i){let o="";for(let c=0;c<i.length;++c)o+=String.fromCharCode(i[c]);return o})(e);return new Yn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yn.EMPTY_BYTE_STRING=new Yn("");const e6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ro(n){if(bt(!!n,39018),typeof n=="string"){let e=0;const t=e6.exec(n);if(bt(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:un(n.seconds),nanos:un(n.nanos)}}function un(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Io(n){return typeof n=="string"?Yn.fromBase64String(n):Yn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="server_timestamp",TS="__type__",AS="__previous_value__",SS="__local_write_time__";function sb(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[TS])==null?void 0:r.stringValue)===ES}function Rp(n){const e=n.mapValue.fields[AS];return sb(e)?Rp(e):e}function vh(n){const e=Ro(n.mapValue.fields[SS].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,t,r,i,o,c,h,d,p,b,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=b,this.apiKey=v}}const ep="(default)";class xh{constructor(e,t){this.projectId=e,this.database=t||ep}static empty(){return new xh("","")}get isDefaultDatabase(){return this.database===ep}isEqual(e){return e instanceof xh&&e.projectId===this.projectId&&e.database===this.database}}function n6(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Ae(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xh(n.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="__type__",r6="__max__",gf={mapValue:{}},CS="__vector__",tp="value";function Oo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?sb(n)?4:i6(n)?9007199254740991:s6(n)?10:11:Be(28295,{value:n})}function Oi(n,e){if(n===e)return!0;const t=Oo(n);if(t!==Oo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vh(n).isEqual(vh(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const c=Ro(i.timestampValue),h=Ro(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Io(i.bytesValue).isEqual(Io(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return un(i.geoPointValue.latitude)===un(o.geoPointValue.latitude)&&un(i.geoPointValue.longitude)===un(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return un(i.integerValue)===un(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const c=un(i.doubleValue),h=un(o.doubleValue);return c===h?Jf(c)===Jf(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return jc(n.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:case 11:return(function(i,o){const c=i.mapValue.fields||{},h=o.mapValue.fields||{};if(Kw(c)!==Kw(h))return!1;for(const d in c)if(c.hasOwnProperty(d)&&(h[d]===void 0||!Oi(c[d],h[d])))return!1;return!0})(n,e);default:return Be(52216,{left:n})}}function _h(n,e){return(n.values||[]).find((t=>Oi(t,e)))!==void 0}function kc(n,e){if(n===e)return 0;const t=Oo(n),r=Oo(e);if(t!==r)return ot(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ot(n.booleanValue,e.booleanValue);case 2:return(function(o,c){const h=un(o.integerValue||o.doubleValue),d=un(c.integerValue||c.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1})(n,e);case 3:return $w(n.timestampValue,e.timestampValue);case 4:return $w(vh(n),vh(e));case 5:return W0(n.stringValue,e.stringValue);case 6:return(function(o,c){const h=Io(o),d=Io(c);return h.compareTo(d)})(n.bytesValue,e.bytesValue);case 7:return(function(o,c){const h=o.split("/"),d=c.split("/");for(let p=0;p<h.length&&p<d.length;p++){const b=ot(h[p],d[p]);if(b!==0)return b}return ot(h.length,d.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,c){const h=ot(un(o.latitude),un(c.latitude));return h!==0?h:ot(un(o.longitude),un(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Qw(n.arrayValue,e.arrayValue);case 10:return(function(o,c){var x,T,N,I;const h=o.fields||{},d=c.fields||{},p=(x=h[tp])==null?void 0:x.arrayValue,b=(T=d[tp])==null?void 0:T.arrayValue,v=ot(((N=p==null?void 0:p.values)==null?void 0:N.length)||0,((I=b==null?void 0:b.values)==null?void 0:I.length)||0);return v!==0?v:Qw(p,b)})(n.mapValue,e.mapValue);case 11:return(function(o,c){if(o===gf.mapValue&&c===gf.mapValue)return 0;if(o===gf.mapValue)return 1;if(c===gf.mapValue)return-1;const h=o.fields||{},d=Object.keys(h),p=c.fields||{},b=Object.keys(p);d.sort(),b.sort();for(let v=0;v<d.length&&v<b.length;++v){const x=W0(d[v],b[v]);if(x!==0)return x;const T=kc(h[d[v]],p[b[v]]);if(T!==0)return T}return ot(d.length,b.length)})(n.mapValue,e.mapValue);default:throw Be(23264,{he:t})}}function $w(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ot(n,e);const t=Ro(n),r=Ro(e),i=ot(t.seconds,r.seconds);return i!==0?i:ot(t.nanos,r.nanos)}function Qw(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=kc(t[i],r[i]);if(o)return o}return ot(t.length,r.length)}function Dc(n){return X0(n)}function X0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Ro(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Io(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Pe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=X0(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const c of r)o?o=!1:i+=",",i+=`${c}:${X0(t.fields[c])}`;return i+"}"})(n.mapValue):Be(61005,{value:n})}function Pf(n){switch(Oo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rp(n);return e?16+Pf(e):16;case 5:return 2*n.stringValue.length;case 6:return Io(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+Pf(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return wl(r.fields,((o,c)=>{i+=o.length+Pf(c)})),i})(n.mapValue);default:throw Be(13486,{value:n})}}function Ww(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Z0(n){return!!n&&"integerValue"in n}function ib(n){return!!n&&"arrayValue"in n}function Xw(n){return!!n&&"nullValue"in n}function Zw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vf(n){return!!n&&"mapValue"in n}function s6(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[NS])==null?void 0:r.stringValue)===CS}function rh(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return wl(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=rh(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=rh(n.arrayValue.values[t]);return e}return{...n}}function i6(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===r6}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this.value=e}static empty(){return new Ns({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Vf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rh(t)}setAll(e){let t=Gn.emptyPath(),r={},i=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const d=this.getFieldsMap(t);this.applyChanges(d,r,i),r={},i=[],t=h.popLast()}c?r[h.lastSegment()]=rh(c):i.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());Vf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Vf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){wl(t,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new Ns(rh(this.value))}}function RS(n){const e=[];return wl(n.fields,((t,r)=>{const i=new Gn([t]);if(Vf(r)){const o=RS(r.mapValue).fields;if(o.length===0)e.push(i);else for(const c of o)e.push(i.child(c))}else e.push(i)})),new Ws(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e,t,r,i,o,c,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new sr(e,0,ze.min(),ze.min(),ze.min(),Ns.empty(),0)}static newFoundDocument(e,t,r,i){return new sr(e,1,t,ze.min(),r,i,0)}static newNoDocument(e,t){return new sr(e,2,t,ze.min(),ze.min(),Ns.empty(),0)}static newUnknownDocument(e,t){return new sr(e,3,t,ze.min(),ze.min(),Ns.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ns.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ns.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,t){this.position=e,this.inclusive=t}}function Jw(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],c=n.position[i];if(o.field.isKeyField()?r=Pe.comparator(Pe.fromName(c.referenceValue),t.key):r=kc(c,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function eE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Oi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,t="asc"){this.field=e,this.dir=t}}function a6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{}class vn extends IS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new l6(e,t,r):t==="array-contains"?new h6(e,r):t==="in"?new d6(e,r):t==="not-in"?new f6(e,r):t==="array-contains-any"?new p6(e,r):new vn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new c6(e,r):new u6(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(kc(t,this.value)):t!==null&&Oo(this.value)===Oo(t)&&this.matchesComparison(kc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ni extends IS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ni(e,t)}matches(e){return OS(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function OS(n){return n.op==="and"}function jS(n){return o6(n)&&OS(n)}function o6(n){for(const e of n.filters)if(e instanceof ni)return!1;return!0}function J0(n){if(n instanceof vn)return n.field.canonicalString()+n.op.toString()+Dc(n.value);if(jS(n))return n.filters.map((e=>J0(e))).join(",");{const e=n.filters.map((t=>J0(t))).join(",");return`${n.op}(${e})`}}function kS(n,e){return n instanceof vn?(function(r,i){return i instanceof vn&&r.op===i.op&&r.field.isEqual(i.field)&&Oi(r.value,i.value)})(n,e):n instanceof ni?(function(r,i){return i instanceof ni&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,c,h)=>o&&kS(c,i.filters[h])),!0):!1})(n,e):void Be(19439)}function DS(n){return n instanceof vn?(function(t){return`${t.field.canonicalString()} ${t.op} ${Dc(t.value)}`})(n):n instanceof ni?(function(t){return t.op.toString()+" {"+t.getFilters().map(DS).join(" ,")+"}"})(n):"Filter"}class l6 extends vn{constructor(e,t,r){super(e,t,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const t=Pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class c6 extends vn{constructor(e,t){super(e,"in",t),this.keys=MS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class u6 extends vn{constructor(e,t){super(e,"not-in",t),this.keys=MS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function MS(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>Pe.fromName(r.referenceValue)))}class h6 extends vn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ib(t)&&_h(t.arrayValue,this.value)}}class d6 extends vn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&_h(this.value.arrayValue,t)}}class f6 extends vn{constructor(e,t){super(e,"not-in",t)}matches(e){if(_h(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!_h(this.value.arrayValue,t)}}class p6 extends vn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ib(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>_h(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,t=null,r=[],i=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function tE(n,e=null,t=[],r=[],i=null,o=null,c=null){return new m6(n,e,t,r,i,o,c)}function ab(n){const e=Fe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>J0(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Cp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Dc(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Dc(r))).join(",")),e.Te=t}return e.Te}function ob(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!a6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!kS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!eE(n.startAt,e.startAt)&&eE(n.endAt,e.endAt)}function ey(n){return Pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t=null,r=[],i=[],o=null,c="F",h=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function g6(n,e,t,r,i,o,c,h){return new Xc(n,e,t,r,i,o,c,h)}function Ip(n){return new Xc(n)}function nE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function y6(n){return Pe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function LS(n){return n.collectionGroup!==null}function sh(n){const e=Fe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Tn(Gn.comparator);return c.filters.forEach((d=>{d.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new wh(o,r))})),t.has(Gn.keyField().canonicalString())||e.Ie.push(new wh(Gn.keyField(),r))}return e.Ie}function Ti(n){const e=Fe(n);return e.Ee||(e.Ee=b6(e,sh(n))),e.Ee}function b6(n,e){if(n.limitType==="F")return tE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new wh(i.field,o)}));const t=n.endAt?new np(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new np(n.startAt.position,n.startAt.inclusive):null;return tE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function ty(n,e){const t=n.filters.concat([e]);return new Xc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function v6(n,e){const t=n.explicitOrderBy.concat([e]);return new Xc(n.path,n.collectionGroup,t,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function rp(n,e,t){return new Xc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Op(n,e){return ob(Ti(n),Ti(e))&&n.limitType===e.limitType}function PS(n){return`${ab(Ti(n))}|lt:${n.limitType}`}function hc(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>DS(i))).join(", ")}]`),Cp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>Dc(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>Dc(i))).join(",")),`Target(${r})`})(Ti(n))}; limitType=${n.limitType})`}function jp(n,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Pe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(const o of sh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(c,h,d){const p=Jw(c,h,d);return c.inclusive?p<=0:p<0})(r.startAt,sh(r),i)||r.endAt&&!(function(c,h,d){const p=Jw(c,h,d);return c.inclusive?p>=0:p>0})(r.endAt,sh(r),i))})(n,e)}function x6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function VS(n){return(e,t)=>{let r=!1;for(const i of sh(n)){const o=_6(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function _6(n,e,t){const r=n.field.isKeyField()?Pe.comparator(e.key,t.key):(function(o,c,h){const d=c.data.field(o),p=h.data.field(o);return d!==null&&p!==null?kc(d,p):Be(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Be(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){wl(this.inner,((t,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return _S(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6=new Zt(Pe.comparator);function Ta(){return w6}const US=new Zt(Pe.comparator);function Qu(...n){let e=US;for(const t of n)e=e.insert(t.key,t);return e}function qS(n){let e=US;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function al(){return ih()}function BS(){return ih()}function ih(){return new El((n=>n.toString()),((n,e)=>n.isEqual(e)))}const E6=new Zt(Pe.comparator),T6=new Tn(Pe.comparator);function lt(...n){let e=T6;for(const t of n)e=e.add(t);return e}const A6=new Tn(ot);function S6(){return A6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jf(e)?"-0":e}}function zS(n){return{integerValue:""+n}}function N6(n,e){return Xk(e)?zS(e):lb(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(){this._=void 0}}function C6(n,e,t){return n instanceof Eh?(function(i,o){const c={fields:{[TS]:{stringValue:ES},[SS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&sb(o)&&(o=Rp(o)),o&&(c.fields[AS]=o),{mapValue:c}})(t,e):n instanceof Th?FS(n,e):n instanceof Ah?GS(n,e):(function(i,o){const c=HS(i,o),h=rE(c)+rE(i.Ae);return Z0(c)&&Z0(i.Ae)?zS(h):lb(i.serializer,h)})(n,e)}function R6(n,e,t){return n instanceof Th?FS(n,e):n instanceof Ah?GS(n,e):t}function HS(n,e){return n instanceof sp?(function(r){return Z0(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Eh extends kp{}class Th extends kp{constructor(e){super(),this.elements=e}}function FS(n,e){const t=KS(e);for(const r of n.elements)t.some((i=>Oi(i,r)))||t.push(r);return{arrayValue:{values:t}}}class Ah extends kp{constructor(e){super(),this.elements=e}}function GS(n,e){let t=KS(e);for(const r of n.elements)t=t.filter((i=>!Oi(i,r)));return{arrayValue:{values:t}}}class sp extends kp{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function rE(n){return un(n.integerValue||n.doubleValue)}function KS(n){return ib(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e,t){this.field=e,this.transform=t}}function O6(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof Th&&i instanceof Th||r instanceof Ah&&i instanceof Ah?jc(r.elements,i.elements,Oi):r instanceof sp&&i instanceof sp?Oi(r.Ae,i.Ae):r instanceof Eh&&i instanceof Eh})(n.transform,e.transform)}class j6{constructor(e,t){this.version=e,this.transformResults=t}}class Ai{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ai}static exists(e){return new Ai(void 0,e)}static updateTime(e){return new Ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Dp{}function YS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new QS(n.key,Ai.none()):new Bh(n.key,n.data,Ai.none());{const t=n.data,r=Ns.empty();let i=new Tn(Gn.comparator);for(let o of e.fields)if(!i.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?r.delete(o):r.set(o,c),i=i.add(o)}return new Tl(n.key,r,new Ws(i.toArray()),Ai.none())}}function k6(n,e,t){n instanceof Bh?(function(i,o,c){const h=i.value.clone(),d=iE(i.fieldTransforms,o,c.transformResults);h.setAll(d),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Tl?(function(i,o,c){if(!Uf(i.precondition,o))return void o.convertToUnknownDocument(c.version);const h=iE(i.fieldTransforms,o,c.transformResults),d=o.data;d.setAll($S(i)),d.setAll(h),o.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):(function(i,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function ah(n,e,t,r){return n instanceof Bh?(function(o,c,h,d){if(!Uf(o.precondition,c))return h;const p=o.value.clone(),b=aE(o.fieldTransforms,d,c);return p.setAll(b),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof Tl?(function(o,c,h,d){if(!Uf(o.precondition,c))return h;const p=aE(o.fieldTransforms,d,c),b=c.data;return b.setAll($S(o)),b.setAll(p),c.convertToFoundDocument(c.version,b).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((v=>v.field)))})(n,e,t,r):(function(o,c,h){return Uf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function D6(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=HS(r.transform,i||null);o!=null&&(t===null&&(t=Ns.empty()),t.set(r.field,o))}return t||null}function sE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&jc(r,i,((o,c)=>O6(o,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Bh extends Dp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Tl extends Dp{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function $S(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function iE(n,e,t){const r=new Map;bt(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let i=0;i<t.length;i++){const o=n[i],c=o.transform,h=e.data.field(o.field);r.set(o.field,R6(c,h,t[i]))}return r}function aE(n,e,t){const r=new Map;for(const i of n){const o=i.transform,c=t.data.field(i.field);r.set(i.field,C6(o,c,e))}return r}class QS extends Dp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class M6 extends Dp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&k6(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ah(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ah(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=BS();return this.mutations.forEach((i=>{const o=e.get(i.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=t.has(i.key)?null:h;const d=YS(c,h);d!==null&&r.set(i.key,d),c.isValidDocument()||c.convertToNoDocument(ze.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),lt())}isEqual(e){return this.batchId===e.batchId&&jc(this.mutations,e.mutations,((t,r)=>sE(t,r)))&&jc(this.baseMutations,e.baseMutations,((t,r)=>sE(t,r)))}}class cb{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){bt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return E6})();const o=e.mutations;for(let c=0;c<o.length;c++)i=i.insert(o[c].key,r[c].version);return new cb(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yn,ht;function U6(n){switch(n){case me.OK:return Be(64938);case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Be(15467,{code:n})}}function WS(n){if(n===void 0)return Ea("GRPC error has no .code"),me.UNKNOWN;switch(n){case yn.OK:return me.OK;case yn.CANCELLED:return me.CANCELLED;case yn.UNKNOWN:return me.UNKNOWN;case yn.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case yn.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case yn.INTERNAL:return me.INTERNAL;case yn.UNAVAILABLE:return me.UNAVAILABLE;case yn.UNAUTHENTICATED:return me.UNAUTHENTICATED;case yn.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case yn.NOT_FOUND:return me.NOT_FOUND;case yn.ALREADY_EXISTS:return me.ALREADY_EXISTS;case yn.PERMISSION_DENIED:return me.PERMISSION_DENIED;case yn.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case yn.ABORTED:return me.ABORTED;case yn.OUT_OF_RANGE:return me.OUT_OF_RANGE;case yn.UNIMPLEMENTED:return me.UNIMPLEMENTED;case yn.DATA_LOSS:return me.DATA_LOSS;default:return Be(39323,{code:n})}}(ht=yn||(yn={}))[ht.OK=0]="OK",ht[ht.CANCELLED=1]="CANCELLED",ht[ht.UNKNOWN=2]="UNKNOWN",ht[ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ht[ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ht[ht.NOT_FOUND=5]="NOT_FOUND",ht[ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",ht[ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",ht[ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",ht[ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ht[ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ht[ht.ABORTED=10]="ABORTED",ht[ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",ht[ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",ht[ht.INTERNAL=13]="INTERNAL",ht[ht.UNAVAILABLE=14]="UNAVAILABLE",ht[ht.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=new Ao([4294967295,4294967295],0);function oE(n){const e=q6().encode(n),t=new uS;return t.update(e),new Uint8Array(t.digest())}function lE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ao([t,r],0),new Ao([i,o],0)]}class ub{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Wu(`Invalid padding: ${t}`);if(r<0)throw new Wu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Wu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ao.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(Ao.fromNumber(r)));return i.compare(B6)===1&&(i=new Ao([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=oE(e),[r,i]=lE(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,i,o);if(!this.we(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new ub(o,i,t);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const t=oE(e),[r,i]=lE(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,i,o);this.be(c)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Wu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,zh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Mp(ze.min(),i,new Zt(ot),Ta(),lt())}}class zh{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new zh(r,t,lt(),lt(),lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=i}}class XS{constructor(e,t){this.targetId=e,this.Ce=t}}class ZS{constructor(e,t,r=Yn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class cE{constructor(){this.ve=0,this.Fe=uE(),this.Me=Yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=lt(),t=lt(),r=lt();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Be(38017,{changeType:o})}})),new zh(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=uE()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,bt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class z6{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ta(),this.He=yf(),this.Je=yf(),this.Ze=new Zt(ot)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Be(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const o=i.target;if(ey(o))if(r===0){const c=new Pe(o.path);this.et(t,c,sr.newNoDocument(c,ze.min()))}else bt(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const h=this.ut(e),d=h?this.ct(h,e,c):1;if(d!==0){this.it(t);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let c,h;try{c=Io(r).toUint8Array()}catch(d){if(d instanceof wS)return Oc("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new ub(c,i,o)}catch(d){return Oc(d instanceof Wu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&ey(h.target)){const d=new Pe(h.target.path);this.It(d).has(c)||this.Et(c,d)||this.et(c,d,sr.newNoDocument(d,e))}o.Be&&(t.set(c,o.ke()),o.Ke())}}));let r=lt();this.Je.forEach(((o,c)=>{let h=!0;c.forEachWhile((d=>{const p=this.ot(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const i=new Mp(e,t,this.Ze,this.je,r);return this.je=Ta(),this.He=yf(),this.Je=yf(),this.Ze=new Zt(ot),i}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.qe(t,1):i.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new cE,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Tn(ot),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Tn(ot),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ce("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new cE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function yf(){return new Zt(Pe.comparator)}function uE(){return new Zt(Pe.comparator)}const H6={asc:"ASCENDING",desc:"DESCENDING"},F6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},G6={and:"AND",or:"OR"};class K6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ny(n,e){return n.useProto3Json||Cp(e)?e:{value:e}}function ip(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Y6(n,e){return ip(n,e.toTimestamp())}function Si(n){return bt(!!n,49232),ze.fromTimestamp((function(t){const r=Ro(t);return new Ct(r.seconds,r.nanos)})(n))}function hb(n,e){return ry(n,e).canonicalString()}function ry(n,e){const t=(function(i){return new kt(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function eN(n){const e=kt.fromString(n);return bt(iN(e),10190,{key:e.toString()}),e}function sy(n,e){return hb(n.databaseId,e.path)}function g0(n,e){const t=eN(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Pe(nN(t))}function tN(n,e){return hb(n.databaseId,e)}function $6(n){const e=eN(n);return e.length===4?kt.emptyPath():nN(e)}function iy(n){return new kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nN(n){return bt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function hE(n,e,t){return{name:sy(n,e),fields:t.value.mapValue.fields}}function Q6(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Be(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(p,b){return p.useProto3Json?(bt(b===void 0||typeof b=="string",58123),Yn.fromBase64String(b||"")):(bt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Yn.fromUint8Array(b||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(p){const b=p.code===void 0?me.UNKNOWN:WS(p.code);return new Ae(b,p.message||"")})(c);t=new ZS(r,i,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=g0(n,r.document.name),o=Si(r.document.updateTime),c=r.document.createTime?Si(r.document.createTime):ze.min(),h=new Ns({mapValue:{fields:r.document.fields}}),d=sr.newFoundDocument(i,o,c,h),p=r.targetIds||[],b=r.removedTargetIds||[];t=new qf(p,b,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=g0(n,r.document),o=r.readTime?Si(r.readTime):ze.min(),c=sr.newNoDocument(i,o),h=r.removedTargetIds||[];t=new qf([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=g0(n,r.document),o=r.removedTargetIds||[];t=new qf([],o,i,null)}else{if(!("filter"in e))return Be(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,c=new V6(i,o),h=r.targetId;t=new XS(h,c)}}return t}function W6(n,e){let t;if(e instanceof Bh)t={update:hE(n,e.key,e.value)};else if(e instanceof QS)t={delete:sy(n,e.key)};else if(e instanceof Tl)t={update:hE(n,e.key,e.data),updateMask:iD(e.fieldMask)};else{if(!(e instanceof M6))return Be(16599,{dt:e.type});t={verify:sy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const h=c.transform;if(h instanceof Eh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Th)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ah)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof sp)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Be(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:Y6(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Be(27497)})(n,e.precondition)),t}function X6(n,e){return n&&n.length>0?(bt(e!==void 0,14353),n.map((t=>(function(i,o){let c=i.updateTime?Si(i.updateTime):Si(o);return c.isEqual(ze.min())&&(c=Si(o)),new j6(c,i.transformResults||[])})(t,e)))):[]}function Z6(n,e){return{documents:[tN(n,e.path)]}}function J6(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=tN(n,i);const o=(function(p){if(p.length!==0)return sN(ni.create(p,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(p){if(p.length!==0)return p.map((b=>(function(x){return{field:dc(x.field),direction:nD(x.dir)}})(b)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=ny(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:i}}function eD(n){let e=$6(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){bt(r===1,65062);const b=t.from[0];b.allDescendants?i=b.collectionId:e=e.child(b.collectionId)}let o=[];t.where&&(o=(function(v){const x=rN(v);return x instanceof ni&&jS(x)?x.getFilters():[x]})(t.where));let c=[];t.orderBy&&(c=(function(v){return v.map((x=>(function(N){return new wh(fc(N.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(x)))})(t.orderBy));let h=null;t.limit&&(h=(function(v){let x;return x=typeof v=="object"?v.value:v,Cp(x)?null:x})(t.limit));let d=null;t.startAt&&(d=(function(v){const x=!!v.before,T=v.values||[];return new np(T,x)})(t.startAt));let p=null;return t.endAt&&(p=(function(v){const x=!v.before,T=v.values||[];return new np(T,x)})(t.endAt)),g6(e,i,c,o,h,"F",d,p)}function tD(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Be(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function rN(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=fc(t.unaryFilter.field);return vn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=fc(t.unaryFilter.field);return vn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=fc(t.unaryFilter.field);return vn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=fc(t.unaryFilter.field);return vn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Be(61313);default:return Be(60726)}})(n):n.fieldFilter!==void 0?(function(t){return vn.create(fc(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Be(58110);default:return Be(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ni.create(t.compositeFilter.filters.map((r=>rN(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Be(1026)}})(t.compositeFilter.op))})(n):Be(30097,{filter:n})}function nD(n){return H6[n]}function rD(n){return F6[n]}function sD(n){return G6[n]}function dc(n){return{fieldPath:n.canonicalString()}}function fc(n){return Gn.fromServerFormat(n.fieldPath)}function sN(n){return n instanceof vn?(function(t){if(t.op==="=="){if(Zw(t.value))return{unaryFilter:{field:dc(t.field),op:"IS_NAN"}};if(Xw(t.value))return{unaryFilter:{field:dc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Zw(t.value))return{unaryFilter:{field:dc(t.field),op:"IS_NOT_NAN"}};if(Xw(t.value))return{unaryFilter:{field:dc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dc(t.field),op:rD(t.op),value:t.value}}})(n):n instanceof ni?(function(t){const r=t.getFilters().map((i=>sN(i)));return r.length===1?r[0]:{compositeFilter:{op:sD(t.op),filters:r}}})(n):Be(54877,{filter:n})}function iD(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function iN(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function aN(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e,t,r,i,o=ze.min(),c=ze.min(),h=Yn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new go(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new go(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.yt=e}}function oD(n){const e=eD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?rp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(){this.Sn=new cD}addToCollectionParentIndex(e,t){return this.Sn.add(t),be.resolve()}getCollectionParents(e,t){return be.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return be.resolve()}deleteFieldIndex(e,t){return be.resolve()}deleteAllFieldIndexes(e){return be.resolve()}createTargetIndexes(e,t){return be.resolve()}getDocumentsMatchingTarget(e,t){return be.resolve(null)}getIndexType(e,t){return be.resolve(0)}getFieldIndexes(e,t){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,t){return be.resolve(Co.min())}getMinOffsetFromCollectionGroup(e,t){return be.resolve(Co.min())}updateCollectionGroup(e,t,r){return be.resolve()}updateIndexEntries(e,t){return be.resolve()}}class cD{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Tn(kt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Tn(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oN=41943040;class Mr{static withCacheSize(e){return new Mr(e,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr.DEFAULT_COLLECTION_PERCENTILE=10,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mr.DEFAULT=new Mr(oN,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mr.DISABLED=new Mr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Mc(0)}static ar(){return new Mc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="LruGarbageCollector",uD=1048576;function pE([n,e],[t,r]){const i=ot(n,t);return i===0?ot(e,r):i}class hD{constructor(e){this.Pr=e,this.buffer=new Tn(pE),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();pE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class dD{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Ce(fE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Wc(t)?Ce(fE,"Ignoring IndexedDB error during garbage collection: ",t):await Qc(t)}await this.Ar(3e5)}))}}class fD{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return be.resolve(Np.ce);const r=new hD(t);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),be.resolve(dE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dE):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,i,o,c,h,d,p;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),i=this.params.maximumSequenceNumbersToCollect):i=v,c=Date.now(),this.nthSequenceNumber(e,i)))).next((v=>(r=v,h=Date.now(),this.removeTargets(e,r,t)))).next((v=>(o=v,d=Date.now(),this.removeOrphanedDocuments(e,r)))).next((v=>(p=Date.now(),uc()<=at.DEBUG&&Ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-b}ms
	Determined least recently used ${i} in `+(h-c)+`ms
	Removed ${o} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(p-d)+`ms
Total Duration: ${p-b}ms`),be.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:v}))))}}function pD(n,e){return new fD(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(){this.changes=new El((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?be.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&ah(r.mutation,i,Ws.empty(),Ct.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,lt()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=lt()){const i=al();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((o=>{let c=Qu();return o.forEach(((h,d)=>{c=c.insert(h,d.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=al();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,lt())))}populateOverlays(e,t,r){const i=[];return r.forEach((o=>{t.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,r,i){let o=Ta();const c=ih(),h=(function(){return ih()})();return t.forEach(((d,p)=>{const b=r.get(p.key);i.has(p.key)&&(b===void 0||b.mutation instanceof Tl)?o=o.insert(p.key,p):b!==void 0?(c.set(p.key,b.mutation.getFieldMask()),ah(b.mutation,p,b.mutation.getFieldMask(),Ct.now())):c.set(p.key,Ws.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((p,b)=>c.set(p,b))),t.forEach(((p,b)=>h.set(p,new gD(b,c.get(p)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=ih();let i=new Zt(((c,h)=>c-h)),o=lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((d=>{const p=t.get(d);if(p===null)return;let b=r.get(d)||Ws.empty();b=h.applyToLocalView(p,b),r.set(d,b);const v=(i.get(h.batchId)||lt()).add(d);i=i.insert(h.batchId,v)}))})).next((()=>{const c=[],h=i.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),p=d.key,b=d.value,v=BS();b.forEach((x=>{if(!o.has(x)){const T=YS(t.get(x),r.get(x));T!==null&&v.set(x,T),o=o.add(x)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,v))}return be.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return y6(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):LS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((o=>{const c=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):be.resolve(al());let h=bh,d=o;return c.next((p=>be.forEach(p,((b,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),o.get(b)?be.resolve():this.remoteDocumentCache.getEntry(e,b).next((x=>{d=d.insert(b,x)}))))).next((()=>this.populateOverlays(e,p,o))).next((()=>this.computeViews(e,d,p,lt()))).next((b=>({batchId:h,changes:qS(b)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pe(t)).next((r=>{let i=Qu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let c=Qu();return this.indexManager.getCollectionParents(e,o).next((h=>be.forEach(h,(d=>{const p=(function(v,x){return new Xc(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((b=>{b.forEach(((v,x)=>{c=c.insert(v,x)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i)))).next((c=>{o.forEach(((d,p)=>{const b=p.getKey();c.get(b)===null&&(c=c.insert(b,sr.newInvalidDocument(b)))}));let h=Qu();return c.forEach(((d,p)=>{const b=o.get(d);b!==void 0&&ah(b.mutation,p,Ws.empty(),Ct.now()),jp(t,p)&&(h=h.insert(d,p))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return be.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:Si(i.createTime)}})(t)),be.resolve()}getNamedQuery(e,t){return be.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(i){return{name:i.name,query:oD(i.bundledQuery),readTime:Si(i.readTime)}})(t)),be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.overlays=new Zt(Pe.comparator),this.Lr=new Map}getOverlay(e,t){return be.resolve(this.overlays.get(t))}getOverlays(e,t){const r=al();return be.forEach(t,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,o)=>{this.bt(e,t,o)})),be.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),be.resolve()}getOverlaysForCollection(e,t,r){const i=al(),o=t.length+1,c=new Pe(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const d=h.getNext().value,p=d.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&d.largestBatchId>r&&i.set(d.getKey(),d)}return be.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Zt(((p,b)=>p-b));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let b=o.get(p.largestBatchId);b===null&&(b=al(),o=o.insert(p.largestBatchId,b)),b.set(p.getKey(),p)}}const h=al(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((p,b)=>h.set(p,b))),!(h.size()>=i)););return be.resolve(h)}bt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new P6(t,r));let o=this.Lr.get(t);o===void 0&&(o=lt(),this.Lr.set(t,o)),this.Lr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(){this.sessionToken=Yn.EMPTY_BYTE_STRING}getSessionToken(e){return be.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,be.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(){this.kr=new Tn(Rn.Kr),this.qr=new Tn(Rn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new Rn(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Rn(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new Pe(new kt([])),r=new Rn(t,e),i=new Rn(t,e+1),o=[];return this.qr.forEachInRange([r,i],(c=>{this.Wr(c),o.push(c.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Pe(new kt([])),r=new Rn(t,e),i=new Rn(t,e+1);let o=lt();return this.qr.forEachInRange([r,i],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new Rn(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Rn{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Pe.comparator(e.key,t.key)||ot(e.Hr,t.Hr)}static Ur(e,t){return ot(e.Hr,t.Hr)||Pe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Tn(Rn.Kr)}checkEmpty(e){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new L6(o,t,r,i);this.mutationQueue.push(c);for(const h of i)this.Jr=this.Jr.add(new Rn(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return be.resolve(c)}lookupMutationBatch(e,t){return be.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Xr(r),o=i<0?0:i;return be.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?rb:this.Yn-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Rn(t,0),i=new Rn(t,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],(c=>{const h=this.Zr(c.Hr);o.push(h)})),be.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Tn(ot);return t.forEach((i=>{const o=new Rn(i,0),c=new Rn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,c],(h=>{r=r.add(h.Hr)}))})),be.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;Pe.isDocumentKey(o)||(o=o.child(""));const c=new Rn(new Pe(o),0);let h=new Tn(ot);return this.Jr.forEachWhile((d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(h=h.add(d.Hr)),!0)}),c),be.resolve(this.Yr(h))}Yr(e){const t=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){bt(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return be.forEach(t.mutations,(i=>{const o=new Rn(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new Rn(t,0),i=this.Jr.firstAfterOrEqual(r);return be.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e){this.ti=e,this.docs=(function(){return new Zt(Pe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,c=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return be.resolve(r?r.document.mutableCopy():sr.newInvalidDocument(t))}getEntries(e,t){let r=Ta();return t.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():sr.newInvalidDocument(i))})),be.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ta();const c=t.path,h=new Pe(c.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:p,value:{document:b}}=d.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||Yk(Kk(b),r)<=0||(i.has(b.key)||jp(t,b))&&(o=o.insert(b.key,b.mutableCopy()))}return be.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Be(9500)}ni(e,t){return be.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new ED(this)}getSize(e){return be.resolve(this.size)}}class ED extends mD{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),be.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.persistence=e,this.ri=new El((t=>ab(t)),ob),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.ii=0,this.si=new db,this.targetCount=0,this.oi=Mc._r()}forEachTarget(e,t){return this.ri.forEach(((r,i)=>t(i))),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),be.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Mc(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,be.resolve()}updateTargetData(e,t){return this.lr(t),be.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.ri.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)})),be.waitFor(o).next((()=>i))}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return be.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),be.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach((c=>{o.push(i.markPotentiallyOrphaned(e,c))})),be.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),be.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return be.resolve(r)}containsKey(e,t){return be.resolve(this.si.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,t){this._i={},this.overlays={},this.ai=new Np(0),this.ui=!1,this.ui=!0,this.ci=new xD,this.referenceDelegate=e(this),this.li=new TD(this),this.indexManager=new lD,this.remoteDocumentCache=(function(i){return new wD(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new aD(t),this.Pi=new bD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new _D(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){Ce("MemoryPersistence","Starting transaction:",e);const i=new AD(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((o=>this.referenceDelegate.Ii(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ei(e,t){return be.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class AD extends Qk{constructor(e){super(),this.currentSequenceNumber=e}}class fb{constructor(e){this.persistence=e,this.Ri=new db,this.Ai=null}static Vi(e){return new fb(e)}get di(){if(this.Ai)return this.Ai;throw Be(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),be.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),be.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),be.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.di,(r=>{const i=Pe.fromPath(r);return this.mi(e,i).next((o=>{o||t.removeEntry(i,ze.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return be.or([()=>be.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class ap{constructor(e,t){this.persistence=e,this.fi=new El((r=>Zk(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=pD(this,t)}static Vi(e,t){return new ap(e,t)}Ti(){}Ii(e){return be.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return be.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((o=>o?be.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,(c=>this.wr(e,c,t).next((h=>{h||(r++,o.removeEntry(c,ze.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),be.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),be.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),be.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),be.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Pf(e.data.value)),t}wr(e,t,r){return be.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.fi.get(t);return be.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=i}static Es(e,t){let r=lt(),i=lt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new pb(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return m3()?8:Wk(lr())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.gs(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ps(e,t,i,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new SD;return this.ys(e,t,c).next((h=>{if(o.result=h,this.As)return this.ws(e,t,c,h.size)}))})).next((()=>o.result))}ws(e,t,r,i){return r.documentReadCount<this.Vs?(uc()<=at.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",hc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),be.resolve()):(uc()<=at.DEBUG&&Ce("QueryEngine","Query:",hc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(uc()<=at.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",hc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(t))):be.resolve())}gs(e,t){if(nE(t))return be.resolve(null);let r=Ti(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=rp(t,null,"F"),r=Ti(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=lt(...o);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((d=>{const p=this.bs(t,h);return this.Ss(t,p,c,d.readTime)?this.gs(e,rp(t,null,"F")):this.Ds(e,p,t,d)}))))})))))}ps(e,t,r,i){return nE(t)||i.isEqual(ze.min())?be.resolve(null):this.fs.getDocuments(e,r).next((o=>{const c=this.bs(t,o);return this.Ss(t,c,r,i)?be.resolve(null):(uc()<=at.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hc(t)),this.Ds(e,c,t,Gk(i,bh)).next((h=>h)))}))}bs(e,t){let r=new Tn(VS(e));return t.forEach(((i,o)=>{jp(e,o)&&(r=r.add(o))})),r}Ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,t,r){return uc()<=at.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",hc(t)),this.fs.getDocumentsMatchingQuery(e,t,Co.min(),r)}Ds(e,t,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="LocalStore",CD=3e8;class RD{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.vs=new Zt(ot),this.Fs=new El((o=>ab(o)),ob),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yD(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function ID(n,e,t,r){return new RD(n,e,t,r)}async function cN(n,e){const t=Fe(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],h=[];let d=lt();for(const p of i){c.push(p.batchId);for(const b of p.mutations)d=d.add(b.key)}for(const p of o){h.push(p.batchId);for(const b of p.mutations)d=d.add(b.key)}return t.localDocuments.getDocuments(r,d).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:h})))}))}))}function OD(n,e){const t=Fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=t.xs.newChangeBuffer({trackRemovals:!0});return(function(h,d,p,b){const v=p.batch,x=v.keys();let T=be.resolve();return x.forEach((N=>{T=T.next((()=>b.getEntry(d,N))).next((I=>{const C=p.docVersions.get(N);bt(C!==null,48541),I.version.compareTo(C)<0&&(v.applyToRemoteDocument(I,p),I.isValidDocument()&&(I.setReadTime(p.commitVersion),b.addEntry(I)))}))})),T.next((()=>h.mutationQueue.removeMutationBatch(d,v)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let d=lt();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(d=d.add(h.batch.mutations[p].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function uN(n){const e=Fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function jD(n,e){const t=Fe(n),r=e.snapshotVersion;let i=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});i=t.vs;const h=[];e.targetChanges.forEach(((b,v)=>{const x=i.get(v);if(!x)return;h.push(t.li.removeMatchingKeys(o,b.removedDocuments,v).next((()=>t.li.addMatchingKeys(o,b.addedDocuments,v))));let T=x.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(v)!==null?T=T.withResumeToken(Yn.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):b.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(b.resumeToken,r)),i=i.insert(v,T),(function(I,C,U){return I.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=CD?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(x,T,b)&&h.push(t.li.updateTargetData(o,T))}));let d=Ta(),p=lt();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,b))})),h.push(kD(o,c,e.documentUpdates).next((b=>{d=b.Bs,p=b.Ls}))),!r.isEqual(ze.min())){const b=t.li.getLastRemoteSnapshotVersion(o).next((v=>t.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(b)}return be.waitFor(h).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,d,p))).next((()=>d))})).then((o=>(t.vs=i,o)))}function kD(n,e,t){let r=lt(),i=lt();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let c=Ta();return t.forEach(((h,d)=>{const p=o.get(h);d.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(h)),d.isNoDocument()&&d.version.isEqual(ze.min())?(e.removeEntry(h,d.readTime),c=c.insert(h,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),c=c.insert(h,d)):Ce(mb,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",d.version)})),{Bs:c,Ls:i}}))}function DD(n,e){const t=Fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=rb),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function MD(n,e){const t=Fe(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.li.getTargetData(r,e).next((o=>o?(i=o,be.resolve(i)):t.li.allocateTargetId(r).next((c=>(i=new go(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function ay(n,e,t){const r=Fe(n),i=r.vs.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Wc(c))throw c;Ce(mb,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function mE(n,e,t){const r=Fe(n);let i=ze.min(),o=lt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(d,p,b){const v=Fe(d),x=v.Fs.get(b);return x!==void 0?be.resolve(v.vs.get(x)):v.li.getTargetData(p,b)})(r,c,Ti(e)).next((h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,h.targetId).next((d=>{o=d}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,t?i:ze.min(),t?o:lt()))).next((h=>(LD(r,x6(e),h),{documents:h,ks:o})))))}function LD(n,e,t){let r=n.Ms.get(e)||ze.min();t.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Ms.set(e,r)}class gE{constructor(){this.activeTargetIds=S6()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PD{constructor(){this.vo=new gE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new gE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="ConnectivityMonitor";class bE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Ce(yE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Ce(yE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bf=null;function oy(){return bf===null?bf=(function(){return 268435456+Math.round(2147483648*Math.random())})():bf++,"0x"+bf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="RestConnection",UD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class qD{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===ep?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){const c=oy(),h=this.Qo(e,t.toUriEncodedString());Ce(y0,`Sending RPC '${e}' ${c}:`,h,r);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,i,o);const{host:p}=new URL(h),b=Kc(p);return this.zo(e,h,d,r,b).then((v=>(Ce(y0,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw Oc(y0,`RPC '${e}' ${c} failed with error: `,v,"url: ",h,"request:",r),v}))}jo(e,t,r,i,o,c){return this.Wo(e,t,r,i,o)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+$c})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}Qo(e,t){const r=UD[e];let i=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr="WebChannelConnection",Hu=(n,e,t)=>{n.listen(e,(r=>{try{t(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class wc extends qD{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!wc.c_){const e=pS();Hu(e,fS.STAT_EVENT,(t=>{t.stat===Q0.PROXY?Ce(nr,"STAT_EVENT: detected buffering proxy"):t.stat===Q0.NOPROXY&&Ce(nr,"STAT_EVENT: detected no buffering proxy")})),wc.c_=!0}}zo(e,t,r,i,o){const c=oy();return new Promise(((h,d)=>{const p=new hS;p.setWithCredentials(!0),p.listenOnce(dS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Lf.NO_ERROR:const v=p.getResponseJson();Ce(nr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),h(v);break;case Lf.TIMEOUT:Ce(nr,`RPC '${e}' ${c} timed out`),d(new Ae(me.DEADLINE_EXCEEDED,"Request time out"));break;case Lf.HTTP_ERROR:const x=p.getStatus();if(Ce(nr,`RPC '${e}' ${c} failed with status:`,x,"response text:",p.getResponseText()),x>0){let T=p.getResponseJson();Array.isArray(T)&&(T=T[0]);const N=T==null?void 0:T.error;if(N&&N.status&&N.message){const I=(function(U){const K=U.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(K)>=0?K:me.UNKNOWN})(N.status);d(new Ae(I,N.message))}else d(new Ae(me.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Ae(me.UNAVAILABLE,"Connection failed."));break;default:Be(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Ce(nr,`RPC '${e}' ${c} completed.`)}}));const b=JSON.stringify(i);Ce(nr,`RPC '${e}' ${c} sending request:`,i),p.send(t,"POST",b,r,15)}))}T_(e,t,r){const i=oy(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const p=o.join("");Ce(nr,`Creating RPC '${e}' stream ${i}: ${p}`,h);const b=c.createWebChannel(p,h);this.I_(b);let v=!1,x=!1;const T=new BD({Ho:N=>{x?Ce(nr,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(v||(Ce(nr,`Opening RPC '${e}' stream ${i} transport.`),b.open(),v=!0),Ce(nr,`RPC '${e}' stream ${i} sending:`,N),b.send(N))},Jo:()=>b.close()});return Hu(b,$u.EventType.OPEN,(()=>{x||(Ce(nr,`RPC '${e}' stream ${i} transport opened.`),T.i_())})),Hu(b,$u.EventType.CLOSE,(()=>{x||(x=!0,Ce(nr,`RPC '${e}' stream ${i} transport closed`),T.o_(),this.E_(b))})),Hu(b,$u.EventType.ERROR,(N=>{x||(x=!0,Oc(nr,`RPC '${e}' stream ${i} transport errored. Name:`,N.name,"Message:",N.message),T.o_(new Ae(me.UNAVAILABLE,"The operation could not be completed")))})),Hu(b,$u.EventType.MESSAGE,(N=>{var I;if(!x){const C=N.data[0];bt(!!C,16349);const U=C,K=(U==null?void 0:U.error)||((I=U[0])==null?void 0:I.error);if(K){Ce(nr,`RPC '${e}' stream ${i} received error:`,K);const B=K.status;let $=(function(L){const k=yn[L];if(k!==void 0)return WS(k)})(B),Z=K.message;$===void 0&&($=me.INTERNAL,Z="Unknown error status: "+B+" with message "+K.message),x=!0,T.o_(new Ae($,Z)),b.close()}else Ce(nr,`RPC '${e}' stream ${i} received:`,C),T.__(C)}})),wc.u_(),setTimeout((()=>{T.s_()}),0),T}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return mS()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(n){return new wc(n)}function b0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(n){return new K6(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wc.c_=!1;class hN{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="PersistentStream";class dN{constructor(e,t,r,i,o,c,h,d){this.Ci=e,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new hN(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(Ea(t.toString()),Ea("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ae(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ce(vE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(Ce(vE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class HD extends dN{constructor(e,t,r,i,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Q6(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ze.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?ze.min():c.readTime?Si(c.readTime):ze.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=iy(this.serializer),t.addTarget=(function(o,c){let h;const d=c.target;if(h=ey(d)?{documents:Z6(o,d)}:{query:J6(o,d).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=JS(o,c.resumeToken);const p=ny(o,c.expectedCount);p!==null&&(h.expectedCount=p)}else if(c.snapshotVersion.compareTo(ze.min())>0){h.readTime=ip(o,c.snapshotVersion.toTimestamp());const p=ny(o,c.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,e);const r=tD(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=iy(this.serializer),t.removeTarget=e,this.K_(t)}}class FD extends dN{constructor(e,t,r,i,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=X6(e.writeResults,e.commitTime),r=Si(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=iy(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>W6(this.serializer,r)))};this.K_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{}class KD extends GD{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ae(me.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Wo(e,ry(t,r),i,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ae(me.UNKNOWN,o.toString())}))}jo(e,t,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,ry(t,r),i,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ae(me.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function YD(n,e,t,r){return new KD(n,e,t,r)}class $D{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ea(t),this.aa=!1):Ce("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml="RemoteStore";class QD{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{Al(this)&&(Ce(ml,"Restarting streams for network reachability change."),await(async function(d){const p=Fe(d);p.Ea.add(4),await Hh(p),p.Va.set("Unknown"),p.Ea.delete(4),await Pp(p)})(this))}))})),this.Va=new $D(r,i)}}async function Pp(n){if(Al(n))for(const e of n.Ra)await e(!0)}async function Hh(n){for(const e of n.Ra)await e(!1)}function fN(n,e){const t=Fe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),vb(t)?bb(t):Zc(t).O_()&&yb(t,e))}function gb(n,e){const t=Fe(n),r=Zc(t);t.Ia.delete(e),r.O_()&&pN(t,e),t.Ia.size===0&&(r.O_()?r.L_():Al(t)&&t.Va.set("Unknown"))}function yb(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zc(n).Z_(e)}function pN(n,e){n.da.$e(e),Zc(n).X_(e)}function bb(n){n.da=new z6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Zc(n).start(),n.Va.ua()}function vb(n){return Al(n)&&!Zc(n).x_()&&n.Ia.size>0}function Al(n){return Fe(n).Ea.size===0}function mN(n){n.da=void 0}async function WD(n){n.Va.set("Online")}async function XD(n){n.Ia.forEach(((e,t)=>{yb(n,e)}))}async function ZD(n,e){mN(n),vb(n)?(n.Va.ha(e),bb(n)):n.Va.set("Unknown")}async function JD(n,e,t){if(n.Va.set("Online"),e instanceof ZS&&e.state===2&&e.cause)try{await(async function(i,o){const c=o.cause;for(const h of o.targetIds)i.Ia.has(h)&&(await i.remoteSyncer.rejectListen(h,c),i.Ia.delete(h),i.da.removeTarget(h))})(n,e)}catch(r){Ce(ml,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await op(n,r)}else if(e instanceof qf?n.da.Xe(e):e instanceof XS?n.da.st(e):n.da.tt(e),!t.isEqual(ze.min()))try{const r=await uN(n.localStore);t.compareTo(r)>=0&&await(function(o,c){const h=o.da.Tt(c);return h.targetChanges.forEach(((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const b=o.Ia.get(p);b&&o.Ia.set(p,b.withResumeToken(d.resumeToken,c))}})),h.targetMismatches.forEach(((d,p)=>{const b=o.Ia.get(d);if(!b)return;o.Ia.set(d,b.withResumeToken(Yn.EMPTY_BYTE_STRING,b.snapshotVersion)),pN(o,d);const v=new go(b.target,d,p,b.sequenceNumber);yb(o,v)})),o.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){Ce(ml,"Failed to raise snapshot:",r),await op(n,r)}}async function op(n,e,t){if(!Wc(e))throw e;n.Ea.add(1),await Hh(n),n.Va.set("Offline"),t||(t=()=>uN(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Ce(ml,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Pp(n)}))}function gN(n,e){return e().catch((t=>op(n,t,e)))}async function Vp(n){const e=Fe(n),t=jo(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:rb;for(;eM(e);)try{const i=await DD(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,tM(e,i)}catch(i){await op(e,i)}yN(e)&&bN(e)}function eM(n){return Al(n)&&n.Ta.length<10}function tM(n,e){n.Ta.push(e);const t=jo(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function yN(n){return Al(n)&&!jo(n).x_()&&n.Ta.length>0}function bN(n){jo(n).start()}async function nM(n){jo(n).ra()}async function rM(n){const e=jo(n);for(const t of n.Ta)e.ea(t.mutations)}async function sM(n,e,t){const r=n.Ta.shift(),i=cb.from(r,e,t);await gN(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await Vp(n)}async function iM(n,e){e&&jo(n).Y_&&await(async function(r,i){if((function(c){return U6(c)&&c!==me.ABORTED})(i.code)){const o=r.Ta.shift();jo(r).B_(),await gN(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await Vp(r)}})(n,e),yN(n)&&bN(n)}async function xE(n,e){const t=Fe(n);t.asyncQueue.verifyOperationInProgress(),Ce(ml,"RemoteStore received new credentials");const r=Al(t);t.Ea.add(3),await Hh(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Pp(t)}async function aM(n,e){const t=Fe(n);e?(t.Ea.delete(2),await Pp(t)):e||(t.Ea.add(2),await Hh(t),t.Va.set("Unknown"))}function Zc(n){return n.ma||(n.ma=(function(t,r,i){const o=Fe(t);return o.sa(),new HD(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:WD.bind(null,n),Yo:XD.bind(null,n),t_:ZD.bind(null,n),J_:JD.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),vb(n)?bb(n):n.Va.set("Unknown")):(await n.ma.stop(),mN(n))}))),n.ma}function jo(n){return n.fa||(n.fa=(function(t,r,i){const o=Fe(t);return o.sa(),new FD(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:nM.bind(null,n),t_:iM.bind(null,n),ta:rM.bind(null,n),na:sM.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await Vp(n)):(await n.fa.stop(),n.Ta.length>0&&(Ce(ml,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new va,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const c=Date.now()+r,h=new xb(e,t,c,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ae(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _b(n,e){if(Ea("AsyncQueue",`${e}: ${n}`),Wc(n))return new Ae(me.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{static emptySet(e){return new Ec(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Pe.comparator(t.key,r.key):(t,r)=>Pe.comparator(t.key,r.key),this.keyedMap=Qu(),this.sortedSet=new Zt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ec)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Ec;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.ga=new Zt(Pe.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Be(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Lc{constructor(e,t,r,i,o,c,h,d,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,o){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new Lc(e,t,Ec.emptySet(t),c,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Op(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class lM{constructor(){this.queries=wE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=Fe(t),o=i.queries;i.queries=wE(),o.forEach(((c,h)=>{for(const d of h.ba)d.onError(r)}))})(this,new Ae(me.ABORTED,"Firestore shutting down"))}}function wE(){return new El((n=>PS(n)),Op)}async function wb(n,e){const t=Fe(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.Sa()&&e.Da()&&(r=2):(o=new oM,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(i,!0);break;case 1:o.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(c){const h=_b(c,`Initialization of query '${hc(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,o),o.ba.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Tb(t)}async function Eb(n,e){const t=Fe(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const c=o.ba.indexOf(e);c>=0&&(o.ba.splice(c,1),o.ba.length===0?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function cM(n,e){const t=Fe(n);let r=!1;for(const i of e){const o=i.query,c=t.queries.get(o);if(c){for(const h of c.ba)h.Fa(i)&&(r=!0);c.wa=i}}r&&Tb(t)}function uM(n,e,t){const r=Fe(n),i=r.queries.get(e);if(i)for(const o of i.ba)o.onError(t);r.queries.delete(e)}function Tb(n){n.Ca.forEach((e=>{e.next()}))}var ly,EE;(EE=ly||(ly={})).Ma="default",EE.Cache="cache";class Ab{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Lc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Lc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ly.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.key=e}}class xN{constructor(e){this.key=e}}class hM{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=lt(),this.mutatedKeys=lt(),this.eu=VS(e),this.tu=new Ec(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new _E,i=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=i,h=!1;const d=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((b,v)=>{const x=i.get(b),T=jp(this.query,v)?v:null,N=!!x&&this.mutatedKeys.has(x.key),I=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let C=!1;x&&T?x.data.isEqual(T.data)?N!==I&&(r.track({type:3,doc:T}),C=!0):this.su(x,T)||(r.track({type:2,doc:T}),C=!0,(d&&this.eu(T,d)>0||p&&this.eu(T,p)<0)&&(h=!0)):!x&&T?(r.track({type:0,doc:T}),C=!0):x&&!T&&(r.track({type:1,doc:x}),C=!0,(d||p)&&(h=!0)),C&&(T?(c=c.add(T),o=I?o.add(b):o.delete(b)):(c=c.delete(b),o=o.delete(b)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const b=this.query.limitType==="F"?c.last():c.first();c=c.delete(b.key),o=o.delete(b.key),r.track({type:1,doc:b})}return{tu:c,iu:r,Ss:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((b,v)=>(function(T,N){const I=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Be(20277,{Vt:C})}};return I(T)-I(N)})(b.type,v.type)||this.eu(b.doc,v.doc))),this.ou(r),i=i??!1;const h=t&&!i?this._u():[],d=this.Ya.size===0&&this.current&&!i?1:0,p=d!==this.Xa;return this.Xa=d,c.length!==0||p?{snapshot:new Lc(this.query,e.tu,o,c,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new _E,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=lt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new xN(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new vN(r))})),t}cu(e){this.Za=e.ks,this.Ya=lt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Lc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Sb="SyncEngine";class dM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class fM{constructor(e){this.key=e,this.hu=!1}}class pM{constructor(e,t,r,i,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new El((h=>PS(h)),Op),this.Iu=new Map,this.Eu=new Set,this.Ru=new Zt(Pe.comparator),this.Au=new Map,this.Vu=new db,this.du={},this.mu=new Map,this.fu=Mc.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mM(n,e,t=!0){const r=SN(n);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await _N(r,e,t,!0),i}async function gM(n,e){const t=SN(n);await _N(t,e,!0,!1)}async function _N(n,e,t,r){const i=await MD(n.localStore,Ti(e)),o=i.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await yM(n,e,o,c==="current",i.resumeToken)),n.isPrimaryClient&&t&&fN(n.remoteStore,i),h}async function yM(n,e,t,r,i){n.pu=(v,x,T)=>(async function(I,C,U,K){let B=C.view.ru(U);B.Ss&&(B=await mE(I.localStore,C.query,!1).then((({documents:L})=>C.view.ru(L,B))));const $=K&&K.targetChanges.get(C.targetId),Z=K&&K.targetMismatches.get(C.targetId)!=null,ve=C.view.applyChanges(B,I.isPrimaryClient,$,Z);return AE(I,C.targetId,ve.au),ve.snapshot})(n,v,x,T);const o=await mE(n.localStore,e,!0),c=new hM(e,o.ks),h=c.ru(o.documents),d=zh.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=c.applyChanges(h,n.isPrimaryClient,d);AE(n,t,p.au);const b=new dM(e,t,c);return n.Tu.set(e,b),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function bM(n,e,t){const r=Fe(n),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((c=>!Op(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ay(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&gb(r.remoteStore,i.targetId),cy(r,i.targetId)})).catch(Qc)):(cy(r,i.targetId),await ay(r.localStore,i.targetId,!0))}async function vM(n,e){const t=Fe(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),gb(t.remoteStore,r.targetId))}async function xM(n,e,t){const r=NM(n);try{const i=await(function(c,h){const d=Fe(c),p=Ct.now(),b=h.reduce(((T,N)=>T.add(N.key)),lt());let v,x;return d.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let N=Ta(),I=lt();return d.xs.getEntries(T,b).next((C=>{N=C,N.forEach(((U,K)=>{K.isValidDocument()||(I=I.add(U))}))})).next((()=>d.localDocuments.getOverlayedDocuments(T,N))).next((C=>{v=C;const U=[];for(const K of h){const B=D6(K,v.get(K.key).overlayedDocument);B!=null&&U.push(new Tl(K.key,B,RS(B.value.mapValue),Ai.exists(!0)))}return d.mutationQueue.addMutationBatch(T,p,U,h)})).next((C=>{x=C;const U=C.applyToLocalDocumentSet(v,I);return d.documentOverlayCache.saveOverlays(T,C.batchId,U)}))})).then((()=>({batchId:x.batchId,changes:qS(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,h,d){let p=c.du[c.currentUser.toKey()];p||(p=new Zt(ot)),p=p.insert(h,d),c.du[c.currentUser.toKey()]=p})(r,i.batchId,t),await Fh(r,i.changes),await Vp(r.remoteStore)}catch(i){const o=_b(i,"Failed to persist write");t.reject(o)}}async function wN(n,e){const t=Fe(n);try{const r=await jD(t.localStore,e);e.targetChanges.forEach(((i,o)=>{const c=t.Au.get(o);c&&(bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.hu=!0:i.modifiedDocuments.size>0?bt(c.hu,14607):i.removedDocuments.size>0&&(bt(c.hu,42227),c.hu=!1))})),await Fh(t,r,e)}catch(r){await Qc(r)}}function TE(n,e,t){const r=Fe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((o,c)=>{const h=c.view.va(e);h.snapshot&&i.push(h.snapshot)})),(function(c,h){const d=Fe(c);d.onlineState=h;let p=!1;d.queries.forEach(((b,v)=>{for(const x of v.ba)x.va(h)&&(p=!0)})),p&&Tb(d)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _M(n,e,t){const r=Fe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),o=i&&i.key;if(o){let c=new Zt(Pe.comparator);c=c.insert(o,sr.newNoDocument(o,ze.min()));const h=lt().add(o),d=new Mp(ze.min(),new Map,new Zt(ot),c,h);await wN(r,d),r.Ru=r.Ru.remove(o),r.Au.delete(e),Nb(r)}else await ay(r.localStore,e,!1).then((()=>cy(r,e,t))).catch(Qc)}async function wM(n,e){const t=Fe(n),r=e.batch.batchId;try{const i=await OD(t.localStore,e);TN(t,r,null),EN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Fh(t,i)}catch(i){await Qc(i)}}async function EM(n,e,t){const r=Fe(n);try{const i=await(function(c,h){const d=Fe(c);return d.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let b;return d.mutationQueue.lookupMutationBatch(p,h).next((v=>(bt(v!==null,37113),b=v.keys(),d.mutationQueue.removeMutationBatch(p,v)))).next((()=>d.mutationQueue.performConsistencyCheck(p))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(p,b,h))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,b))).next((()=>d.localDocuments.getDocuments(p,b)))}))})(r.localStore,e);TN(r,e,t),EN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Fh(r,i)}catch(i){await Qc(i)}}function EN(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function TN(n,e,t){const r=Fe(n);let i=r.du[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function cy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((r=>{n.Vu.containsKey(r)||AN(n,r)}))}function AN(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(gb(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),Nb(n))}function AE(n,e,t){for(const r of t)r instanceof vN?(n.Vu.addReference(r.key,e),TM(n,r)):r instanceof xN?(Ce(Sb,"Document no longer in limbo: "+r.key),n.Vu.removeReference(r.key,e),n.Vu.containsKey(r.key)||AN(n,r.key)):Be(19791,{wu:r})}function TM(n,e){const t=e.key,r=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(r)||(Ce(Sb,"New document in limbo: "+t),n.Eu.add(r),Nb(n))}function Nb(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Pe(kt.fromString(e)),r=n.fu.next();n.Au.set(r,new fM(t)),n.Ru=n.Ru.insert(t,r),fN(n.remoteStore,new go(Ti(Ip(t.path)),r,"TargetPurposeLimboResolution",Np.ce))}}async function Fh(n,e,t){const r=Fe(n),i=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,d)=>{c.push(r.pu(d,e,t).then((p=>{var b;if((p||t)&&r.isPrimaryClient){const v=p?!p.fromCache:(b=t==null?void 0:t.targetChanges.get(d.targetId))==null?void 0:b.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(p){i.push(p);const v=pb.Es(d.targetId,p);o.push(v)}})))})),await Promise.all(c),r.Pu.J_(i),await(async function(d,p){const b=Fe(d);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>be.forEach(p,(x=>be.forEach(x.Ts,(T=>b.persistence.referenceDelegate.addReference(v,x.targetId,T))).next((()=>be.forEach(x.Is,(T=>b.persistence.referenceDelegate.removeReference(v,x.targetId,T)))))))))}catch(v){if(!Wc(v))throw v;Ce(mb,"Failed to update sequence numbers: "+v)}for(const v of p){const x=v.targetId;if(!v.fromCache){const T=b.vs.get(x),N=T.snapshotVersion,I=T.withLastLimboFreeSnapshotVersion(N);b.vs=b.vs.insert(x,I)}}})(r.localStore,o))}async function AM(n,e){const t=Fe(n);if(!t.currentUser.isEqual(e)){Ce(Sb,"User change. New user:",e.toKey());const r=await cN(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((h=>{h.forEach((d=>{d.reject(new Ae(me.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fh(t,r.Ns)}}function SM(n,e){const t=Fe(n),r=t.Au.get(e);if(r&&r.hu)return lt().add(r.key);{let i=lt();const o=t.Iu.get(e);if(!o)return i;for(const c of o){const h=t.Tu.get(c);i=i.unionWith(h.view.nu)}return i}}function SN(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=wN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_M.bind(null,e),e.Pu.J_=cM.bind(null,e.eventManager),e.Pu.yu=uM.bind(null,e.eventManager),e}function NM(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EM.bind(null,e),e}class lp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return ID(this.persistence,new ND,e.initialUser,this.serializer)}Cu(e){return new lN(fb.Vi,this.serializer)}Du(e){return new PD}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lp.provider={build:()=>new lp};class CM extends lp{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){bt(this.persistence.referenceDelegate instanceof ap,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new dD(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Mr.withCacheSize(this.cacheSizeBytes):Mr.DEFAULT;return new lN((r=>ap.Vi(r,t)),this.serializer)}}class uy{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>TE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AM.bind(null,this.syncEngine),await aM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lM})()}createDatastore(e){const t=Lp(e.databaseInfo.databaseId),r=zD(e.databaseInfo);return YD(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,o,c,h){return new QD(r,i,o,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>TE(this.syncEngine,t,0)),(function(){return bE.v()?new bE:new VD})())}createSyncEngine(e,t){return(function(i,o,c,h,d,p,b){const v=new pM(i,o,c,h,d,p);return b&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(i){const o=Fe(i);Ce(ml,"RemoteStore shutting down."),o.Ea.add(5),await Hh(o),o.Aa.shutdown(),o.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}uy.provider={build:()=>new uy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ea("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko="FirestoreClient";class RM{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=i,this.user=rr.UNAUTHENTICATED,this.clientId=nb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{Ce(ko,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Ce(ko,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new va;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=_b(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function v0(n,e){n.asyncQueue.verifyOperationInProgress(),Ce(ko,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await cN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function SE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await IM(n);Ce(ko,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>xE(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>xE(e.remoteStore,i))),n._onlineComponents=e}async function IM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ce(ko,"Using user provided OfflineComponentProvider");try{await v0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===me.FAILED_PRECONDITION||i.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Oc("Error using user provided cache. Falling back to memory cache: "+t),await v0(n,new lp)}}else Ce(ko,"Using default OfflineComponentProvider"),await v0(n,new CM(void 0));return n._offlineComponents}async function NN(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ce(ko,"Using user provided OnlineComponentProvider"),await SE(n,n._uninitializedComponentsProvider._online)):(Ce(ko,"Using default OnlineComponentProvider"),await SE(n,new uy))),n._onlineComponents}function OM(n){return NN(n).then((e=>e.syncEngine))}async function cp(n){const e=await NN(n),t=e.eventManager;return t.onListen=mM.bind(null,e.syncEngine),t.onUnlisten=bM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=gM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=vM.bind(null,e.syncEngine),t}function jM(n,e,t,r){const i=new Cb(r),o=new Ab(e,i,t);return n.asyncQueue.enqueueAndForget((async()=>wb(await cp(n),o))),()=>{i.Nu(),n.asyncQueue.enqueueAndForget((async()=>Eb(await cp(n),o)))}}function kM(n,e,t={}){const r=new va;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,d,p){const b=new Cb({next:x=>{b.Nu(),c.enqueueAndForget((()=>Eb(o,v)));const T=x.docs.has(h);!T&&x.fromCache?p.reject(new Ae(me.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&x.fromCache&&d&&d.source==="server"?p.reject(new Ae(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),v=new Ab(Ip(h.path),b,{includeMetadataChanges:!0,Ka:!0});return wb(o,v)})(await cp(n),n.asyncQueue,e,t,r))),r.promise}function DM(n,e,t={}){const r=new va;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,d,p){const b=new Cb({next:x=>{b.Nu(),c.enqueueAndForget((()=>Eb(o,v))),x.fromCache&&d.source==="server"?p.reject(new Ae(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),v=new Ab(h,b,{includeMetadataChanges:!0,Ka:!0});return wb(o,v)})(await cp(n),n.asyncQueue,e,t,r))),r.promise}function MM(n,e){const t=new va;return n.asyncQueue.enqueueAndForget((async()=>xM(await OM(n),e,t))),t.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM="ComponentProvider",NE=new Map;function PM(n,e,t,r,i){return new t6(n,e,t,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,CN(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="firestore.googleapis.com",CE=!0;class RE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ae(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RN,this.ssl=CE}else this.host=e.host,this.ssl=e.ssl??CE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=oN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<uD)throw new Ae(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Fk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CN(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ae(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ae(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ae(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Up{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ae(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ae(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Dk;switch(r.type){case"firstParty":return new Vk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ae(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=NE.get(t);r&&(Ce(LM,"Removing Datastore"),NE.delete(t),r.terminate())})(this),Promise.resolve()}}function VM(n,e,t,r={}){var p;n=Zs(n,Up);const i=Kc(e),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;i&&(nS(`https://${h}`),rS("Firestore",!0)),o.host!==RN&&o.host!==h&&Oc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:h,ssl:i,emulatorOptions:r};if(!dl(d,c)&&(n._setSettings(d),r.mockUserToken)){let b,v;if(typeof r.mockUserToken=="string")b=r.mockUserToken,v=rr.MOCK_USER;else{b=a3(r.mockUserToken,(p=n._app)==null?void 0:p.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new Ae(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new rr(x)}n._authCredentials=new Mk(new yS(b,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Oa(this.firestore,e,this._query)}}class hn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new So(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}toJSON(){return{type:hn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(qh(t,hn._jsonSchema))return new hn(e,r||null,new Pe(kt.fromString(t.referencePath)))}}hn._jsonSchemaVersion="firestore/documentReference/1.0",hn._jsonSchema={type:xn("string",hn._jsonSchemaVersion),referencePath:xn("string")};class So extends Oa{constructor(e,t,r){super(e,t,Ip(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new Pe(e))}withConverter(e){return new So(this.firestore,e,this._path)}}function oh(n,e,...t){if(n=cr(n),bS("collection","path",e),n instanceof Up){const r=kt.fromString(e,...t);return zw(r),new So(n,null,r)}{if(!(n instanceof hn||n instanceof So))throw new Ae(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(kt.fromString(e,...t));return zw(r),new So(n.firestore,null,r)}}function qp(n,e,...t){if(n=cr(n),arguments.length===1&&(e=nb.newId()),bS("doc","path",e),n instanceof Up){const r=kt.fromString(e,...t);return Bw(r),new hn(n,null,new Pe(r))}{if(!(n instanceof hn||n instanceof So))throw new Ae(me.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(kt.fromString(e,...t));return Bw(r),new hn(n.firestore,n instanceof So?n.converter:null,new Pe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="AsyncQueue";class OE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new hN(this,"async_queue_retry"),this._c=()=>{const r=b0();r&&Ce(IE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=b0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=b0();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new va;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Wc(e))throw e;Ce(IE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Ea("INTERNAL UNHANDLED ERROR: ",jE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=xb.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Be(47125,{Pc:jE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function jE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class gl extends Up{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new OE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new OE(e),this._firestoreClient=void 0,await e}}}function UM(n,e){const t=typeof n=="object"?n:oS(),r=typeof n=="string"?n:ep,i=eb(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=s3("firestore");o&&VM(i,...o)}return i}function Bp(n){if(n._terminated)throw new Ae(me.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||qM(n),n._firestoreClient}function qM(n){var r,i,o,c;const e=n._freezeSettings(),t=PM(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,(i=n._app)==null?void 0:i.options.apiKey,e);n._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((c=e.localCache)!=null&&c._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new RM(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cs(Yn.fromBase64String(e))}catch(t){throw new Ae(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Cs(Yn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(qh(e,Cs._jsonSchema))return Cs.fromBase64String(e.bytes)}}Cs._jsonSchemaVersion="firestore/bytes/1.0",Cs._jsonSchema={type:xn("string",Cs._jsonSchemaVersion),bytes:xn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ae(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ni._jsonSchemaVersion}}static fromJSON(e){if(qh(e,Ni._jsonSchema))return new Ni(e.latitude,e.longitude)}}Ni._jsonSchemaVersion="firestore/geoPoint/1.0",Ni._jsonSchema={type:xn("string",Ni._jsonSchemaVersion),latitude:xn("number"),longitude:xn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Js._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(qh(e,Js._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Js(e.vectorValues);throw new Ae(me.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Js._jsonSchemaVersion="firestore/vectorValue/1.0",Js._jsonSchema={type:xn("string",Js._jsonSchemaVersion),vectorValues:xn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=/^__.*__$/;class zM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Tl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Bh(e,this.data,t,this.fieldTransforms)}}function ON(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Be(40011,{dataSource:n})}}class Ib{constructor(e,t,r,i,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Ib({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const t=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return up(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(ON(this.dataSource)&&BM.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class HM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Lp(e)}createContext(e,t,r,i=!1){return new Ib({dataSource:e,methodName:t,targetDoc:r,path:Gn.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ob(n){const e=n._freezeSettings(),t=Lp(n._databaseId);return new HM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function jN(n,e,t,r,i,o={}){const c=n.createContext(o.merge||o.mergeFields?2:0,e,t,i);MN("Data must be an object, but it was:",c,r);const h=kN(r,c);let d,p;if(o.merge)d=new Ws(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const b=[];for(const v of o.mergeFields){const x=zp(e,v,t);if(!c.contains(x))throw new Ae(me.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);YM(b,x)||b.push(x)}d=new Ws(b),p=c.fieldTransforms.filter((v=>d.covers(v.field)))}else d=null,p=c.fieldTransforms;return new zM(new Ns(h),d,p)}class jb extends Rb{_toFieldTransform(e){return new I6(e.path,new Eh)}isEqual(e){return e instanceof jb}}function FM(n,e,t,r=!1){return kb(t,n.createContext(r?4:3,e))}function kb(n,e){if(DN(n=cr(n)))return MN("Unsupported field value:",e,n),kN(n,e);if(n instanceof Rb)return(function(r,i){if(!ON(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const o=[];let c=0;for(const h of r){let d=kb(h,i.childContextForArray(c));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),c++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=cr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return N6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ct.fromDate(r);return{timestampValue:ip(i.serializer,o)}}if(r instanceof Ct){const o=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ip(i.serializer,o)}}if(r instanceof Ni)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cs)return{bytesValue:JS(i.serializer,r._byteString)};if(r instanceof hn){const o=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw i.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:hb(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Js)return(function(c,h){const d=c instanceof Js?c.toArray():c;return{mapValue:{fields:{[NS]:{stringValue:CS},[tp]:{arrayValue:{values:d.map((b=>{if(typeof b!="number")throw h.createError("VectorValues must only contain numeric values.");return lb(h.serializer,b)}))}}}}}})(r,i);if(aN(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Sp(r)}`)})(n,e)}function kN(n,e){const t={};return _S(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wl(n,((r,i)=>{const o=kb(i,e.childContextForField(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function DN(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ct||n instanceof Ni||n instanceof Cs||n instanceof hn||n instanceof Rb||n instanceof Js||aN(n))}function MN(n,e,t){if(!DN(t)||!vS(t)){const r=Sp(t);throw r==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+r)}}function zp(n,e,t){if((e=cr(e))instanceof IN)return e._internalPath;if(typeof e=="string")return KM(n,e);throw up("Field path arguments must be of type string or ",n,!1,void 0,t)}const GM=new RegExp("[~\\*/\\[\\]]");function KM(n,e,t){if(e.search(GM)>=0)throw up(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new IN(...e.split("."))._internalPath}catch{throw up(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function up(n,e,t,r,i){const o=r&&!r.isEmpty(),c=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(o||c)&&(d+=" (found",o&&(d+=` in field ${r}`),c&&(d+=` in document ${i}`),d+=")"),new Ae(me.INVALID_ARGUMENT,h+n+d)}function YM(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{convertValue(e,t="none"){switch(Oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return un(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Be(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return wl(e,((i,o)=>{r[i]=this.convertValue(o,t)})),r}convertVectorValue(e){var r,i,o;const t=(o=(i=(r=e.fields)==null?void 0:r[tp].arrayValue)==null?void 0:i.values)==null?void 0:o.map((c=>un(c.doubleValue)));return new Js(t)}convertGeoPoint(e){return new Ni(un(e.latitude),un(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Rp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(vh(e));default:return null}}convertTimestamp(e){const t=Ro(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=kt.fromString(e);bt(iN(r),9688,{name:e});const i=new xh(r.get(1),r.get(3)),o=new Pe(r.popFirst(5));return i.isEqual(t)||Ea(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db extends $M{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,t)}}function kE(){return new jb("serverTimestamp")}const DE="@firebase/firestore",ME="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const i=t;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field(zp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class QM extends LN{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ae(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Mb{}class Lb extends Mb{}function hy(n,e,...t){let r=[];e instanceof Mb&&r.push(e),r=r.concat(t),(function(o){const c=o.filter((d=>d instanceof Vb)).length,h=o.filter((d=>d instanceof Pb)).length;if(c>1||c>0&&h>0)throw new Ae(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class Pb extends Lb{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Pb(e,t,r)}_apply(e){const t=this._parse(e);return VN(e._query,t),new Oa(e.firestore,e.converter,ty(e._query,t))}_parse(e){const t=Ob(e.firestore);return(function(o,c,h,d,p,b,v){let x;if(p.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new Ae(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){VE(v,b);const N=[];for(const I of v)N.push(PE(d,o,I));x={arrayValue:{values:N}}}else x=PE(d,o,v)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||VE(v,b),x=FM(h,c,v,b==="in"||b==="not-in");return vn.create(p,b,x)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Vb extends Mb{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Vb(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:ni.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let c=i;const h=o.getFlattenedFilters();for(const d of h)VN(c,d),c=ty(c,d)})(e._query,t),new Oa(e.firestore,e.converter,ty(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ub extends Lb{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ub(e,t)}_apply(e){const t=(function(i,o,c){if(i.startAt!==null)throw new Ae(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ae(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wh(o,c)})(e._query,this._field,this._direction);return new Oa(e.firestore,e.converter,v6(e._query,t))}}function dy(n,e="asc"){const t=e,r=zp("orderBy",n);return Ub._create(r,t)}class qb extends Lb{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new qb(e,t,r)}_apply(e){return new Oa(e.firestore,e.converter,rp(e._query,this._limit,this._limitType))}}function WM(n){return qb._create("limit",n,"F")}function PE(n,e,t){if(typeof(t=cr(t))=="string"){if(t==="")throw new Ae(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LS(e)&&t.indexOf("/")!==-1)throw new Ae(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(kt.fromString(t));if(!Pe.isDocumentKey(r))throw new Ae(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ww(n,new Pe(r))}if(t instanceof hn)return Ww(n,t._key);throw new Ae(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sp(t)}.`)}function VE(n,e){if(!Array.isArray(n)||n.length===0)throw new Ae(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function VN(n,e){const t=(function(i,o){for(const c of i)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new Ae(me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ae(me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function UN(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Xu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cl extends LN{constructor(e,t,r,i,o,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(zp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(me.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=cl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}cl._jsonSchemaVersion="firestore/documentSnapshot/1.0",cl._jsonSchema={type:xn("string",cl._jsonSchemaVersion),bundleSource:xn("string","DocumentSnapshot"),bundleName:xn("string"),bundle:xn("string")};class Bf extends cl{data(e={}){return super.data(e)}}class ul{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Xu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new Bf(this._firestore,this._userDataWriter,r.key,r,new Xu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((h=>{const d=new Bf(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Xu(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const d=new Bf(i._firestore,i._userDataWriter,h.doc.key,h.doc,new Xu(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,b=-1;return h.type!==0&&(p=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),b=c.indexOf(h.doc.key)),{type:XM(h.type),doc:d,oldIndex:p,newIndex:b}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ae(me.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ul._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=nb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function XM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Be(61501,{type:n})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ul._jsonSchemaVersion="firestore/querySnapshot/1.0",ul._jsonSchema={type:xn("string",ul._jsonSchemaVersion),bundleSource:xn("string","QuerySnapshot"),bundleName:xn("string"),bundle:xn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qN(n){n=Zs(n,hn);const e=Zs(n.firestore,gl),t=Bp(e);return kM(t,n._key).then((r=>FN(e,n,r)))}function BN(n){n=Zs(n,Oa);const e=Zs(n.firestore,gl),t=Bp(e),r=new Db(e);return PN(n._query),DM(t,n._query).then((i=>new ul(e,r,n,i)))}function ZM(n,e,t){n=Zs(n,hn);const r=Zs(n.firestore,gl),i=UN(n.converter,e,t),o=Ob(r);return HN(r,[jN(o,"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Ai.none())])}function zN(n,e){const t=Zs(n.firestore,gl),r=qp(n),i=UN(n.converter,e),o=Ob(n.firestore);return HN(t,[jN(o,"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Ai.exists(!1))]).then((()=>r))}function JM(n,...e){var p,b,v;n=cr(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||LE(e[r])||(t=e[r++]);const i={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(LE(e[r])){const x=e[r];e[r]=(p=x.next)==null?void 0:p.bind(x),e[r+1]=(b=x.error)==null?void 0:b.bind(x),e[r+2]=(v=x.complete)==null?void 0:v.bind(x)}let o,c,h;if(n instanceof hn)c=Zs(n.firestore,gl),h=Ip(n._key.path),o={next:x=>{e[r]&&e[r](FN(c,n,x))},error:e[r+1],complete:e[r+2]};else{const x=Zs(n,Oa);c=Zs(x.firestore,gl),h=x._query;const T=new Db(c);o={next:N=>{e[r]&&e[r](new ul(c,T,x,N))},error:e[r+1],complete:e[r+2]},PN(n._query)}const d=Bp(c);return jM(d,h,i,o)}function HN(n,e){const t=Bp(n);return MM(t,e)}function FN(n,e,t){const r=t.docs.get(e._key),i=new Db(n);return new cl(n,i,e._key,r,new Xu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){kk(Yc),Ic(new fl("firestore",((r,{instanceIdentifier:i,options:o})=>{const c=r.getProvider("app").getImmediate(),h=new gl(new Lk(r.getProvider("auth-internal")),new Uk(c,r.getProvider("app-check-internal")),n6(c,i),c);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),To(DE,ME,e),To(DE,ME,"esm2020")})();var eL="firebase",tL="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */To(eL,tL,"app");function GN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nL=GN,KN=new Vh("auth","Firebase",GN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=new Zy("@firebase/auth");function rL(n,...e){hp.logLevel<=at.WARN&&hp.warn(`Auth (${Yc}): ${n}`,...e)}function zf(n,...e){hp.logLevel<=at.ERROR&&hp.error(`Auth (${Yc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function js(n,...e){throw zb(n,...e)}function ei(n,...e){return zb(n,...e)}function Bb(n,e,t){const r={...nL(),[e]:t};return new Vh("auth","Firebase",r).create(e,{appName:n.name})}function xa(n){return Bb(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sL(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&js(n,"argument-error"),Bb(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function zb(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return KN.create(n,...e)}function qe(n,e,...t){if(!n)throw zb(e,...t)}function ga(n){const e="INTERNAL ASSERTION FAILED: "+n;throw zf(e),new Error(e)}function Aa(n,e){n||ga(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function iL(){return UE()==="http:"||UE()==="https:"}function UE(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iL()||d3()||"connection"in navigator)?navigator.onLine:!0}function oL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t){this.shortDelay=e,this.longDelay=t,Aa(t>e,"Short delay should be less than long delay!"),this.isMobile=c3()||f3()}get(){return aL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(n,e){Aa(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ga("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ga("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ga("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uL=new Gh(3e4,6e4);function Lo(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Po(n,e,t,r,i={}){return $N(n,i,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const h=Uh({key:n.config.apiKey,...c}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:d,...o};return h3()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Kc(n.emulatorConfig.host)&&(p.credentials="include"),YN.fetch()(await QN(n,n.config.apiHost,t,h),p)})}async function $N(n,e,t){n._canInitEmulator=!1;const r={...lL,...e};try{const i=new dL(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw vf(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[d,p]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw vf(n,"credential-already-in-use",c);if(d==="EMAIL_EXISTS")throw vf(n,"email-already-in-use",c);if(d==="USER_DISABLED")throw vf(n,"user-disabled",c);const b=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Bb(n,b,p);js(n,b)}}catch(i){if(i instanceof Ia)throw i;js(n,"network-request-failed",{message:String(i)})}}async function Kh(n,e,t,r,i={}){const o=await Po(n,e,t,r,i);return"mfaPendingCredential"in o&&js(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function QN(n,e,t,r){const i=`${e}${t}?${r}`,o=n,c=o.config.emulator?Hb(n.config,i):`${n.config.apiScheme}://${i}`;return cL.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function hL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ei(this.auth,"network-request-failed")),uL.get())})}}function vf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ei(n,e,r);return i.customData._tokenResponse=t,i}function qE(n){return n!==void 0&&n.enterprise!==void 0}class fL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return hL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pL(n,e){return Po(n,"GET","/v2/recaptchaConfig",Lo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mL(n,e){return Po(n,"POST","/v1/accounts:delete",e)}async function dp(n,e){return Po(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gL(n,e=!1){const t=cr(n),r=await t.getIdToken(e),i=Fb(r);qe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:lh(x0(i.auth_time)),issuedAtTime:lh(x0(i.iat)),expirationTime:lh(x0(i.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function x0(n){return Number(n)*1e3}function Fb(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return zf("JWT malformed, contained fewer than 3 sections"),null;try{const i=ZA(t);return i?JSON.parse(i):(zf("Failed to decode base64 JWT payload"),null)}catch(i){return zf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function BE(n){const e=Fb(n);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ia&&yL(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function yL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=lh(this.lastLoginAt),this.creationTime=lh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fp(n){var v;const e=n.auth,t=await n.getIdToken(),r=await Sh(n,dp(e,{idToken:t}));qe(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const o=(v=i.providerUserInfo)!=null&&v.length?WN(i.providerUserInfo):[],c=xL(n.providerData,o),h=n.isAnonymous,d=!(n.email&&i.passwordHash)&&!(c!=null&&c.length),p=h?d:!1,b={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new py(i.createdAt,i.lastLoginAt),isAnonymous:p};Object.assign(n,b)}async function vL(n){const e=cr(n);await fp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xL(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function WN(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _L(n,e){const t=await $N(n,{},async()=>{const r=Uh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,c=await QN(n,i,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return n.emulatorConfig&&Kc(n.emulatorConfig.host)&&(d.credentials="include"),YN.fetch()(c,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wL(n,e){return Po(n,"POST","/v2/accounts:revokeToken",Lo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):BE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const t=BE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await _L(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,c=new Tc;return r&&(qe(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(qe(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),o&&(qe(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tc,this.toJSON())}_performRefresh(){return ga("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lo(n,e){qe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Xs{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new bL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new py(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Sh(this,this.stsTokenManager.getToken(this.auth,e));return qe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return gL(this,e)}reload(){return vL(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await fp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jr(this.auth.app))return Promise.reject(xa(this.auth));const e=await this.getIdToken();return await Sh(this,mL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,h=t.tenantId??void 0,d=t._redirectEventId??void 0,p=t.createdAt??void 0,b=t.lastLoginAt??void 0,{uid:v,emailVerified:x,isAnonymous:T,providerData:N,stsTokenManager:I}=t;qe(v&&I,e,"internal-error");const C=Tc.fromJSON(this.name,I);qe(typeof v=="string",e,"internal-error"),lo(r,e.name),lo(i,e.name),qe(typeof x=="boolean",e,"internal-error"),qe(typeof T=="boolean",e,"internal-error"),lo(o,e.name),lo(c,e.name),lo(h,e.name),lo(d,e.name),lo(p,e.name),lo(b,e.name);const U=new Xs({uid:v,auth:e,email:i,emailVerified:x,displayName:r,isAnonymous:T,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:C,createdAt:p,lastLoginAt:b});return N&&Array.isArray(N)&&(U.providerData=N.map(K=>({...K}))),d&&(U._redirectEventId=d),U}static async _fromIdTokenResponse(e,t,r=!1){const i=new Tc;i.updateFromServerResponse(t);const o=new Xs({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await fp(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];qe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?WN(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),h=new Tc;h.updateFromIdToken(r);const d=new Xs({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:c}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new py(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE=new Map;function ya(n){Aa(n instanceof Function,"Expected a class definition");let e=zE.get(n);return e?(Aa(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,zE.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}XN.type="NONE";const HE=XN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(n,e,t){return`firebase:${n}:${e}:${t}`}class Ac{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Hf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Hf("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await dp(this.auth,{idToken:e}).catch(()=>{});return t?Xs._fromGetAccountInfoResponse(this.auth,t,e):null}return Xs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ac(ya(HE),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||ya(HE);const c=Hf(r,e.config.apiKey,e.name);let h=null;for(const p of t)try{const b=await p._get(c);if(b){let v;if(typeof b=="string"){const x=await dp(e,{idToken:b}).catch(()=>{});if(!x)break;v=await Xs._fromGetAccountInfoResponse(e,x,b)}else v=Xs._fromJSON(e,b);p!==o&&(h=v),o=p;break}}catch{}const d=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Ac(o,e,r):(o=d[0],h&&await o._set(c,h.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new Ac(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rC(e))return"Blackberry";if(sC(e))return"Webos";if(JN(e))return"Safari";if((e.includes("chrome/")||eC(e))&&!e.includes("edge/"))return"Chrome";if(nC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ZN(n=lr()){return/firefox\//i.test(n)}function JN(n=lr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eC(n=lr()){return/crios\//i.test(n)}function tC(n=lr()){return/iemobile/i.test(n)}function nC(n=lr()){return/android/i.test(n)}function rC(n=lr()){return/blackberry/i.test(n)}function sC(n=lr()){return/webos/i.test(n)}function Gb(n=lr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function EL(n=lr()){var e;return Gb(n)&&!!((e=window.navigator)!=null&&e.standalone)}function TL(){return p3()&&document.documentMode===10}function iC(n=lr()){return Gb(n)||nC(n)||sC(n)||rC(n)||/windows phone/i.test(n)||tC(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(n,e=[]){let t;switch(n){case"Browser":t=FE(lr());break;case"Worker":t=`${FE(lr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Yc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((c,h)=>{try{const d=e(o);c(d)}catch(d){h(d)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SL(n,e={}){return Po(n,"GET","/v2/passwordPolicy",Lo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=6;class CL{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??NL,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GE(this),this.idTokenSubscription=new GE(this),this.beforeStateQueue=new AL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ya(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Ac.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await dp(this,{idToken:e}),r=await Xs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Jr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(o=this.redirectUser)==null?void 0:o._redirectEventId,h=r==null?void 0:r._redirectEventId,d=await this.tryRedirectSignIn(e);(!c||c===h)&&(d!=null&&d.user)&&(r=d.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await fp(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jr(this.app))return Promise.reject(xa(this));const t=e?cr(e):null;return t&&qe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jr(this.app)?Promise.reject(xa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jr(this.app)?Promise.reject(xa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ya(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SL(this),t=new CL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vh("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await wL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ya(e)||this._popupRedirectResolver;qe(t,this,"argument-error"),this.redirectPersistenceManager=await Ac.create(this,[ya(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,r,i);return()=>{c=!0,d()}}else{const d=e.addObserver(t);return()=>{c=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Jr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&rL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Vo(n){return cr(n)}class GE{constructor(e){this.auth=e,this.observer=null,this.addObserver=w3(t=>this.observer=t)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IL(n){Hp=n}function oC(n){return Hp.loadJS(n)}function OL(){return Hp.recaptchaEnterpriseScript}function jL(){return Hp.gapiScript}function kL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class DL{constructor(){this.enterprise=new ML}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ML{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const LL="recaptcha-enterprise",lC="NO_RECAPTCHA";class PL{constructor(e){this.type=LL,this.auth=Vo(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{pL(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const p=new fL(d);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(d=>{h(d)})})}function i(o,c,h){const d=window.grecaptcha;qE(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(p=>{c(p)}).catch(()=>{c(lC)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DL().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(h=>{if(!t&&qE(window.grecaptcha))i(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let d=OL();d.length!==0&&(d+=h),oC(d).then(()=>{i(h,o,c)}).catch(p=>{c(p)})}}).catch(h=>{c(h)})})}}async function KE(n,e,t,r=!1,i=!1){const o=new PL(n);let c;if(i)c=lC;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,p=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function my(n,e,t,r,i){var o;if((o=n._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await KE(n,e,t,t==="getOobCode");return r(n,c)}else return r(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await KE(n,e,t,t==="getOobCode");return r(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(n,e){const t=eb(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(dl(o,e??{}))return i;js(i,"already-initialized")}return t.initialize({options:e})}function UL(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ya);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qL(n,e,t){const r=Vo(n);qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=cC(e),{host:c,port:h}=BL(e),d=h===null?"":`:${h}`,p={url:`${o}//${c}${d}/`},b=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){qe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),qe(dl(p,r.config.emulator)&&dl(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,Kc(c)?(nS(`${o}//${c}${d}`),rS("Auth",!0)):zL()}function cC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function BL(n){const e=cC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:YE(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:YE(c)}}}function YE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function zL(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ga("not implemented")}_getIdTokenResponse(e){return ga("not implemented")}_linkToIdToken(e,t){return ga("not implemented")}_getReauthenticationResolver(e){return ga("not implemented")}}async function HL(n,e){return Po(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FL(n,e){return Kh(n,"POST","/v1/accounts:signInWithPassword",Lo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GL(n,e){return Kh(n,"POST","/v1/accounts:signInWithEmailLink",Lo(n,e))}async function KL(n,e){return Kh(n,"POST","/v1/accounts:signInWithEmailLink",Lo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends Kb{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Nh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Nh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return my(e,t,"signInWithPassword",FL);case"emailLink":return GL(e,{email:this._email,oobCode:this._password});default:js(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return my(e,r,"signUpPassword",HL);case"emailLink":return KL(e,{idToken:t,email:this._email,oobCode:this._password});default:js(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(n,e){return Kh(n,"POST","/v1/accounts:signInWithIdp",Lo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL="http://localhost";class yl extends Kb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new yl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):js("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=t;if(!r||!i)return null;const c=new yl(r,i);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Sc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Sc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Sc(e,t)}buildRequest(){const e={requestUri:YL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Uh(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $L(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QL(n){const e=Ku(Yu(n)).link,t=e?Ku(Yu(e)).deep_link_id:null,r=Ku(Yu(n)).deep_link_id;return(r?Ku(Yu(r)).link:null)||r||t||e||n}class Yb{constructor(e){const t=Ku(Yu(e)),r=t.apiKey??null,i=t.oobCode??null,o=$L(t.mode??null);qe(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=QL(e);try{return new Yb(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(){this.providerId=Jc.PROVIDER_ID}static credential(e,t){return Nh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Yb.parseLink(t);return qe(r,"argument-error"),Nh._fromEmailAndCode(e,r.code,r.tenantId)}}Jc.PROVIDER_ID="password";Jc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Jc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh extends $b{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho extends Yh{constructor(){super("facebook.com")}static credential(e){return yl._fromParams({providerId:ho.PROVIDER_ID,signInMethod:ho.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ho.credentialFromTaggedObject(e)}static credentialFromError(e){return ho.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ho.credential(e.oauthAccessToken)}catch{return null}}}ho.FACEBOOK_SIGN_IN_METHOD="facebook.com";ho.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa extends Yh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return yl._fromParams({providerId:pa.PROVIDER_ID,signInMethod:pa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return pa.credentialFromTaggedObject(e)}static credentialFromError(e){return pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return pa.credential(t,r)}catch{return null}}}pa.GOOGLE_SIGN_IN_METHOD="google.com";pa.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo extends Yh{constructor(){super("github.com")}static credential(e){return yl._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fo.credential(e.oauthAccessToken)}catch{return null}}}fo.GITHUB_SIGN_IN_METHOD="github.com";fo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends Yh{constructor(){super("twitter.com")}static credential(e,t){return yl._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return po.credential(t,r)}catch{return null}}}po.TWITTER_SIGN_IN_METHOD="twitter.com";po.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WL(n,e){return Kh(n,"POST","/v1/accounts:signUp",Lo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await Xs._fromIdTokenResponse(e,r,i),c=$E(r);return new bl({user:o,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=$E(r);return new bl({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function $E(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp extends Ia{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,pp.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new pp(e,t,r,i)}}function uC(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?pp._fromErrorAndOperation(n,o,e,r):o})}async function XL(n,e,t=!1){const r=await Sh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return bl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZL(n,e,t=!1){const{auth:r}=n;if(Jr(r.app))return Promise.reject(xa(r));const i="reauthenticate";try{const o=await Sh(n,uC(r,i,e,n),t);qe(o.idToken,r,"internal-error");const c=Fb(o.idToken);qe(c,r,"internal-error");const{sub:h}=c;return qe(n.uid===h,r,"user-mismatch"),bl._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&js(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(n,e,t=!1){if(Jr(n.app))return Promise.reject(xa(n));const r="signIn",i=await uC(n,r,e),o=await bl._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function JL(n,e){return hC(Vo(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(n){const e=Vo(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function e2(n,e,t){if(Jr(n.app))return Promise.reject(xa(n));const r=Vo(n),c=await my(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WL).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&dC(n),d}),h=await bl._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(h.user),h}function t2(n,e,t){return Jr(n.app)?Promise.reject(xa(n)):JL(cr(n),Jc.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&dC(n),r})}function n2(n,e,t,r){return cr(n).onIdTokenChanged(e,t,r)}function r2(n,e,t){return cr(n).beforeAuthStateChanged(e,t)}function fC(n,e,t,r){return cr(n).onAuthStateChanged(e,t,r)}function mp(n){return cr(n).signOut()}const gp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gp,"1"),this.storage.removeItem(gp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=1e3,i2=10;class mC extends pC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,d)=>{this.notifyListeners(c,d)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);TL()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,i2):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},s2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}mC.type="LOCAL";const a2=mC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC extends pC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gC.type="SESSION";const yC=gC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new Fp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,c=this.handlersMap[i];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(c).map(async p=>p(t.origin,o)),d=await o2(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,c;return new Promise((h,d)=>{const p=Qb("",20);i.port1.start();const b=setTimeout(()=>{d(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(v){const x=v;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(b),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(x.data.response);break;default:clearTimeout(b),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return window}function c2(n){Ci().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function u2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function h2(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function d2(){return bC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="firebaseLocalStorageDb",f2=1,yp="firebaseLocalStorage",xC="fbase_key";class $h{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Gp(n,e){return n.transaction([yp],e?"readwrite":"readonly").objectStore(yp)}function p2(){const n=indexedDB.deleteDatabase(vC);return new $h(n).toPromise()}function gy(){const n=indexedDB.open(vC,f2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(yp,{keyPath:xC})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(yp)?e(r):(r.close(),await p2(),e(await gy()))})})}async function QE(n,e,t){const r=Gp(n,!0).put({[xC]:e,value:t});return new $h(r).toPromise()}async function m2(n,e){const t=Gp(n,!1).get(e),r=await new $h(t).toPromise();return r===void 0?null:r.value}function WE(n,e){const t=Gp(n,!0).delete(e);return new $h(t).toPromise()}const g2=800,y2=3;class _C{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gy(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>y2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fp._getInstance(d2()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await u2(),!this.activeServiceWorker)return;this.sender=new l2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||h2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gy();return await QE(e,gp,"1"),await WE(e,gp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>QE(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>m2(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>WE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Gp(i,!1).getAll();return new $h(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),g2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_C.type="LOCAL";const b2=_C;new Gh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(n,e){return e?ya(e):(qe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb extends Kb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Sc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Sc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function v2(n){return hC(n.auth,new Wb(n),n.bypassAuthState)}function x2(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),ZL(t,new Wb(n),n.bypassAuthState)}async function _2(n){const{auth:e,user:t}=n;return qe(t,e,"internal-error"),XL(t,new Wb(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const d={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return v2;case"linkViaPopup":case"linkViaRedirect":return _2;case"reauthViaPopup":case"reauthViaRedirect":return x2;default:js(this.auth,"internal-error")}}resolve(e){Aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Aa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=new Gh(2e3,1e4);async function E2(n,e,t){if(Jr(n.app))return Promise.reject(ei(n,"operation-not-supported-in-this-environment"));const r=Vo(n);sL(n,e,$b);const i=wC(r,t);return new ol(r,"signInViaPopup",e,i).executeNotNull()}class ol extends EC{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ol.currentPopupAction&&ol.currentPopupAction.cancel(),ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){Aa(this.filter.length===1,"Popup operations only handle one event");const e=Qb();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,w2.get())};e()}}ol.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="pendingRedirect",Ff=new Map;class A2 extends EC{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ff.get(this.auth._key());if(!e){try{const r=await S2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ff.set(this.auth._key(),e)}return this.bypassAuthState||Ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function S2(n,e){const t=R2(e),r=C2(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function N2(n,e){Ff.set(n._key(),e)}function C2(n){return ya(n._redirectPersistence)}function R2(n){return Hf(T2,n.config.apiKey,n.name)}async function I2(n,e,t=!1){if(Jr(n.app))return Promise.reject(xa(n));const r=Vo(n),i=wC(r,e),c=await new A2(r,i,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=600*1e3;class j2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!k2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!TC(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(ei(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=O2&&this.cachedEventUids.clear(),this.cachedEventUids.has(XE(e))}saveEventToCache(e){this.cachedEventUids.add(XE(e)),this.lastProcessedEventTime=Date.now()}}function XE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function TC({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function k2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return TC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(n,e={}){return Po(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,L2=/^https?/;async function P2(n){if(n.config.emulator)return;const{authorizedDomains:e}=await D2(n);for(const t of e)try{if(V2(t))return}catch{}js(n,"unauthorized-domain")}function V2(n){const e=fy(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!L2.test(t))return!1;if(M2.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=new Gh(3e4,6e4);function ZE(){const n=Ci().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function q2(n){return new Promise((e,t)=>{var i,o,c;function r(){ZE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZE(),t(ei(n,"network-request-failed"))},timeout:U2.get()})}if((o=(i=Ci().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((c=Ci().gapi)!=null&&c.load)r();else{const h=kL("iframefcb");return Ci()[h]=()=>{gapi.load?r():t(ei(n,"network-request-failed"))},oC(`${jL()}?onload=${h}`).catch(d=>t(d))}}).catch(e=>{throw Gf=null,e})}let Gf=null;function B2(n){return Gf=Gf||q2(n),Gf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new Gh(5e3,15e3),H2="__/auth/iframe",F2="emulator/auth/iframe",G2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},K2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y2(n){const e=n.config;qe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Hb(e,F2):`https://${n.config.authDomain}/${H2}`,r={apiKey:e.apiKey,appName:n.name,v:Yc},i=K2.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Uh(r).slice(1)}`}async function $2(n){const e=await B2(n),t=Ci().gapi;return qe(t,n,"internal-error"),e.open({where:document.body,url:Y2(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:G2,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const c=ei(n,"network-request-failed"),h=Ci().setTimeout(()=>{o(c)},z2.get());function d(){Ci().clearTimeout(h),i(r)}r.ping(d).then(d,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},W2=500,X2=600,Z2="_blank",J2="http://localhost";class JE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e9(n,e,t,r=W2,i=X2){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d={...Q2,width:r.toString(),height:i.toString(),top:o,left:c},p=lr().toLowerCase();t&&(h=eC(p)?Z2:t),ZN(p)&&(e=e||J2,d.scrollbars="yes");const b=Object.entries(d).reduce((x,[T,N])=>`${x}${T}=${N},`,"");if(EL(p)&&h!=="_self")return t9(e||"",h),new JE(null);const v=window.open(e||"",h,b);qe(v,n,"popup-blocked");try{v.focus()}catch{}return new JE(v)}function t9(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9="__/auth/handler",r9="emulator/auth/handler",s9=encodeURIComponent("fac");async function eT(n,e,t,r,i,o){qe(n.config.authDomain,n,"auth-domain-config-required"),qe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Yc,eventId:i};if(e instanceof $b){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",_3(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,v]of Object.entries({}))c[b]=v}if(e instanceof Yh){const b=e.getScopes().filter(v=>v!=="");b.length>0&&(c.scopes=b.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const b of Object.keys(h))h[b]===void 0&&delete h[b];const d=await n._getAppCheckToken(),p=d?`#${s9}=${encodeURIComponent(d)}`:"";return`${i9(n)}?${Uh(h).slice(1)}${p}`}function i9({config:n}){return n.emulator?Hb(n,r9):`https://${n.authDomain}/${n9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="webStorageSupport";class a9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yC,this._completeRedirectFn=I2,this._overrideRedirectResult=N2}async _openPopup(e,t,r,i){var c;Aa((c=this.eventManagers[e._key()])==null?void 0:c.manager,"_initialize() not called before _openPopup()");const o=await eT(e,t,r,fy(),i);return e9(e,o,Qb())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await eT(e,t,r,fy(),i);return c2(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Aa(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await $2(e),r=new j2(e);return t.register("authEvent",i=>(qe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_0,{type:_0},i=>{var c;const o=(c=i==null?void 0:i[0])==null?void 0:c[_0];o!==void 0&&t(!!o),js(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=P2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return iC()||JN()||Gb()}}const o9=a9;var tT="@firebase/auth",nT="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u9(n){Ic(new fl("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;qe(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aC(n)},p=new RL(r,i,o,d);return UL(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ic(new fl("auth-internal",e=>{const t=Vo(e.getProvider("auth").getImmediate());return(r=>new l9(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),To(tT,nT,c9(n)),To(tT,nT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=300,d9=tS("authIdTokenMaxAge")||h9;let rT=null;const f9=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>d9)return;const i=t==null?void 0:t.token;rT!==i&&(rT=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function p9(n=oS()){const e=eb(n,"auth");if(e.isInitialized())return e.getImmediate();const t=VL(n,{popupRedirectResolver:o9,persistence:[b2,a2,yC]}),r=tS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=f9(o.toString());r2(t,c,()=>c(t.currentUser)),n2(t,h=>c(h))}}const i=JA("auth");return i&&qL(t,`http://${i}`),t}function m9(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}IL({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=ei("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",m9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u9("Browser");const g9={apiKey:"AIzaSyAV-2RbTd5uI-bl4cQ7IeJSVoy-NbA7_4U",authDomain:"yakuza-ai.firebaseapp.com",projectId:"yakuza-ai",storageBucket:"yakuza-ai.firebasestorage.app",messagingSenderId:"333876053572",appId:"1:333876053572:web:a75da066abd7e9c0a11e11",measurementId:"G-WEG9EGHGJX"},AC=aS(g9),ma=p9(AC),y9=new pa,yo=UM(AC),b9=()=>{var N;const[n,e]=H.useState([]),[t,r]=H.useState([]),[i,o]=H.useState(!0),[c,h]=H.useState(""),[d,p]=H.useState("All");H.useEffect(()=>{(async()=>{try{const C=hy(oh(yo,"articles"),dy("createdAt","desc")),K=(await BN(C)).docs.map(B=>({id:B.id,...B.data()}));e(K),r(K)}catch(C){console.error("Error:",C)}finally{o(!1)}})()},[]),H.useEffect(()=>{let I=n;d!=="All"&&(I=I.filter(C=>C.category===d)),c&&(I=I.filter(C=>C.title.toLowerCase().includes(c.toLowerCase()))),r(I)},[c,d,n]);const b=I=>{const U=I?I.split(/\s+/).length:0;return`${Math.ceil(U/200)} min read`},v=I=>{var U;const C=document.createElement("div");return C.innerHTML=I,((U=C.textContent)==null?void 0:U.slice(0,120))+"..."||""},x=t.length>0?t[0]:null,T=t.length>0?t.slice(1):[];return f.jsxs("div",{className:"min-h-screen bg-[#0f172a] text-white font-sans selection:bg-blue-500 selection:text-white",children:[f.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[f.jsx("div",{className:"absolute -top-[20%] -left-[10%] w-[50%] h-[50%] bg-blue-600/10 blur-[150px] rounded-full"}),f.jsx("div",{className:"absolute top-[40%] -right-[10%] w-[40%] h-[40%] bg-purple-600/10 blur-[150px] rounded-full"})]}),f.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 py-8 md:px-6 md:py-12",children:[f.jsxs("header",{className:"flex flex-col lg:flex-row justify-between items-end mb-12 gap-6",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-red-500 animate-pulse"}),f.jsx("span",{className:"text-xs font-bold tracking-widest uppercase text-slate-400",children:"Yakuza Intelligence Hub"})]}),f.jsxs("h1",{className:"text-4xl md:text-5xl font-black tracking-tight text-white",children:["News & ",f.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500",children:"Insights"})]})]}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full lg:w-auto bg-slate-900/80 p-2 rounded-2xl border border-white/10 backdrop-blur-md",children:[f.jsxs("select",{value:d,onChange:I=>p(I.target.value),className:"bg-transparent text-sm font-bold text-slate-300 px-4 py-2 focus:outline-none cursor-pointer hover:text-white",children:[f.jsx("option",{value:"All",children:"All Topics"}),f.jsx("option",{value:"Analysis",children:"Analysis"}),f.jsx("option",{value:"Prediction",children:"Prediction"}),f.jsx("option",{value:"News",children:"News"})]}),f.jsx("div",{className:"w-px h-6 bg-white/10 self-center hidden sm:block"}),f.jsxs("div",{className:"relative flex-1",children:[f.jsx("input",{type:"text",placeholder:"Search articles...",className:"w-full sm:w-64 bg-white/5 border border-transparent focus:border-blue-500 rounded-xl px-4 py-2 pl-10 text-sm text-white placeholder-slate-500 focus:outline-none transition-all",value:c,onChange:I=>h(I.target.value)}),f.jsx("svg",{className:"w-4 h-4 absolute left-3 top-2.5 text-slate-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]})]}),i?f.jsxs("div",{className:"space-y-8",children:[f.jsx("div",{className:"w-full h-[500px] bg-white/5 rounded-3xl animate-pulse"}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(I=>f.jsx("div",{className:"h-80 bg-white/5 rounded-3xl animate-pulse"},I))})]}):f.jsxs(f.Fragment,{children:[x&&f.jsxs(xo,{to:`/blog/${x.id}`,className:"group relative block w-full h-[400px] md:h-[550px] rounded-[2rem] overflow-hidden mb-12 border border-white/10 shadow-2xl",children:[f.jsx("div",{className:"absolute inset-0 bg-slate-900",children:x.image?f.jsx("img",{src:x.image,alt:x.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105 opacity-80 group-hover:opacity-60"}):f.jsx("div",{className:"w-full h-full bg-gradient-to-br from-blue-900 to-slate-900"})}),f.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0f172a] via-[#0f172a]/40 to-transparent"}),f.jsxs("div",{className:"absolute bottom-0 left-0 w-full p-6 md:p-12",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsx("span",{className:"bg-blue-600 text-white text-[10px] font-black uppercase px-3 py-1 rounded-full tracking-wider shadow-lg shadow-blue-600/20",children:x.category||"Featured"}),f.jsx("span",{className:"text-slate-300 text-xs font-bold uppercase tracking-widest",children:(N=x.createdAt)!=null&&N.seconds?new Date(x.createdAt.seconds*1e3).toLocaleDateString():""})]}),f.jsx("h2",{className:"text-3xl md:text-6xl font-black text-white mb-4 leading-tight max-w-4xl group-hover:text-blue-200 transition-colors",children:x.title}),f.jsx("p",{className:"text-slate-300 text-base md:text-lg max-w-2xl line-clamp-2 mb-6 hidden md:block",children:v(x.content)}),f.jsxs("div",{className:"flex items-center gap-2 text-sm font-bold text-white group-hover:translate-x-2 transition-transform",children:["Read Full Analysis ",f.jsx("span",{className:"text-blue-400",children:""})]})]})]}),T.length>0?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:T.map(I=>{var C;return f.jsxs(xo,{to:`/blog/${I.id}`,className:"group flex flex-col bg-slate-900/40 backdrop-blur-sm border border-white/5 rounded-3xl overflow-hidden hover:bg-slate-800/60 hover:border-blue-500/30 hover:shadow-2xl hover:shadow-blue-500/10 transition-all duration-300",children:[f.jsxs("div",{className:"relative h-56 overflow-hidden",children:[I.image?f.jsx("img",{src:I.image,alt:I.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):f.jsx("div",{className:"w-full h-full bg-gradient-to-br from-slate-800 to-slate-900 flex items-center justify-center text-slate-600 font-bold",children:"NO IMAGE"}),f.jsx("div",{className:"absolute top-4 left-4",children:f.jsx("span",{className:"bg-black/60 backdrop-blur-md text-white text-[10px] font-bold uppercase px-3 py-1 rounded-full border border-white/10",children:I.category||"News"})})]}),f.jsxs("div",{className:"p-6 flex-1 flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-500 mb-3 font-medium uppercase tracking-wider",children:[f.jsx("span",{children:(C=I.createdAt)!=null&&C.seconds?new Date(I.createdAt.seconds*1e3).toLocaleDateString():"Just now"}),f.jsx("span",{children:b(I.content)})]}),f.jsx("h3",{className:"text-xl font-bold text-white mb-3 line-clamp-2 leading-tight group-hover:text-blue-400 transition-colors",children:I.title}),f.jsx("p",{className:"text-slate-400 text-sm line-clamp-3 mb-6 leading-relaxed flex-1",children:I.excerpt||v(I.content)}),f.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-white/5",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-500 grid place-items-center text-xs font-bold text-white",children:"Y"}),f.jsx("span",{className:"text-xs font-bold text-slate-300",children:"By Yakuza Team"})]})]})]},I.id)})}):!x&&f.jsxs("div",{className:"text-center py-20 border border-white/5 rounded-3xl bg-white/5",children:[f.jsx("p",{className:"text-2xl mb-2",children:""}),f.jsx("h3",{className:"text-xl font-bold text-white",children:"No articles found"}),f.jsx("p",{className:"text-slate-400",children:"Try adjusting your search or filters."}),f.jsx("button",{onClick:()=>{h(""),p("All")},className:"mt-4 text-blue-400 hover:underline",children:"Reset Filters"})]})]})]})]})},sT=[{id:"fake1",user:"Alex Trader",text:"This strategy completely changed my ROI last month. The analysis on Haaland is spot on! ",time:"2 hours ago",isVerified:!0},{id:"fake2",user:"Sarah Betting",text:"Been following Yakuza AI for a year now. Best decision ever.",time:"5 hours ago",isVerified:!1},{id:"fake3",user:"Karim_Casablanca",text:"Hadchi nadi! The stats are unbelievable.",time:"1 day ago",isVerified:!0}],iT=[{name:"Omar from Marrakech",action:"subscribed to Premium"},{name:"John from London",action:"purchased VIP Tips"},{name:"Khalid from Dubai",action:"renewed Membership"}],v9=()=>{var ce,xe;const{id:n}=i5(),[e,t]=H.useState(null),[r,i]=H.useState([]),[o,c]=H.useState(!0),[h,d]=H.useState(0),[p,b]=H.useState(!1),[v,x]=H.useState(142),[T,N]=H.useState(!1),[I,C]=H.useState(!1),[U,K]=H.useState(null),[B,$]=H.useState([]),[Z,ve]=H.useState(""),[L,k]=H.useState(""),[P,V]=H.useState(!1);H.useEffect(()=>{const re=()=>{const q=document.documentElement.scrollHeight-window.innerHeight,W=window.scrollY/q*100;d(W)};return window.addEventListener("scroll",re),()=>window.removeEventListener("scroll",re)},[]),H.useEffect(()=>{const re=setInterval(()=>{const q=iT[Math.floor(Math.random()*iT.length)];K(q),setTimeout(()=>K(null),5e3)},15e3);return()=>clearInterval(re)},[]),H.useEffect(()=>()=>{window.speechSynthesis.cancel()},[]);const A=()=>{if(e!=null&&e.content)if(I)window.speechSynthesis.cancel(),C(!1);else{const re=e.content.replace(/<[^>]+>/g,""),q=new SpeechSynthesisUtterance(re),W=window.speechSynthesis.getVoices(),oe=W.find(he=>he.lang.includes("en-GB"))||W[0];oe&&(q.voice=oe),q.rate=1,q.pitch=1,q.onend=()=>C(!1),window.speechSynthesis.speak(q),C(!0)}};H.useEffect(()=>{(async()=>{if(n){c(!0);try{const q=qp(yo,"articles",n),W=await qN(q);if(W.exists()){const oe=W.data();t({id:W.id,...oe});const he=hy(oh(yo,"articles"),dy("createdAt","desc"),WM(4)),Te=(await BN(he)).docs.map(Se=>({id:Se.id,...Se.data()})).filter(Se=>Se.id!==n).slice(0,3);i(Te)}}catch(q){console.error("Error:",q)}finally{c(!1)}}})()},[n]),H.useEffect(()=>{if(!n)return;const re=hy(oh(yo,"articles",n,"comments"),dy("createdAt","desc")),q=JM(re,W=>{$(W.docs.map(oe=>({id:oe.id,...oe.data()})))});return()=>q()},[n]);const D=async re=>{if(re.preventDefault(),!(!Z.trim()||!L.trim()||!n)){V(!0);try{await zN(oh(yo,"articles",n,"comments"),{user:L,text:Z,createdAt:Ct.now(),isReal:!0}),ve("")}catch{alert("Error posting comment")}finally{V(!1)}}},R=()=>{b(!p),x(re=>p?re-1:re+1)},le=()=>{navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard! ")},de=()=>{navigator.clipboard.writeText("YAKUZA88"),alert("Promo Code Copied: YAKUZA88 ")};if(o)return f.jsx("div",{className:"min-h-screen bg-[#0b1120] flex items-center justify-center",children:f.jsxs("div",{className:"flex flex-col items-center gap-4",children:[f.jsx("div",{className:"w-16 h-16 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),f.jsx("p",{className:"text-blue-400 font-mono animate-pulse",children:"Initializing AI..."})]})});if(!e)return f.jsx("div",{className:"min-h-screen bg-[#0b1120] flex items-center justify-center text-white font-bold",children:"404 - Article Not Found"});const z=(ce=e.createdAt)!=null&&ce.seconds?new Date(e.createdAt.seconds*1e3).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Oct 24, 2025",X=Math.ceil((((xe=e.content)==null?void 0:xe.split(" ").length)||0)/200)+" min read";return f.jsxs("div",{className:"min-h-screen bg-[#0b1120] text-slate-200 font-sans selection:bg-blue-500/30 selection:text-blue-200 overflow-x-hidden relative",children:[U&&f.jsxs("div",{className:"fixed bottom-5 left-5 z-[200] bg-[#1e293b] border border-blue-500/30 p-4 rounded-xl shadow-2xl flex items-center gap-3 animate-slide-up-fade",children:[f.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-ping"}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-slate-400",children:"Just now"}),f.jsxs("p",{className:"text-sm font-bold text-white",children:[f.jsx("span",{className:"text-blue-400",children:U.name})," ",U.action]})]})]}),f.jsx("div",{className:"fixed top-0 left-0 h-1.5 bg-gradient-to-r from-blue-600 via-indigo-500 to-purple-600 z-[100] shadow-[0_0_15px_rgba(59,130,246,0.8)]",style:{width:`${h}%`}}),f.jsx("nav",{className:"border-b border-white/5 bg-[#0b1120]/80 backdrop-blur-md sticky top-0 z-40 w-full transition-all duration-300",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between text-sm",children:[f.jsxs("div",{className:"flex items-center gap-2 text-slate-400 overflow-hidden",children:[f.jsx(xo,{to:"/",className:"hover:text-white transition flex-shrink-0",children:"Home"}),f.jsx("span",{className:"text-slate-600",children:"/"}),f.jsx("span",{className:"text-blue-400 font-medium truncate max-w-[150px] md:max-w-xs",children:e.title})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-1 bg-green-500/10 border border-green-500/20 rounded-full",children:[f.jsxs("span",{className:"relative flex h-2 w-2",children:[f.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),f.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-green-500"})]}),f.jsx("span",{className:"text-xs text-green-400 font-bold",children:"124 Live Readers"})]}),f.jsxs(xo,{to:"/",className:"font-black text-2xl text-white tracking-tighter",children:["YAKUZA",f.jsx("span",{className:"text-blue-500",children:".AI"})]})]})]})}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8 md:py-12",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-12",children:[f.jsx("aside",{className:"hidden lg:block lg:col-span-2",children:f.jsxs("div",{className:"sticky top-28 flex flex-col gap-8",children:[f.jsxs("div",{className:"flex flex-col gap-4 items-center bg-[#131b2e] p-4 rounded-full border border-white/5 shadow-xl",children:[f.jsx("button",{onClick:R,className:`p-3 rounded-full transition-all duration-300 ${p?"bg-red-500/20 text-red-500":"hover:bg-white/10 text-slate-400"}`,children:f.jsx("svg",{className:`w-6 h-6 ${p?"fill-current":"fill-none"}`,viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})}),f.jsx("span",{className:"text-xs font-bold text-slate-500",children:v}),f.jsx("div",{className:"w-8 h-px bg-white/10"}),f.jsx("button",{onClick:()=>N(!T),className:`p-3 rounded-full transition ${T?"text-blue-400":"hover:bg-white/10 text-slate-400"}`,children:f.jsx("svg",{className:`w-6 h-6 ${T?"fill-current":"fill-none"}`,viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})})}),f.jsx("button",{onClick:le,className:"p-3 rounded-full hover:bg-white/10 text-slate-400 transition",children:f.jsx("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})})})]}),f.jsxs("div",{className:"bg-[#131b2e] p-6 rounded-2xl border border-white/5",children:[f.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-4",children:"On this page"}),f.jsxs("ul",{className:"space-y-3 text-sm border-l border-white/10 pl-4",children:[f.jsx("li",{className:"text-blue-400 font-bold border-l-2 border-blue-500 -ml-[17px] pl-4 transition-all",children:"Match Preview"}),f.jsx("li",{className:"text-slate-400 hover:text-white cursor-pointer transition",children:"Tactical Analysis"}),f.jsx("li",{className:"text-slate-400 hover:text-white cursor-pointer transition",children:"Betting Odds"}),f.jsx("li",{className:"text-slate-400 hover:text-white cursor-pointer transition",children:"Final Prediction"})]})]})]})}),f.jsxs("main",{className:"lg:col-span-7 w-full min-w-0",children:[f.jsxs("header",{className:"mb-10",children:[f.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[f.jsx("span",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white text-[10px] font-bold uppercase tracking-wider px-3 py-1.5 rounded-lg shadow-lg shadow-blue-500/20 border border-white/10",children:e.category||"Pro Analysis"}),f.jsx("span",{className:"text-slate-400 text-sm font-medium flex items-center gap-1",children:z}),f.jsx("span",{className:"text-slate-600",children:"|"}),f.jsx("span",{className:"text-slate-400 text-sm font-medium flex items-center gap-1",children:X})]}),f.jsx("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-black text-white leading-[1.1] mb-8 tracking-tight break-words drop-shadow-2xl",children:e.title}),e.image&&f.jsxs("div",{className:"relative rounded-2xl mb-8 group",children:[f.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 rounded-2xl blur opacity-25 group-hover:opacity-50 transition duration-1000"}),f.jsxs("div",{className:"relative rounded-2xl overflow-hidden border border-white/10 shadow-2xl aspect-video bg-[#1e293b]",children:[f.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover transform group-hover:scale-105 transition duration-700 ease-out"}),f.jsx("div",{className:"absolute bottom-4 left-4 bg-black/60 backdrop-blur-md px-3 py-1 rounded-lg border border-white/10",children:f.jsx("p",{className:"text-[10px] text-white uppercase tracking-wider font-bold",children:"Getty Images"})})]})]}),f.jsxs("div",{className:"bg-[#1e293b] rounded-xl p-4 border border-white/5 flex items-center gap-4 mb-10 shadow-lg",children:[f.jsx("button",{onClick:A,className:`w-10 h-10 rounded-full flex items-center justify-center text-white transition shadow-lg ${I?"bg-red-500 hover:bg-red-600":"bg-blue-600 hover:bg-blue-500"}`,children:I?f.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M6 4h4v16H6V4zm8 0h4v16h-4V4z"})}):f.jsx("svg",{className:"w-4 h-4 ml-0.5",fill:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{d:"M8 5v14l11-7z"})})}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-xs text-blue-300 font-bold mb-1 uppercase tracking-wider",children:I?"Now Reading...":"Listen to this article"}),f.jsx("div",{className:"w-full h-1.5 bg-slate-700 rounded-full overflow-hidden",children:f.jsx("div",{className:`h-full bg-blue-500 rounded-full ${I?"w-full animate-[progress_10s_linear_infinite]":"w-0"}`})})]})]})]}),f.jsxs("div",{className:"bg-[#1e293b]/30 backdrop-blur-sm p-6 md:p-10 rounded-3xl border border-white/5 shadow-inner w-full overflow-hidden break-words relative",children:[f.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-600/5 rounded-full blur-3xl -z-10 pointer-events-none"}),e.excerpt&&f.jsx("div",{className:"mb-10 pl-6 border-l-4 border-blue-500",children:f.jsxs("p",{className:"text-xl md:text-2xl text-blue-100 font-serif italic leading-relaxed",children:['"',e.excerpt,'"']})}),f.jsx("article",{className:`prose prose-lg prose-invert max-w-none w-full\r
                        prose-headings:text-white prose-headings:font-black prose-headings:tracking-tight\r
                        prose-p:text-slate-300 prose-p:leading-8 prose-p:mb-6\r
                        prose-a:text-blue-400 prose-a:font-bold prose-a:no-underline hover:prose-a:underline\r
                        prose-strong:text-white prose-strong:font-black\r
                        prose-ul:list-disc prose-ul:pl-6 prose-ul:text-slate-300\r
                        prose-img:rounded-2xl prose-img:shadow-2xl prose-img:border prose-img:border-white/5 prose-img:w-full prose-img:my-8\r
                        prose-blockquote:bg-[#131b2e] prose-blockquote:p-8 prose-blockquote:rounded-2xl prose-blockquote:border-none prose-blockquote:italic prose-blockquote:shadow-lg\r
                        prose-hr:border-white/10 prose-hr:my-12\r
                        break-words\r
                    `,children:f.jsx("div",{dangerouslySetInnerHTML:{__html:e.content}})}),f.jsx("div",{className:"mt-12 flex flex-wrap gap-2",children:["Premier League","Betting","Strategy","Analysis"].map(re=>f.jsxs("span",{className:"text-xs bg-white/5 hover:bg-white/10 text-slate-400 px-3 py-1 rounded-full border border-white/5 cursor-pointer transition",children:["#",re]},re))})]}),f.jsxs("div",{className:"mt-12 bg-gradient-to-r from-[#1e293b] to-[#0f172a] rounded-3xl p-8 border border-white/5 flex flex-col sm:flex-row items-center gap-6 shadow-xl relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/10 rounded-full blur-2xl"}),f.jsxs("div",{className:"relative",children:[f.jsx("div",{className:"w-20 h-20 rounded-full bg-slate-800 p-1 border-2 border-blue-500",children:f.jsx("img",{src:"https://i.pravatar.cc/150?u=yakuza",alt:"Author",className:"w-full h-full rounded-full object-cover"})}),f.jsx("div",{className:"absolute -bottom-1 -right-1 bg-blue-600 text-[10px] font-bold px-2 py-0.5 rounded text-white border border-[#0f172a]",children:"PRO"})]}),f.jsxs("div",{className:"text-center sm:text-left flex-1 relative z-10",children:[f.jsx("h3",{className:"text-white font-bold text-xl",children:"Analysis by Yakuza Team"}),f.jsx("p",{className:"text-blue-400 text-xs font-bold uppercase tracking-widest mb-2",children:"Senior Sports Analysts"}),f.jsxs("p",{className:"text-slate-400 text-sm leading-relaxed",children:["Specialized in data-driven sports predictions.",f.jsx("span",{className:"text-white font-bold block mt-1",children:"ROI last month: +320% "})]})]})]}),f.jsxs("div",{className:"mt-12 bg-gradient-to-br from-slate-900 via-blue-900/20 to-slate-900 p-8 rounded-3xl border border-blue-500/20 text-center relative overflow-hidden group",children:[f.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500"}),f.jsx("span",{className:"text-4xl mb-4 block animate-bounce",children:""}),f.jsx("h4",{className:"text-white text-2xl font-black mb-2",children:"Get Daily Winning Tips"}),f.jsx("p",{className:"text-sm text-slate-400 mb-6 max-w-md mx-auto",children:"Join 15,000+ smart bettors. We send +EV picks directly to your inbox every morning."}),f.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 max-w-md mx-auto",children:[f.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 bg-black/50 border border-white/10 rounded-xl p-3 text-sm text-white focus:border-blue-500 outline-none transition"}),f.jsx("button",{className:"bg-blue-600 hover:bg-blue-500 text-white font-bold py-3 px-6 rounded-xl transition shadow-lg shadow-blue-600/30",children:"Subscribe Free"})]}),f.jsx("p",{className:"text-[10px] text-slate-600 mt-4",children:"No spam. Unsubscribe anytime."})]}),f.jsxs("div",{className:"mt-16",children:[f.jsxs("h3",{className:"text-2xl font-bold text-white mb-8 flex items-center gap-3",children:["Discussion ",f.jsxs("span",{className:"bg-white/10 px-2 py-0.5 rounded text-base text-slate-300",children:["(",B.length+sT.length,")"]})]}),f.jsx("div",{className:"bg-[#1e293b]/30 p-1 rounded-3xl border border-white/5 mb-10 shadow-lg",children:f.jsx("form",{onSubmit:D,className:"bg-[#0b1120] p-6 rounded-[20px]",children:f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsx("input",{type:"text",value:L,onChange:re=>k(re.target.value),placeholder:"Your Name",className:"bg-[#1e293b] border border-white/10 rounded-xl p-4 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition",required:!0}),f.jsx("textarea",{value:Z,onChange:re=>ve(re.target.value),placeholder:"Add your expert insight...",className:"bg-[#1e293b] border border-white/10 rounded-xl p-4 text-white placeholder-slate-500 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none h-32 resize-none transition",required:!0}),f.jsx("button",{type:"submit",disabled:P,className:"self-end bg-blue-600 hover:bg-blue-500 text-white px-8 py-3 rounded-xl font-bold transition shadow-lg shadow-blue-600/25 transform active:scale-95 flex items-center gap-2",children:P?"Posting...":"Post Comment"})]})})}),f.jsxs("div",{className:"space-y-6",children:[sT.map(re=>f.jsxs("div",{className:"bg-[#1e293b]/40 p-6 rounded-2xl border border-white/5 hover:border-white/10 transition group",children:[f.jsx("div",{className:"flex justify-between items-start mb-3",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-slate-700 to-slate-900 flex items-center justify-center text-sm font-bold text-white border border-white/10",children:re.user.charAt(0)}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"font-bold text-white",children:re.user}),re.isVerified&&f.jsx("svg",{className:"w-4 h-4 text-blue-500 fill-current",viewBox:"0 0 20 20",children:f.jsx("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"})})]}),f.jsx("span",{className:"text-xs text-slate-500",children:re.time})]})]})}),f.jsx("p",{className:"text-slate-300 leading-relaxed pl-13 text-sm",children:re.text})]},re.id)),B.map(re=>{var q;return f.jsxs("div",{className:"bg-[#1e293b]/20 p-6 rounded-2xl border border-white/5",children:[f.jsx("div",{className:"flex justify-between items-start mb-3",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center text-sm font-bold text-slate-400",children:re.user.charAt(0).toUpperCase()}),f.jsxs("div",{children:[f.jsx("span",{className:"font-bold text-slate-200 block",children:re.user}),f.jsx("span",{className:"text-xs text-slate-600",children:(q=re.createdAt)!=null&&q.seconds?new Date(re.createdAt.seconds*1e3).toLocaleDateString():"Just now"})]})]})}),f.jsx("p",{className:"text-slate-400 leading-relaxed text-sm",children:re.text})]},re.id)})]})]})]}),f.jsx("aside",{className:"lg:col-span-3 w-full",children:f.jsxs("div",{className:"sticky top-24 space-y-6",children:[f.jsxs("div",{className:"rounded-2xl p-6 text-center relative overflow-hidden shadow-2xl transition-transform hover:-translate-y-1 duration-300",style:{background:"linear-gradient(135deg, #2563eb 0%, #4f46e5 100%)"},children:[f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white opacity-10 rounded-full -translate-y-1/2 translate-x-1/2"}),f.jsx("div",{className:"absolute bottom-0 left-0 w-20 h-20 bg-white opacity-10 rounded-full translate-y-1/2 -translate-x-1/2"}),f.jsx("h3",{className:"text-white font-black text-2xl mb-2 relative z-10",children:"Bet Smarter"}),f.jsxs("p",{className:"text-blue-100 text-sm mb-6 leading-relaxed relative z-10",children:["Get AI-powered predictions with ",f.jsx("span",{className:"font-bold text-white",children:"85% accuracy"}),"."]}),f.jsx("button",{className:"bg-white text-blue-600 font-bold py-3 px-8 rounded-xl w-full shadow-lg hover:bg-blue-50 transition relative z-10",children:"Go Premium"})]}),f.jsxs("div",{className:"relative group overflow-hidden rounded-2xl border border-green-500/20 shadow-xl opacity-90 hover:opacity-100 transition",children:[f.jsx("div",{className:"absolute inset-0 bg-[#0f2d1e] z-0"}),f.jsxs("div",{className:"relative z-10 p-5 text-center",children:[f.jsx("div",{className:"text-green-500 font-black text-xl italic mb-1",children:"1XBET"}),f.jsx("p",{className:"text-[10px] text-slate-400 mb-3",children:"Bonus up to $500"}),f.jsx("div",{onClick:de,className:"cursor-pointer bg-black/40 border border-dashed border-green-500/40 rounded-lg p-2 mb-3 hover:border-green-400 group-hover:scale-105 transition",children:f.jsx("div",{className:"text-xl font-black text-white font-mono",children:"YAKUZA88"})}),f.jsx("a",{href:"https://1xbet.com",target:"_blank",rel:"noreferrer",className:"block w-full bg-green-600 hover:bg-green-500 text-white font-bold py-2 rounded-lg text-sm transition shadow-lg shadow-green-900/50",children:"Claim Bonus"})]})]}),f.jsxs("div",{className:"bg-[#131b2e] rounded-2xl p-6 border border-white/5",children:[f.jsx("h4",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest mb-6 border-b border-white/5 pb-2",children:"Trending Now"}),f.jsx("div",{className:"flex flex-col gap-5",children:r.map(re=>f.jsxs(xo,{to:`/blog/${re.id}`,className:"group flex gap-3 items-start",children:[f.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden flex-shrink-0 bg-slate-800 border border-white/10 relative",children:re.image&&f.jsx("img",{src:re.image,alt:"",className:"w-full h-full object-cover group-hover:opacity-80 transition"})}),f.jsxs("div",{children:[f.jsx("h5",{className:"font-bold text-white text-xs leading-snug group-hover:text-blue-400 transition line-clamp-2 mb-1",children:re.title}),f.jsx("span",{className:"text-[10px] text-slate-500 flex items-center gap-1",children:" Hot Topic"})]})]},re.id))})]}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"text",placeholder:"Search...",className:"w-full bg-[#131b2e] border border-white/10 rounded-xl py-3 pl-10 pr-4 text-sm text-white focus:border-blue-500 outline-none"}),f.jsx("svg",{className:"w-4 h-4 text-slate-500 absolute left-3 top-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]})})]})})]})};var SC=typeof window=="object"&&window&&window.Object===Object&&window,x9=typeof self=="object"&&self&&self.Object===Object&&self,Mi=SC||x9||Function("return this")(),Do=Mi.Symbol,NC=Object.prototype,_9=NC.hasOwnProperty,w9=NC.toString,Fu=Do?Do.toStringTag:void 0;function E9(n){var e=_9.call(n,Fu),t=n[Fu];try{n[Fu]=void 0;var r=!0}catch{}var i=w9.call(n);return r&&(e?n[Fu]=t:delete n[Fu]),i}var T9=Object.prototype,A9=T9.toString;function S9(n){return A9.call(n)}var N9="[object Null]",C9="[object Undefined]",aT=Do?Do.toStringTag:void 0;function eu(n){return n==null?n===void 0?C9:N9:aT&&aT in Object(n)?E9(n):S9(n)}function Sa(n){return n!=null&&typeof n=="object"}var vl=Array.isArray;function Uo(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function CC(n){return n}var R9="[object AsyncFunction]",I9="[object Function]",O9="[object GeneratorFunction]",j9="[object Proxy]";function Xb(n){if(!Uo(n))return!1;var e=eu(n);return e==I9||e==O9||e==R9||e==j9}var w0=Mi["__core-js_shared__"],oT=(function(){var n=/[^.]+$/.exec(w0&&w0.keys&&w0.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function k9(n){return!!oT&&oT in n}var D9=Function.prototype,M9=D9.toString;function Sl(n){if(n!=null){try{return M9.call(n)}catch{}try{return n+""}catch{}}return""}var L9=/[\\^$.*+?()[\]{}|]/g,P9=/^\[object .+?Constructor\]$/,V9=Function.prototype,U9=Object.prototype,q9=V9.toString,B9=U9.hasOwnProperty,z9=RegExp("^"+q9.call(B9).replace(L9,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function H9(n){if(!Uo(n)||k9(n))return!1;var e=Xb(n)?z9:P9;return e.test(Sl(n))}function F9(n,e){return n==null?void 0:n[e]}function Nl(n,e){var t=F9(n,e);return H9(t)?t:void 0}var yy=Nl(Mi,"WeakMap"),lT=Object.create,G9=(function(){function n(){}return function(e){if(!Uo(e))return{};if(lT)return lT(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}})();function K9(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function Y9(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var $9=800,Q9=16,W9=Date.now;function X9(n){var e=0,t=0;return function(){var r=W9(),i=Q9-(r-t);if(t=r,i>0){if(++e>=$9)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function Z9(n){return function(){return n}}var bp=(function(){try{var n=Nl(Object,"defineProperty");return n({},"",{}),n}catch{}})(),J9=bp?function(n,e){return bp(n,"toString",{configurable:!0,enumerable:!1,value:Z9(e),writable:!0})}:CC,e8=X9(J9);function t8(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var n8=9007199254740991,r8=/^(?:0|[1-9]\d*)$/;function RC(n,e){var t=typeof n;return e=e??n8,!!e&&(t=="number"||t!="symbol"&&r8.test(n))&&n>-1&&n%1==0&&n<e}function Zb(n,e,t){e=="__proto__"&&bp?bp(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function Qh(n,e){return n===e||n!==n&&e!==e}var s8=Object.prototype,i8=s8.hasOwnProperty;function IC(n,e,t){var r=n[e];(!(i8.call(n,e)&&Qh(r,t))||t===void 0&&!(e in n))&&Zb(n,e,t)}function a8(n,e,t,r){var i=!t;t||(t={});for(var o=-1,c=e.length;++o<c;){var h=e[o],d=void 0;d===void 0&&(d=n[h]),i?Zb(t,h,d):IC(t,h,d)}return t}var cT=Math.max;function o8(n,e,t){return e=cT(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,o=cT(r.length-e,0),c=Array(o);++i<o;)c[i]=r[e+i];i=-1;for(var h=Array(e+1);++i<e;)h[i]=r[i];return h[e]=t(c),K9(n,this,h)}}function l8(n,e){return e8(o8(n,e,CC),n+"")}var c8=9007199254740991;function OC(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=c8}function Kp(n){return n!=null&&OC(n.length)&&!Xb(n)}function u8(n,e,t){if(!Uo(t))return!1;var r=typeof e;return(r=="number"?Kp(t)&&RC(e,t.length):r=="string"&&e in t)?Qh(t[e],n):!1}function h8(n){return l8(function(e,t){var r=-1,i=t.length,o=i>1?t[i-1]:void 0,c=i>2?t[2]:void 0;for(o=n.length>3&&typeof o=="function"?(i--,o):void 0,c&&u8(t[0],t[1],c)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var h=t[r];h&&n(e,h,r,o)}return e})}var d8=Object.prototype;function Jb(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||d8;return n===t}function f8(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var p8="[object Arguments]";function uT(n){return Sa(n)&&eu(n)==p8}var jC=Object.prototype,m8=jC.hasOwnProperty,g8=jC.propertyIsEnumerable,by=uT((function(){return arguments})())?uT:function(n){return Sa(n)&&m8.call(n,"callee")&&!g8.call(n,"callee")};function y8(){return!1}var kC=typeof es=="object"&&es&&!es.nodeType&&es,hT=kC&&typeof ts=="object"&&ts&&!ts.nodeType&&ts,b8=hT&&hT.exports===kC,dT=b8?Mi.Buffer:void 0,v8=dT?dT.isBuffer:void 0,Ch=v8||y8,x8="[object Arguments]",_8="[object Array]",w8="[object Boolean]",E8="[object Date]",T8="[object Error]",A8="[object Function]",S8="[object Map]",N8="[object Number]",C8="[object Object]",R8="[object RegExp]",I8="[object Set]",O8="[object String]",j8="[object WeakMap]",k8="[object ArrayBuffer]",D8="[object DataView]",M8="[object Float32Array]",L8="[object Float64Array]",P8="[object Int8Array]",V8="[object Int16Array]",U8="[object Int32Array]",q8="[object Uint8Array]",B8="[object Uint8ClampedArray]",z8="[object Uint16Array]",H8="[object Uint32Array]",Ut={};Ut[M8]=Ut[L8]=Ut[P8]=Ut[V8]=Ut[U8]=Ut[q8]=Ut[B8]=Ut[z8]=Ut[H8]=!0;Ut[x8]=Ut[_8]=Ut[k8]=Ut[w8]=Ut[D8]=Ut[E8]=Ut[T8]=Ut[A8]=Ut[S8]=Ut[N8]=Ut[C8]=Ut[R8]=Ut[I8]=Ut[O8]=Ut[j8]=!1;function F8(n){return Sa(n)&&OC(n.length)&&!!Ut[eu(n)]}function ev(n){return function(e){return n(e)}}var DC=typeof es=="object"&&es&&!es.nodeType&&es,ch=DC&&typeof ts=="object"&&ts&&!ts.nodeType&&ts,G8=ch&&ch.exports===DC,E0=G8&&SC.process,Pc=(function(){try{var n=ch&&ch.require&&ch.require("util").types;return n||E0&&E0.binding&&E0.binding("util")}catch{}})(),fT=Pc&&Pc.isTypedArray,tv=fT?ev(fT):F8,K8=Object.prototype,Y8=K8.hasOwnProperty;function MC(n,e){var t=vl(n),r=!t&&by(n),i=!t&&!r&&Ch(n),o=!t&&!r&&!i&&tv(n),c=t||r||i||o,h=c?f8(n.length,String):[],d=h.length;for(var p in n)(e||Y8.call(n,p))&&!(c&&(p=="length"||i&&(p=="offset"||p=="parent")||o&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||RC(p,d)))&&h.push(p);return h}function LC(n,e){return function(t){return n(e(t))}}var $8=LC(Object.keys,Object),Q8=Object.prototype,W8=Q8.hasOwnProperty;function X8(n){if(!Jb(n))return $8(n);var e=[];for(var t in Object(n))W8.call(n,t)&&t!="constructor"&&e.push(t);return e}function Z8(n){return Kp(n)?MC(n):X8(n)}function J8(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var eP=Object.prototype,tP=eP.hasOwnProperty;function nP(n){if(!Uo(n))return J8(n);var e=Jb(n),t=[];for(var r in n)r=="constructor"&&(e||!tP.call(n,r))||t.push(r);return t}function PC(n){return Kp(n)?MC(n,!0):nP(n)}var Rh=Nl(Object,"create");function rP(){this.__data__=Rh?Rh(null):{},this.size=0}function sP(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var iP="__lodash_hash_undefined__",aP=Object.prototype,oP=aP.hasOwnProperty;function lP(n){var e=this.__data__;if(Rh){var t=e[n];return t===iP?void 0:t}return oP.call(e,n)?e[n]:void 0}var cP=Object.prototype,uP=cP.hasOwnProperty;function hP(n){var e=this.__data__;return Rh?e[n]!==void 0:uP.call(e,n)}var dP="__lodash_hash_undefined__";function fP(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Rh&&e===void 0?dP:e,this}function xl(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}xl.prototype.clear=rP;xl.prototype.delete=sP;xl.prototype.get=lP;xl.prototype.has=hP;xl.prototype.set=fP;function pP(){this.__data__=[],this.size=0}function Yp(n,e){for(var t=n.length;t--;)if(Qh(n[t][0],e))return t;return-1}var mP=Array.prototype,gP=mP.splice;function yP(n){var e=this.__data__,t=Yp(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():gP.call(e,t,1),--this.size,!0}function bP(n){var e=this.__data__,t=Yp(e,n);return t<0?void 0:e[t][1]}function vP(n){return Yp(this.__data__,n)>-1}function xP(n,e){var t=this.__data__,r=Yp(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function ja(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}ja.prototype.clear=pP;ja.prototype.delete=yP;ja.prototype.get=bP;ja.prototype.has=vP;ja.prototype.set=xP;var Ih=Nl(Mi,"Map");function _P(){this.size=0,this.__data__={hash:new xl,map:new(Ih||ja),string:new xl}}function wP(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function $p(n,e){var t=n.__data__;return wP(e)?t[typeof e=="string"?"string":"hash"]:t.map}function EP(n){var e=$p(this,n).delete(n);return this.size-=e?1:0,e}function TP(n){return $p(this,n).get(n)}function AP(n){return $p(this,n).has(n)}function SP(n,e){var t=$p(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function Cl(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Cl.prototype.clear=_P;Cl.prototype.delete=EP;Cl.prototype.get=TP;Cl.prototype.has=AP;Cl.prototype.set=SP;function NP(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var VC=LC(Object.getPrototypeOf,Object),CP="[object Object]",RP=Function.prototype,IP=Object.prototype,UC=RP.toString,OP=IP.hasOwnProperty,jP=UC.call(Object);function kP(n){if(!Sa(n)||eu(n)!=CP)return!1;var e=VC(n);if(e===null)return!0;var t=OP.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&UC.call(t)==jP}function DP(){this.__data__=new ja,this.size=0}function MP(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function LP(n){return this.__data__.get(n)}function PP(n){return this.__data__.has(n)}var VP=200;function UP(n,e){var t=this.__data__;if(t instanceof ja){var r=t.__data__;if(!Ih||r.length<VP-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new Cl(r)}return t.set(n,e),this.size=t.size,this}function Ri(n){var e=this.__data__=new ja(n);this.size=e.size}Ri.prototype.clear=DP;Ri.prototype.delete=MP;Ri.prototype.get=LP;Ri.prototype.has=PP;Ri.prototype.set=UP;var qC=typeof es=="object"&&es&&!es.nodeType&&es,pT=qC&&typeof ts=="object"&&ts&&!ts.nodeType&&ts,qP=pT&&pT.exports===qC,mT=qP?Mi.Buffer:void 0,gT=mT?mT.allocUnsafe:void 0;function BC(n,e){if(e)return n.slice();var t=n.length,r=gT?gT(t):new n.constructor(t);return n.copy(r),r}function BP(n,e){for(var t=-1,r=n==null?0:n.length,i=0,o=[];++t<r;){var c=n[t];e(c,t,n)&&(o[i++]=c)}return o}function zP(){return[]}var HP=Object.prototype,FP=HP.propertyIsEnumerable,yT=Object.getOwnPropertySymbols,GP=yT?function(n){return n==null?[]:(n=Object(n),BP(yT(n),function(e){return FP.call(n,e)}))}:zP;function KP(n,e,t){var r=e(n);return vl(n)?r:NP(r,t(n))}function vy(n){return KP(n,Z8,GP)}var xy=Nl(Mi,"DataView"),_y=Nl(Mi,"Promise"),wy=Nl(Mi,"Set"),bT="[object Map]",YP="[object Object]",vT="[object Promise]",xT="[object Set]",_T="[object WeakMap]",wT="[object DataView]",$P=Sl(xy),QP=Sl(Ih),WP=Sl(_y),XP=Sl(wy),ZP=Sl(yy),Ys=eu;(xy&&Ys(new xy(new ArrayBuffer(1)))!=wT||Ih&&Ys(new Ih)!=bT||_y&&Ys(_y.resolve())!=vT||wy&&Ys(new wy)!=xT||yy&&Ys(new yy)!=_T)&&(Ys=function(n){var e=eu(n),t=e==YP?n.constructor:void 0,r=t?Sl(t):"";if(r)switch(r){case $P:return wT;case QP:return bT;case WP:return vT;case XP:return xT;case ZP:return _T}return e});var JP=Object.prototype,eV=JP.hasOwnProperty;function tV(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&eV.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var vp=Mi.Uint8Array;function nv(n){var e=new n.constructor(n.byteLength);return new vp(e).set(new vp(n)),e}function nV(n,e){var t=nv(n.buffer);return new n.constructor(t,n.byteOffset,n.byteLength)}var rV=/\w*$/;function sV(n){var e=new n.constructor(n.source,rV.exec(n));return e.lastIndex=n.lastIndex,e}var ET=Do?Do.prototype:void 0,TT=ET?ET.valueOf:void 0;function iV(n){return TT?Object(TT.call(n)):{}}function zC(n,e){var t=e?nv(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var aV="[object Boolean]",oV="[object Date]",lV="[object Map]",cV="[object Number]",uV="[object RegExp]",hV="[object Set]",dV="[object String]",fV="[object Symbol]",pV="[object ArrayBuffer]",mV="[object DataView]",gV="[object Float32Array]",yV="[object Float64Array]",bV="[object Int8Array]",vV="[object Int16Array]",xV="[object Int32Array]",_V="[object Uint8Array]",wV="[object Uint8ClampedArray]",EV="[object Uint16Array]",TV="[object Uint32Array]";function AV(n,e,t){var r=n.constructor;switch(e){case pV:return nv(n);case aV:case oV:return new r(+n);case mV:return nV(n);case gV:case yV:case bV:case vV:case xV:case _V:case wV:case EV:case TV:return zC(n,t);case lV:return new r;case cV:case dV:return new r(n);case uV:return sV(n);case hV:return new r;case fV:return iV(n)}}function HC(n){return typeof n.constructor=="function"&&!Jb(n)?G9(VC(n)):{}}var SV="[object Map]";function NV(n){return Sa(n)&&Ys(n)==SV}var AT=Pc&&Pc.isMap,CV=AT?ev(AT):NV,RV="[object Set]";function IV(n){return Sa(n)&&Ys(n)==RV}var ST=Pc&&Pc.isSet,OV=ST?ev(ST):IV,jV=1,FC="[object Arguments]",kV="[object Array]",DV="[object Boolean]",MV="[object Date]",LV="[object Error]",GC="[object Function]",PV="[object GeneratorFunction]",VV="[object Map]",UV="[object Number]",KC="[object Object]",qV="[object RegExp]",BV="[object Set]",zV="[object String]",HV="[object Symbol]",FV="[object WeakMap]",GV="[object ArrayBuffer]",KV="[object DataView]",YV="[object Float32Array]",$V="[object Float64Array]",QV="[object Int8Array]",WV="[object Int16Array]",XV="[object Int32Array]",ZV="[object Uint8Array]",JV="[object Uint8ClampedArray]",e7="[object Uint16Array]",t7="[object Uint32Array]",jt={};jt[FC]=jt[kV]=jt[GV]=jt[KV]=jt[DV]=jt[MV]=jt[YV]=jt[$V]=jt[QV]=jt[WV]=jt[XV]=jt[VV]=jt[UV]=jt[KC]=jt[qV]=jt[BV]=jt[zV]=jt[HV]=jt[ZV]=jt[JV]=jt[e7]=jt[t7]=!0;jt[LV]=jt[GC]=jt[FV]=!1;function Kf(n,e,t,r,i,o){var c,h=e&jV;if(c!==void 0)return c;if(!Uo(n))return n;var d=vl(n);if(d)c=tV(n);else{var p=Ys(n),b=p==GC||p==PV;if(Ch(n))return BC(n,h);if(p==KC||p==FC||b&&!i)c=b?{}:HC(n);else{if(!jt[p])return i?n:{};c=AV(n,p,h)}}o||(o=new Ri);var v=o.get(n);if(v)return v;o.set(n,c),OV(n)?n.forEach(function(N){c.add(Kf(N,e,t,N,n,o))}):CV(n)&&n.forEach(function(N,I){c.set(I,Kf(N,e,t,I,n,o))});var x=vy,T=d?void 0:x(n);return t8(T||n,function(N,I){T&&(I=N,N=n[I]),IC(c,I,Kf(N,e,t,I,n,o))}),c}var n7=1,r7=4;function Nc(n){return Kf(n,n7|r7)}var s7="__lodash_hash_undefined__";function i7(n){return this.__data__.set(n,s7),this}function a7(n){return this.__data__.has(n)}function xp(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Cl;++e<t;)this.add(n[e])}xp.prototype.add=xp.prototype.push=i7;xp.prototype.has=a7;function o7(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function l7(n,e){return n.has(e)}var c7=1,u7=2;function YC(n,e,t,r,i,o){var c=t&c7,h=n.length,d=e.length;if(h!=d&&!(c&&d>h))return!1;var p=o.get(n),b=o.get(e);if(p&&b)return p==e&&b==n;var v=-1,x=!0,T=t&u7?new xp:void 0;for(o.set(n,e),o.set(e,n);++v<h;){var N=n[v],I=e[v];if(r)var C=c?r(I,N,v,e,n,o):r(N,I,v,n,e,o);if(C!==void 0){if(C)continue;x=!1;break}if(T){if(!o7(e,function(U,K){if(!l7(T,K)&&(N===U||i(N,U,t,r,o)))return T.push(K)})){x=!1;break}}else if(!(N===I||i(N,I,t,r,o))){x=!1;break}}return o.delete(n),o.delete(e),x}function h7(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function d7(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var f7=1,p7=2,m7="[object Boolean]",g7="[object Date]",y7="[object Error]",b7="[object Map]",v7="[object Number]",x7="[object RegExp]",_7="[object Set]",w7="[object String]",E7="[object Symbol]",T7="[object ArrayBuffer]",A7="[object DataView]",NT=Do?Do.prototype:void 0,T0=NT?NT.valueOf:void 0;function S7(n,e,t,r,i,o,c){switch(t){case A7:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case T7:return!(n.byteLength!=e.byteLength||!o(new vp(n),new vp(e)));case m7:case g7:case v7:return Qh(+n,+e);case y7:return n.name==e.name&&n.message==e.message;case x7:case w7:return n==e+"";case b7:var h=h7;case _7:var d=r&f7;if(h||(h=d7),n.size!=e.size&&!d)return!1;var p=c.get(n);if(p)return p==e;r|=p7,c.set(n,e);var b=YC(h(n),h(e),r,i,o,c);return c.delete(n),b;case E7:if(T0)return T0.call(n)==T0.call(e)}return!1}var N7=1,C7=Object.prototype,R7=C7.hasOwnProperty;function I7(n,e,t,r,i,o){var c=t&N7,h=vy(n),d=h.length,p=vy(e),b=p.length;if(d!=b&&!c)return!1;for(var v=d;v--;){var x=h[v];if(!(c?x in e:R7.call(e,x)))return!1}var T=o.get(n),N=o.get(e);if(T&&N)return T==e&&N==n;var I=!0;o.set(n,e),o.set(e,n);for(var C=c;++v<d;){x=h[v];var U=n[x],K=e[x];if(r)var B=c?r(K,U,x,e,n,o):r(U,K,x,n,e,o);if(!(B===void 0?U===K||i(U,K,t,r,o):B)){I=!1;break}C||(C=x=="constructor")}if(I&&!C){var $=n.constructor,Z=e.constructor;$!=Z&&"constructor"in n&&"constructor"in e&&!(typeof $=="function"&&$ instanceof $&&typeof Z=="function"&&Z instanceof Z)&&(I=!1)}return o.delete(n),o.delete(e),I}var O7=1,CT="[object Arguments]",RT="[object Array]",xf="[object Object]",j7=Object.prototype,IT=j7.hasOwnProperty;function k7(n,e,t,r,i,o){var c=vl(n),h=vl(e),d=c?RT:Ys(n),p=h?RT:Ys(e);d=d==CT?xf:d,p=p==CT?xf:p;var b=d==xf,v=p==xf,x=d==p;if(x&&Ch(n)){if(!Ch(e))return!1;c=!0,b=!1}if(x&&!b)return o||(o=new Ri),c||tv(n)?YC(n,e,t,r,i,o):S7(n,e,d,t,r,i,o);if(!(t&O7)){var T=b&&IT.call(n,"__wrapped__"),N=v&&IT.call(e,"__wrapped__");if(T||N){var I=T?n.value():n,C=N?e.value():e;return o||(o=new Ri),i(I,C,t,r,o)}}return x?(o||(o=new Ri),I7(n,e,t,r,i,o)):!1}function $C(n,e,t,r,i){return n===e?!0:n==null||e==null||!Sa(n)&&!Sa(e)?n!==n&&e!==e:k7(n,e,t,r,$C,i)}function D7(n){return function(e,t,r){for(var i=-1,o=Object(e),c=r(e),h=c.length;h--;){var d=c[++i];if(t(o[d],d,o)===!1)break}return e}}var M7=D7();function Ey(n,e,t){(t!==void 0&&!Qh(n[e],t)||t===void 0&&!(e in n))&&Zb(n,e,t)}function L7(n){return Sa(n)&&Kp(n)}function Ty(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function P7(n){return a8(n,PC(n))}function V7(n,e,t,r,i,o,c){var h=Ty(n,t),d=Ty(e,t),p=c.get(d);if(p){Ey(n,t,p);return}var b=o?o(h,d,t+"",n,e,c):void 0,v=b===void 0;if(v){var x=vl(d),T=!x&&Ch(d),N=!x&&!T&&tv(d);b=d,x||T||N?vl(h)?b=h:L7(h)?b=Y9(h):T?(v=!1,b=BC(d,!0)):N?(v=!1,b=zC(d,!0)):b=[]:kP(d)||by(d)?(b=h,by(h)?b=P7(h):(!Uo(h)||Xb(h))&&(b=HC(d))):v=!1}v&&(c.set(d,b),i(b,d,r,o,c),c.delete(d)),Ey(n,t,b)}function QC(n,e,t,r,i){n!==e&&M7(e,function(o,c){if(i||(i=new Ri),Uo(o))V7(n,e,c,t,QC,r,i);else{var h=r?r(Ty(n,c),o,c+"",n,e,i):void 0;h===void 0&&(h=o),Ey(n,c,h)}},PC)}function mo(n,e){return $C(n,e)}var No=h8(function(n,e,t){QC(n,e,t)}),De=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(De||{});class ji{constructor(e,t,r={}){this.attrName=e,this.keyName=t;const i=De.TYPE&De.ATTRIBUTE;this.scope=r.scope!=null?r.scope&De.LEVEL|i:De.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(e){return Array.from(e.attributes).map(t=>t.name)}add(e,t){return this.canAdd(e,t)?(e.setAttribute(this.keyName,t),!0):!1}canAdd(e,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class Cc extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const WC=class Ay{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let r=null;try{r=e.parentNode}catch{return null}return this.find(r,t)}return null}create(e,t,r){const i=this.query(t);if(i==null)throw new Cc(`Unable to create ${t} blot`);const o=i,c=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:o.create(r),h=new o(e,c,r);return Ay.blots.set(h.domNode,h),h}find(e,t=!1){return Ay.find(e,t)}query(e,t=De.ANY){let r;return typeof e=="string"?r=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?r=this.types.text:typeof e=="number"?e&De.LEVEL&De.BLOCK?r=this.types.block:e&De.LEVEL&De.INLINE&&(r=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(i=>(r=this.classes[i],!!r)),r=r||this.tags[e.tagName]),r==null?null:"scope"in r&&t&De.LEVEL&r.scope&&t&De.TYPE&r.scope?r:null}register(...e){return e.map(t=>{const r="blotName"in t,i="attrName"in t;if(!r&&!i)throw new Cc("Invalid definition");if(r&&t.blotName==="abstract")throw new Cc("Cannot register abstract class");const o=r?t.blotName:i?t.attrName:void 0;return this.types[o]=t,i?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):r&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(c=>c.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(c=>{(this.tags[c]==null||t.className==null)&&(this.tags[c]=t)}))),t})}};WC.blots=new WeakMap;let Vc=WC;function OT(n,e){return(n.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${e}-`)===0)}class U7 extends ji{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(e,t){return this.canAdd(e,t)?(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0):!1}remove(e){OT(e,this.keyName).forEach(t=>{e.classList.remove(t)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const t=(OT(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}}const ii=U7;function A0(n){const e=n.split("-"),t=e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return e[0]+t}class q7 extends ji{static keys(e){return(e.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(e,t){return this.canAdd(e,t)?(e.style[A0(this.keyName)]=t,!0):!1}remove(e){e.style[A0(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[A0(this.keyName)];return this.canAdd(e,t)?t:""}}const qo=q7;class B7{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=Vc.find(this.domNode);if(e==null)return;const t=ji.keys(this.domNode),r=ii.keys(this.domNode),i=qo.keys(this.domNode);t.concat(r).concat(i).forEach(o=>{const c=e.scroll.query(o,De.ATTRIBUTE);c instanceof ji&&(this.attributes[c.attrName]=c)})}copy(e){Object.keys(this.attributes).forEach(t=>{const r=this.attributes[t].value(this.domNode);e.format(t,r)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e),{})}}const Qp=B7,XC=class{constructor(e,t){this.scroll=e,this.domNode=t,Vc.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new Cc("Blot definition missing tagName");let t,r;return Array.isArray(this.tagName)?(typeof e=="string"?(r=e.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof e=="number"&&(r=e),typeof r=="number"?t=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?t=document.createElement(r):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),Vc.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,r,i){const o=this.isolate(e,t);if(this.scroll.query(r,De.BLOT)!=null&&i)o.wrap(r,i);else if(this.scroll.query(r,De.ATTRIBUTE)!=null){const c=this.scroll.create(this.statics.scope);o.wrap(c),c.format(r,i)}}insertAt(e,t,r){const i=r==null?this.scroll.create("text",t):this.scroll.create(t,r),o=this.split(e);this.parent.insertBefore(i,o||void 0)}isolate(e,t){const r=this.split(e);if(r==null)throw new Error("Attempt to isolate at end");return r.split(t),r}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(e,t){return e===0?this:this.next}update(e,t){}wrap(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new Cc(`Cannot wrap ${e}`);return r.appendChild(this),r}};XC.blotName="abstract";let ZC=XC;const JC=class extends ZC{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};JC.scope=De.INLINE_BLOT;let z7=JC;const ar=z7;class H7{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let r=t();for(;r&&e>0;)e-=1,r=t();return r}contains(e){const t=this.iterator();let r=t();for(;r;){if(r===e)return!0;r=t()}return!1}indexOf(e){const t=this.iterator();let r=t(),i=0;for(;r;){if(r===e)return i;i+=1,r=t()}return-1}insertBefore(e,t){e!=null&&(this.remove(e),e.next=t,t!=null?(e.prev=t.prev,t.prev!=null&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,r=this.head;for(;r!=null;){if(r===e)return t;t+=r.length(),r=r.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return e!=null&&(e=e.next),t}}find(e,t=!1){const r=this.iterator();let i=r();for(;i;){const o=i.length();if(e<o||t&&e===o&&(i.next==null||i.next.length()!==0))return[i,e];e-=o,i=r()}return[null,0]}forEach(e){const t=this.iterator();let r=t();for(;r;)e(r),r=t()}forEachAt(e,t,r){if(t<=0)return;const[i,o]=this.find(e);let c=e-o;const h=this.iterator(i);let d=h();for(;d&&c<e+t;){const p=d.length();e>c?r(d,e-c,Math.min(t,c+p-e)):r(d,0,Math.min(p,e+t-c)),c+=p,d=h()}}map(e){return this.reduce((t,r)=>(t.push(e(r)),t),[])}reduce(e,t){const r=this.iterator();let i=r();for(;i;)t=e(t,i),i=r();return t}}function jT(n,e){const t=e.find(n);if(t)return t;try{return e.create(n)}catch{const r=e.create(De.INLINE);return Array.from(n.childNodes).forEach(i=>{r.domNode.appendChild(i)}),n.parentNode&&n.parentNode.replaceChild(r.domNode,n),r.attach(),r}}const eR=class co extends ZC{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,co.uiClass&&this.uiNode.classList.add(co.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new H7,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const t=jT(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof Cc)return;throw t}})}deleteAt(e,t){if(e===0&&t===this.length())return this.remove();this.children.forEachAt(e,t,(r,i,o)=>{r.deleteAt(i,o)})}descendant(e,t=0){const[r,i]=this.children.find(t);return e.blotName==null&&e(r)||e.blotName!=null&&r instanceof e?[r,i]:r instanceof co?r.descendant(e,i):[null,-1]}descendants(e,t=0,r=Number.MAX_VALUE){let i=[],o=r;return this.children.forEachAt(t,r,(c,h,d)=>{(e.blotName==null&&e(c)||e.blotName!=null&&c instanceof e)&&i.push(c),c instanceof co&&(i=i.concat(c.descendants(e,h,o))),o-=d}),i}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(t=>{e||this.statics.allowedChildren.some(r=>t instanceof r)||(t.statics.scope===De.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),e=!0):t instanceof co?t.unwrap():t.remove())})}formatAt(e,t,r,i){this.children.forEachAt(e,t,(o,c,h)=>{o.formatAt(c,h,r,i)})}insertAt(e,t,r){const[i,o]=this.children.find(e);if(i)i.insertAt(o,t,r);else{const c=r==null?this.scroll.create("text",t):this.scroll.create(t,r);this.appendChild(c)}}insertBefore(e,t){e.parent!=null&&e.parent.children.remove(e);let r=null;this.children.insertBefore(e,t||null),e.parent=this,t!=null&&(r=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(e.domNode,r),e.attach()}length(){return this.children.reduce((e,t)=>e+t.length(),0)}moveChildren(e,t){this.children.forEach(r=>{e.insertBefore(r,t)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,t=!1){const[r,i]=this.children.find(e,t),o=[[this,e]];return r instanceof co?o.concat(r.path(i,t)):(r!=null&&o.push([r,i]),o)}removeChild(e){this.children.remove(e)}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return r instanceof co&&this.moveChildren(r),super.replaceWith(r)}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(e,this.length(),(i,o,c)=>{const h=i.split(o,t);h!=null&&r.appendChild(h)}),r}splitAfter(e){const t=this.clone();for(;e.next!=null;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const r=[],i=[];e.forEach(o=>{o.target===this.domNode&&o.type==="childList"&&(r.push(...o.addedNodes),i.push(...o.removedNodes))}),i.forEach(o=>{if(o.parentNode!=null&&o.tagName!=="IFRAME"&&document.body.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const c=this.scroll.find(o);c!=null&&(c.domNode.parentNode==null||c.domNode.parentNode===this.domNode)&&c.detach()}),r.filter(o=>o.parentNode===this.domNode&&o!==this.uiNode).sort((o,c)=>o===c?0:o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(o=>{let c=null;o.nextSibling!=null&&(c=this.scroll.find(o.nextSibling));const h=jT(o,this.scroll);(h.next!==c||h.next==null)&&(h.parent!=null&&h.parent.removeChild(this),this.insertBefore(h,c||void 0))}),this.enforceAllowedChildren()}};eR.uiClass="";let F7=eR;const ti=F7;function G7(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}const pc=class mc extends ti{static create(e){return super.create(e)}static formats(e,t){const r=t.query(mc.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Qp(this.domNode)}format(e,t){if(e===this.statics.blotName&&!t)this.children.forEach(r=>{r instanceof mc||(r=r.wrap(mc.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(e,De.INLINE);if(r==null)return;r instanceof ji?this.attributes.attribute(r,t):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t)}}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,i){this.formats()[r]!=null||this.scroll.query(r,De.ATTRIBUTE)?this.isolate(e,t).format(r,i):super.formatAt(e,t,r,i)}optimize(e){super.optimize(e);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const r=this.next;r instanceof mc&&r.prev===this&&G7(t,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(e,t){const r=super.wrap(e,t);return r instanceof mc&&this.attributes.move(r),r}};pc.allowedChildren=[pc,ar],pc.blotName="inline",pc.scope=De.INLINE_BLOT,pc.tagName="SPAN";let K7=pc;const rv=K7,gc=class Sy extends ti{static create(e){return super.create(e)}static formats(e,t){const r=t.query(Sy.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Qp(this.domNode)}format(e,t){const r=this.scroll.query(e,De.BLOCK);r!=null&&(r instanceof ji?this.attributes.attribute(r,t):e===this.statics.blotName&&!t?this.replaceWith(Sy.blotName):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,i){this.scroll.query(r,De.BLOCK)!=null?this.format(r,i):super.formatAt(e,t,r,i)}insertAt(e,t,r){if(r==null||this.scroll.query(t,De.INLINE)!=null)super.insertAt(e,t,r);else{const i=this.split(e);if(i!=null){const o=this.scroll.create(t,r);i.parent.insertBefore(o,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};gc.blotName="block",gc.scope=De.BLOCK_BLOT,gc.tagName="P",gc.allowedChildren=[rv,gc,ar];let Y7=gc;const Oh=Y7,Ny=class extends ti{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,r,i){super.formatAt(e,t,r,i),this.enforceAllowedChildren()}insertAt(e,t,r){super.insertAt(e,t,r),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};Ny.blotName="container",Ny.scope=De.BLOCK_BLOT;let $7=Ny;const Wp=$7;class Q7 extends ar{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,r,i){e===0&&t===this.length()?this.format(r,i):super.formatAt(e,t,r,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const rs=Q7,W7={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},X7=100,yc=class extends ti{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,W7),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const r=this.registry.find(e,t);return r?r.scroll===this?r:t?this.find(r.scroll.domNode.parentNode,!0):null:null}query(e,t=De.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),e===0&&t===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(e,t)}formatAt(e,t,r,i){this.update(),super.formatAt(e,t,r,i)}insertAt(e,t,r){this.update(),super.insertAt(e,t,r)}optimize(e=[],t={}){super.optimize(t);const r=t.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)e.push(i.pop());const o=(d,p=!0)=>{d==null||d===this||d.domNode.parentNode!=null&&(r.has(d.domNode)||r.set(d.domNode,[]),p&&o(d.parent))},c=d=>{r.has(d.domNode)&&(d instanceof ti&&d.children.forEach(c),r.delete(d.domNode),d.optimize(t))};let h=e;for(let d=0;h.length>0;d+=1){if(d>=X7)throw new Error("[Parchment] Maximum optimize iterations reached");for(h.forEach(p=>{const b=this.find(p.target,!0);b!=null&&(b.domNode===p.target&&(p.type==="childList"?(o(this.find(p.previousSibling,!1)),Array.from(p.addedNodes).forEach(v=>{const x=this.find(v,!1);o(x,!1),x instanceof ti&&x.children.forEach(T=>{o(T,!1)})})):p.type==="attributes"&&o(b.prev)),o(b))}),this.children.forEach(c),h=Array.from(this.observer.takeRecords()),i=h.slice();i.length>0;)e.push(i.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const r=new WeakMap;e.map(i=>{const o=this.find(i.target,!0);return o==null?null:r.has(o.domNode)?(r.get(o.domNode).push(i),null):(r.set(o.domNode,[i]),o)}).forEach(i=>{i!=null&&i!==this&&r.has(i.domNode)&&i.update(r.get(i.domNode)||[],t)}),t.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),t),this.optimize(e,t)}};yc.blotName="scroll",yc.defaultChild=Oh,yc.allowedChildren=[Oh,Wp],yc.scope=De.BLOCK_BLOT,yc.tagName="DIV";let Z7=yc;const sv=Z7,Cy=class tR extends ar{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,r){r==null?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,r)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof tR&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(e,t){e.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Cy.blotName="text",Cy.scope=De.INLINE_BLOT;let J7=Cy;const _p=J7,eU=Object.freeze(Object.defineProperty({__proto__:null,Attributor:ji,AttributorStore:Qp,BlockBlot:Oh,ClassAttributor:ii,ContainerBlot:Wp,EmbedBlot:rs,InlineBlot:rv,LeafBlot:ar,ParentBlot:ti,Registry:Vc,Scope:De,ScrollBlot:sv,StyleAttributor:qo,TextBlot:_p},Symbol.toStringTag,{value:"Module"}));var _f={exports:{}},S0,kT;function tU(){if(kT)return S0;kT=1;var n=-1,e=1,t=0;function r(A,D,R,le,de){if(A===D)return A?[[t,A]]:[];if(R!=null){var z=P(A,D,R);if(z)return z}var X=h(A,D),ce=A.substring(0,X);A=A.substring(X),D=D.substring(X),X=p(A,D);var xe=A.substring(A.length-X);A=A.substring(0,A.length-X),D=D.substring(0,D.length-X);var re=i(A,D);return ce&&re.unshift([t,ce]),xe&&re.push([t,xe]),K(re,de),le&&v(re),re}function i(A,D){var R;if(!A)return[[e,D]];if(!D)return[[n,A]];var le=A.length>D.length?A:D,de=A.length>D.length?D:A,z=le.indexOf(de);if(z!==-1)return R=[[e,le.substring(0,z)],[t,de],[e,le.substring(z+de.length)]],A.length>D.length&&(R[0][0]=R[2][0]=n),R;if(de.length===1)return[[n,A],[e,D]];var X=b(A,D);if(X){var ce=X[0],xe=X[1],re=X[2],q=X[3],W=X[4],oe=r(ce,re),he=r(xe,q);return oe.concat([[t,W]],he)}return o(A,D)}function o(A,D){for(var R=A.length,le=D.length,de=Math.ceil((R+le)/2),z=de,X=2*de,ce=new Array(X),xe=new Array(X),re=0;re<X;re++)ce[re]=-1,xe[re]=-1;ce[z+1]=0,xe[z+1]=0;for(var q=R-le,W=q%2!==0,oe=0,he=0,ye=0,Te=0,Se=0;Se<de;Se++){for(var Ne=-Se+oe;Ne<=Se-he;Ne+=2){var Me=z+Ne,Ye;Ne===-Se||Ne!==Se&&ce[Me-1]<ce[Me+1]?Ye=ce[Me+1]:Ye=ce[Me-1]+1;for(var We=Ye-Ne;Ye<R&&We<le&&A.charAt(Ye)===D.charAt(We);)Ye++,We++;if(ce[Me]=Ye,Ye>R)he+=2;else if(We>le)oe+=2;else if(W){var Xe=z+q-Ne;if(Xe>=0&&Xe<X&&xe[Xe]!==-1){var et=R-xe[Xe];if(Ye>=et)return c(A,D,Ye,We)}}}for(var dt=-Se+ye;dt<=Se-Te;dt+=2){var Xe=z+dt,et;dt===-Se||dt!==Se&&xe[Xe-1]<xe[Xe+1]?et=xe[Xe+1]:et=xe[Xe-1]+1;for(var _e=et-dt;et<R&&_e<le&&A.charAt(R-et-1)===D.charAt(le-_e-1);)et++,_e++;if(xe[Xe]=et,et>R)Te+=2;else if(_e>le)ye+=2;else if(!W){var Me=z+q-dt;if(Me>=0&&Me<X&&ce[Me]!==-1){var Ye=ce[Me],We=z+Ye-Me;if(et=R-et,Ye>=et)return c(A,D,Ye,We)}}}}return[[n,A],[e,D]]}function c(A,D,R,le){var de=A.substring(0,R),z=D.substring(0,le),X=A.substring(R),ce=D.substring(le),xe=r(de,z),re=r(X,ce);return xe.concat(re)}function h(A,D){if(!A||!D||A.charAt(0)!==D.charAt(0))return 0;for(var R=0,le=Math.min(A.length,D.length),de=le,z=0;R<de;)A.substring(z,de)==D.substring(z,de)?(R=de,z=R):le=de,de=Math.floor((le-R)/2+R);return B(A.charCodeAt(de-1))&&de--,de}function d(A,D){var R=A.length,le=D.length;if(R==0||le==0)return 0;R>le?A=A.substring(R-le):R<le&&(D=D.substring(0,R));var de=Math.min(R,le);if(A==D)return de;for(var z=0,X=1;;){var ce=A.substring(de-X),xe=D.indexOf(ce);if(xe==-1)return z;X+=xe,(xe==0||A.substring(de-X)==D.substring(0,X))&&(z=X,X++)}}function p(A,D){if(!A||!D||A.slice(-1)!==D.slice(-1))return 0;for(var R=0,le=Math.min(A.length,D.length),de=le,z=0;R<de;)A.substring(A.length-de,A.length-z)==D.substring(D.length-de,D.length-z)?(R=de,z=R):le=de,de=Math.floor((le-R)/2+R);return $(A.charCodeAt(A.length-de))&&de--,de}function b(A,D){var R=A.length>D.length?A:D,le=A.length>D.length?D:A;if(R.length<4||le.length*2<R.length)return null;function de(he,ye,Te){for(var Se=he.substring(Te,Te+Math.floor(he.length/4)),Ne=-1,Me="",Ye,We,Xe,et;(Ne=ye.indexOf(Se,Ne+1))!==-1;){var dt=h(he.substring(Te),ye.substring(Ne)),_e=p(he.substring(0,Te),ye.substring(0,Ne));Me.length<_e+dt&&(Me=ye.substring(Ne-_e,Ne)+ye.substring(Ne,Ne+dt),Ye=he.substring(0,Te-_e),We=he.substring(Te+dt),Xe=ye.substring(0,Ne-_e),et=ye.substring(Ne+dt))}return Me.length*2>=he.length?[Ye,We,Xe,et,Me]:null}var z=de(R,le,Math.ceil(R.length/4)),X=de(R,le,Math.ceil(R.length/2)),ce;if(!z&&!X)return null;X?z?ce=z[4].length>X[4].length?z:X:ce=X:ce=z;var xe,re,q,W;A.length>D.length?(xe=ce[0],re=ce[1],q=ce[2],W=ce[3]):(q=ce[0],W=ce[1],xe=ce[2],re=ce[3]);var oe=ce[4];return[xe,re,q,W,oe]}function v(A){for(var D=!1,R=[],le=0,de=null,z=0,X=0,ce=0,xe=0,re=0;z<A.length;)A[z][0]==t?(R[le++]=z,X=xe,ce=re,xe=0,re=0,de=A[z][1]):(A[z][0]==e?xe+=A[z][1].length:re+=A[z][1].length,de&&de.length<=Math.max(X,ce)&&de.length<=Math.max(xe,re)&&(A.splice(R[le-1],0,[n,de]),A[R[le-1]+1][0]=e,le--,le--,z=le>0?R[le-1]:-1,X=0,ce=0,xe=0,re=0,de=null,D=!0)),z++;for(D&&K(A),U(A),z=1;z<A.length;){if(A[z-1][0]==n&&A[z][0]==e){var q=A[z-1][1],W=A[z][1],oe=d(q,W),he=d(W,q);oe>=he?(oe>=q.length/2||oe>=W.length/2)&&(A.splice(z,0,[t,W.substring(0,oe)]),A[z-1][1]=q.substring(0,q.length-oe),A[z+1][1]=W.substring(oe),z++):(he>=q.length/2||he>=W.length/2)&&(A.splice(z,0,[t,q.substring(0,he)]),A[z-1][0]=e,A[z-1][1]=W.substring(0,W.length-he),A[z+1][0]=n,A[z+1][1]=q.substring(he),z++),z++}z++}}var x=/[^a-zA-Z0-9]/,T=/\s/,N=/[\r\n]/,I=/\n\r?\n$/,C=/^\r?\n\r?\n/;function U(A){function D(he,ye){if(!he||!ye)return 6;var Te=he.charAt(he.length-1),Se=ye.charAt(0),Ne=Te.match(x),Me=Se.match(x),Ye=Ne&&Te.match(T),We=Me&&Se.match(T),Xe=Ye&&Te.match(N),et=We&&Se.match(N),dt=Xe&&he.match(I),_e=et&&ye.match(C);return dt||_e?5:Xe||et?4:Ne&&!Ye&&We?3:Ye||We?2:Ne||Me?1:0}for(var R=1;R<A.length-1;){if(A[R-1][0]==t&&A[R+1][0]==t){var le=A[R-1][1],de=A[R][1],z=A[R+1][1],X=p(le,de);if(X){var ce=de.substring(de.length-X);le=le.substring(0,le.length-X),de=ce+de.substring(0,de.length-X),z=ce+z}for(var xe=le,re=de,q=z,W=D(le,de)+D(de,z);de.charAt(0)===z.charAt(0);){le+=de.charAt(0),de=de.substring(1)+z.charAt(0),z=z.substring(1);var oe=D(le,de)+D(de,z);oe>=W&&(W=oe,xe=le,re=de,q=z)}A[R-1][1]!=xe&&(xe?A[R-1][1]=xe:(A.splice(R-1,1),R--),A[R][1]=re,q?A[R+1][1]=q:(A.splice(R+1,1),R--))}R++}}function K(A,D){A.push([t,""]);for(var R=0,le=0,de=0,z="",X="",ce;R<A.length;){if(R<A.length-1&&!A[R][1]){A.splice(R,1);continue}switch(A[R][0]){case e:de++,X+=A[R][1],R++;break;case n:le++,z+=A[R][1],R++;break;case t:var xe=R-de-le-1;if(D){if(xe>=0&&ve(A[xe][1])){var re=A[xe][1].slice(-1);if(A[xe][1]=A[xe][1].slice(0,-1),z=re+z,X=re+X,!A[xe][1]){A.splice(xe,1),R--;var q=xe-1;A[q]&&A[q][0]===e&&(de++,X=A[q][1]+X,q--),A[q]&&A[q][0]===n&&(le++,z=A[q][1]+z,q--),xe=q}}if(Z(A[R][1])){var re=A[R][1].charAt(0);A[R][1]=A[R][1].slice(1),z+=re,X+=re}}if(R<A.length-1&&!A[R][1]){A.splice(R,1);break}if(z.length>0||X.length>0){z.length>0&&X.length>0&&(ce=h(X,z),ce!==0&&(xe>=0?A[xe][1]+=X.substring(0,ce):(A.splice(0,0,[t,X.substring(0,ce)]),R++),X=X.substring(ce),z=z.substring(ce)),ce=p(X,z),ce!==0&&(A[R][1]=X.substring(X.length-ce)+A[R][1],X=X.substring(0,X.length-ce),z=z.substring(0,z.length-ce)));var W=de+le;z.length===0&&X.length===0?(A.splice(R-W,W),R=R-W):z.length===0?(A.splice(R-W,W,[e,X]),R=R-W+1):X.length===0?(A.splice(R-W,W,[n,z]),R=R-W+1):(A.splice(R-W,W,[n,z],[e,X]),R=R-W+2)}R!==0&&A[R-1][0]===t?(A[R-1][1]+=A[R][1],A.splice(R,1)):R++,de=0,le=0,z="",X="";break}}A[A.length-1][1]===""&&A.pop();var oe=!1;for(R=1;R<A.length-1;)A[R-1][0]===t&&A[R+1][0]===t&&(A[R][1].substring(A[R][1].length-A[R-1][1].length)===A[R-1][1]?(A[R][1]=A[R-1][1]+A[R][1].substring(0,A[R][1].length-A[R-1][1].length),A[R+1][1]=A[R-1][1]+A[R+1][1],A.splice(R-1,1),oe=!0):A[R][1].substring(0,A[R+1][1].length)==A[R+1][1]&&(A[R-1][1]+=A[R+1][1],A[R][1]=A[R][1].substring(A[R+1][1].length)+A[R+1][1],A.splice(R+1,1),oe=!0)),R++;oe&&K(A,D)}function B(A){return A>=55296&&A<=56319}function $(A){return A>=56320&&A<=57343}function Z(A){return $(A.charCodeAt(0))}function ve(A){return B(A.charCodeAt(A.length-1))}function L(A){for(var D=[],R=0;R<A.length;R++)A[R][1].length>0&&D.push(A[R]);return D}function k(A,D,R,le){return ve(A)||Z(le)?null:L([[t,A],[n,D],[e,R],[t,le]])}function P(A,D,R){var le=typeof R=="number"?{index:R,length:0}:R.oldRange,de=typeof R=="number"?null:R.newRange,z=A.length,X=D.length;if(le.length===0&&(de===null||de.length===0)){var ce=le.index,xe=A.slice(0,ce),re=A.slice(ce),q=de?de.index:null;e:{var W=ce+X-z;if(q!==null&&q!==W||W<0||W>X)break e;var oe=D.slice(0,W),he=D.slice(W);if(he!==re)break e;var ye=Math.min(ce,W),Te=xe.slice(0,ye),Se=oe.slice(0,ye);if(Te!==Se)break e;var Ne=xe.slice(ye),Me=oe.slice(ye);return k(Te,Ne,Me,re)}e:{if(q!==null&&q!==ce)break e;var Ye=ce,oe=D.slice(0,Ye),he=D.slice(Ye);if(oe!==xe)break e;var We=Math.min(z-Ye,X-Ye),Xe=re.slice(re.length-We),et=he.slice(he.length-We);if(Xe!==et)break e;var Ne=re.slice(0,re.length-We),Me=he.slice(0,he.length-We);return k(xe,Ne,Me,Xe)}}if(le.length>0&&de&&de.length===0)e:{var Te=A.slice(0,le.index),Xe=A.slice(le.index+le.length),ye=Te.length,We=Xe.length;if(X<ye+We)break e;var Se=D.slice(0,ye),et=D.slice(X-We);if(Te!==Se||Xe!==et)break e;var Ne=A.slice(ye,z-We),Me=D.slice(ye,X-We);return k(Te,Ne,Me,Xe)}return null}function V(A,D,R,le){return r(A,D,R,le,!0)}return V.INSERT=e,V.DELETE=n,V.EQUAL=t,S0=V,S0}var Zu={exports:{}};Zu.exports;var DT;function nR(){return DT||(DT=1,(function(n,e){var t=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",c="[object Array]",h="[object Boolean]",d="[object Date]",p="[object Error]",b="[object Function]",v="[object GeneratorFunction]",x="[object Map]",T="[object Number]",N="[object Object]",I="[object Promise]",C="[object RegExp]",U="[object Set]",K="[object String]",B="[object Symbol]",$="[object WeakMap]",Z="[object ArrayBuffer]",ve="[object DataView]",L="[object Float32Array]",k="[object Float64Array]",P="[object Int8Array]",V="[object Int16Array]",A="[object Int32Array]",D="[object Uint8Array]",R="[object Uint8ClampedArray]",le="[object Uint16Array]",de="[object Uint32Array]",z=/[\\^$.*+?()[\]{}|]/g,X=/\w*$/,ce=/^\[object .+?Constructor\]$/,xe=/^(?:0|[1-9]\d*)$/,re={};re[o]=re[c]=re[Z]=re[ve]=re[h]=re[d]=re[L]=re[k]=re[P]=re[V]=re[A]=re[x]=re[T]=re[N]=re[C]=re[U]=re[K]=re[B]=re[D]=re[R]=re[le]=re[de]=!0,re[p]=re[b]=re[$]=!1;var q=typeof window=="object"&&window&&window.Object===Object&&window,W=typeof self=="object"&&self&&self.Object===Object&&self,oe=q||W||Function("return this")(),he=e&&!e.nodeType&&e,ye=he&&!0&&n&&!n.nodeType&&n,Te=ye&&ye.exports===he;function Se(w,j){return w.set(j[0],j[1]),w}function Ne(w,j){return w.add(j),w}function Me(w,j){for(var F=-1,se=w?w.length:0;++F<se&&j(w[F],F,w)!==!1;);return w}function Ye(w,j){for(var F=-1,se=j.length,Ve=w.length;++F<se;)w[Ve+F]=j[F];return w}function We(w,j,F,se){for(var Ve=-1,Re=w?w.length:0;++Ve<Re;)F=j(F,w[Ve],Ve,w);return F}function Xe(w,j){for(var F=-1,se=Array(w);++F<w;)se[F]=j(F);return se}function et(w,j){return w==null?void 0:w[j]}function dt(w){var j=!1;if(w!=null&&typeof w.toString!="function")try{j=!!(w+"")}catch{}return j}function _e(w){var j=-1,F=Array(w.size);return w.forEach(function(se,Ve){F[++j]=[Ve,se]}),F}function mt(w,j){return function(F){return w(j(F))}}function vr(w){var j=-1,F=Array(w.size);return w.forEach(function(se){F[++j]=se}),F}var Li=Array.prototype,qt=Function.prototype,Rt=Object.prototype,xr=oe["__core-js_shared__"],Da=(function(){var w=/[^.]+$/.exec(xr&&xr.keys&&xr.keys.IE_PROTO||"");return w?"Symbol(src)_1."+w:""})(),Pi=qt.toString,It=Rt.hasOwnProperty,_r=Rt.toString,Vi=RegExp("^"+Pi.call(It).replace(z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Lr=Te?oe.Buffer:void 0,ur=oe.Symbol,Ui=oe.Uint8Array,On=mt(Object.getPrototypeOf,Object),qi=Object.create,Bi=Rt.propertyIsEnumerable,hr=Li.splice,Wt=Object.getOwnPropertySymbols,_n=Lr?Lr.isBuffer:void 0,Ot=mt(Object.keys,Object),ks=dn(oe,"DataView"),wr=dn(oe,"Map"),$n=dn(oe,"Promise"),jn=dn(oe,"Set"),Pr=dn(oe,"WeakMap"),wt=dn(Object,"create"),Qn=sn(ks),An=sn(wr),kn=sn($n),zi=sn(jn),li=sn(Pr),wn=ur?ur.prototype:void 0,ss=wn?wn.valueOf:void 0;function Vr(w){var j=-1,F=w?w.length:0;for(this.clear();++j<F;){var se=w[j];this.set(se[0],se[1])}}function Ds(){this.__data__=wt?wt(null):{}}function Hi(w){return this.has(w)&&delete this.__data__[w]}function Fi(w){var j=this.__data__;if(wt){var F=j[w];return F===r?void 0:F}return It.call(j,w)?j[w]:void 0}function is(w){var j=this.__data__;return wt?j[w]!==void 0:It.call(j,w)}function dr(w,j){var F=this.__data__;return F[w]=wt&&j===void 0?r:j,this}Vr.prototype.clear=Ds,Vr.prototype.delete=Hi,Vr.prototype.get=Fi,Vr.prototype.has=is,Vr.prototype.set=dr;function Jt(w){var j=-1,F=w?w.length:0;for(this.clear();++j<F;){var se=w[j];this.set(se[0],se[1])}}function fr(){this.__data__=[]}function pr(w){var j=this.__data__,F=Mn(j,w);if(F<0)return!1;var se=j.length-1;return F==se?j.pop():hr.call(j,F,1),!0}function Bt(w){var j=this.__data__,F=Mn(j,w);return F<0?void 0:j[F][1]}function en(w){return Mn(this.__data__,w)>-1}function Er(w,j){var F=this.__data__,se=Mn(F,w);return se<0?F.push([w,j]):F[se][1]=j,this}Jt.prototype.clear=fr,Jt.prototype.delete=pr,Jt.prototype.get=Bt,Jt.prototype.has=en,Jt.prototype.set=Er;function Xt(w){var j=-1,F=w?w.length:0;for(this.clear();++j<F;){var se=w[j];this.set(se[0],se[1])}}function Bo(){this.__data__={hash:new Vr,map:new(wr||Jt),string:new Vr}}function Ma(w){return cs(this,w).delete(w)}function La(w){return cs(this,w).get(w)}function Tr(w){return cs(this,w).has(w)}function ci(w,j){return cs(this,w).set(w,j),this}Xt.prototype.clear=Bo,Xt.prototype.delete=Ma,Xt.prototype.get=La,Xt.prototype.has=Tr,Xt.prototype.set=ci;function Dt(w){this.__data__=new Jt(w)}function Wn(){this.__data__=new Jt}function Dn(w){return this.__data__.delete(w)}function Ar(w){return this.__data__.get(w)}function zt(w){return this.__data__.has(w)}function Gi(w,j){var F=this.__data__;if(F instanceof Jt){var se=F.__data__;if(!wr||se.length<t-1)return se.push([w,j]),this;F=this.__data__=new Xt(se)}return F.set(w,j),this}Dt.prototype.clear=Wn,Dt.prototype.delete=Dn,Dt.prototype.get=Ar,Dt.prototype.has=zt,Dt.prototype.set=Gi;function as(w,j){var F=Br(w)||Vn(w)?Xe(w.length,String):[],se=F.length,Ve=!!se;for(var Re in w)It.call(w,Re)&&!(Ve&&(Re=="length"||Va(Re,se)))&&F.push(Re);return F}function mr(w,j,F){var se=w[j];(!(It.call(w,j)&&qr(se,F))||F===void 0&&!(j in w))&&(w[j]=F)}function Mn(w,j){for(var F=w.length;F--;)if(qr(w[F][0],j))return F;return-1}function Xn(w,j){return w&&di(j,Ps(j),w)}function Ms(w,j,F,se,Ve,Re,$e){var Je;if(se&&(Je=Re?se(w,Ve,Re,$e):se(w)),Je!==void 0)return Je;if(!Ze(w))return w;var vt=Br(w);if(vt){if(Je=$i(w),!j)return hi(w,Je)}else{var tt=Cr(w),St=tt==b||tt==v;if(er(w))return Mt(w,j);if(tt==N||tt==o||St&&!Re){if(dt(w))return Re?w:{};if(Je=Zn(St?{}:w),!j)return Yi(w,Xn(Je,w))}else{if(!re[tt])return Re?w:{};Je=fi(w,tt,Ms,j)}}$e||($e=new Dt);var an=$e.get(w);if(an)return an;if($e.set(w,Je),!vt)var Lt=F?ls(w):Ps(w);return Me(Lt||w,function(Gt,tn){Lt&&(tn=Gt,Gt=w[tn]),mr(Je,tn,Ms(Gt,j,F,se,tn,w,$e))}),Je}function Ki(w){return Ze(w)?qi(w):{}}function Pa(w,j,F){var se=j(w);return Br(w)?se:Ye(se,F(w))}function ui(w){return _r.call(w)}function Ln(w){if(!Ze(w)||pi(w))return!1;var j=Nn(w)||dt(w)?Vi:ce;return j.test(sn(w))}function Ht(w){if(!Jn(w))return Ot(w);var j=[];for(var F in Object(w))It.call(w,F)&&F!="constructor"&&j.push(F);return j}function Mt(w,j){if(j)return w.slice();var F=new w.constructor(w.length);return w.copy(F),F}function Sr(w){var j=new w.constructor(w.byteLength);return new Ui(j).set(new Ui(w)),j}function Ur(w,j){var F=j?Sr(w.buffer):w.buffer;return new w.constructor(F,w.byteOffset,w.byteLength)}function ut(w,j,F){var se=j?F(_e(w),!0):_e(w);return We(se,Se,new w.constructor)}function os(w){var j=new w.constructor(w.source,X.exec(w));return j.lastIndex=w.lastIndex,j}function Nr(w,j,F){var se=j?F(vr(w),!0):vr(w);return We(se,Ne,new w.constructor)}function Ls(w){return ss?Object(ss.call(w)):{}}function Sn(w,j){var F=j?Sr(w.buffer):w.buffer;return new w.constructor(F,w.byteOffset,w.length)}function hi(w,j){var F=-1,se=w.length;for(j||(j=Array(se));++F<se;)j[F]=w[F];return j}function di(w,j,F,se){F||(F={});for(var Ve=-1,Re=j.length;++Ve<Re;){var $e=j[Ve],Je=void 0;mr(F,$e,Je===void 0?w[$e]:Je)}return F}function Yi(w,j){return di(w,Ft(w),j)}function ls(w){return Pa(w,Ps,Ft)}function cs(w,j){var F=w.__data__;return us(j)?F[typeof j=="string"?"string":"hash"]:F.map}function dn(w,j){var F=et(w,j);return Ln(F)?F:void 0}var Ft=Wt?mt(Wt,Object):Vs,Cr=ui;(ks&&Cr(new ks(new ArrayBuffer(1)))!=ve||wr&&Cr(new wr)!=x||$n&&Cr($n.resolve())!=I||jn&&Cr(new jn)!=U||Pr&&Cr(new Pr)!=$)&&(Cr=function(w){var j=_r.call(w),F=j==N?w.constructor:void 0,se=F?sn(F):void 0;if(se)switch(se){case Qn:return ve;case An:return x;case kn:return I;case zi:return U;case li:return $}return j});function $i(w){var j=w.length,F=w.constructor(j);return j&&typeof w[0]=="string"&&It.call(w,"index")&&(F.index=w.index,F.input=w.input),F}function Zn(w){return typeof w.constructor=="function"&&!Jn(w)?Ki(On(w)):{}}function fi(w,j,F,se){var Ve=w.constructor;switch(j){case Z:return Sr(w);case h:case d:return new Ve(+w);case ve:return Ur(w,se);case L:case k:case P:case V:case A:case D:case R:case le:case de:return Sn(w,se);case x:return ut(w,se,F);case T:case K:return new Ve(w);case C:return os(w);case U:return Nr(w,se,F);case B:return Ls(w)}}function Va(w,j){return j=j??i,!!j&&(typeof w=="number"||xe.test(w))&&w>-1&&w%1==0&&w<j}function us(w){var j=typeof w;return j=="string"||j=="number"||j=="symbol"||j=="boolean"?w!=="__proto__":w===null}function pi(w){return!!Da&&Da in w}function Jn(w){var j=w&&w.constructor,F=typeof j=="function"&&j.prototype||Rt;return w===F}function sn(w){if(w!=null){try{return Pi.call(w)}catch{}try{return w+""}catch{}}return""}function Pn(w){return Ms(w,!0,!0)}function qr(w,j){return w===j||w!==w&&j!==j}function Vn(w){return hs(w)&&It.call(w,"callee")&&(!Bi.call(w,"callee")||_r.call(w)==o)}var Br=Array.isArray;function zr(w){return w!=null&&ds(w.length)&&!Nn(w)}function hs(w){return gr(w)&&zr(w)}var er=_n||Qi;function Nn(w){var j=Ze(w)?_r.call(w):"";return j==b||j==v}function ds(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=i}function Ze(w){var j=typeof w;return!!w&&(j=="object"||j=="function")}function gr(w){return!!w&&typeof w=="object"}function Ps(w){return zr(w)?as(w):Ht(w)}function Vs(){return[]}function Qi(){return!1}n.exports=Pn})(Zu,Zu.exports)),Zu.exports}var Ju={exports:{}};Ju.exports;var MT;function rR(){return MT||(MT=1,(function(n,e){var t=200,r="__lodash_hash_undefined__",i=1,o=2,c=9007199254740991,h="[object Arguments]",d="[object Array]",p="[object AsyncFunction]",b="[object Boolean]",v="[object Date]",x="[object Error]",T="[object Function]",N="[object GeneratorFunction]",I="[object Map]",C="[object Number]",U="[object Null]",K="[object Object]",B="[object Promise]",$="[object Proxy]",Z="[object RegExp]",ve="[object Set]",L="[object String]",k="[object Symbol]",P="[object Undefined]",V="[object WeakMap]",A="[object ArrayBuffer]",D="[object DataView]",R="[object Float32Array]",le="[object Float64Array]",de="[object Int8Array]",z="[object Int16Array]",X="[object Int32Array]",ce="[object Uint8Array]",xe="[object Uint8ClampedArray]",re="[object Uint16Array]",q="[object Uint32Array]",W=/[\\^$.*+?()[\]{}|]/g,oe=/^\[object .+?Constructor\]$/,he=/^(?:0|[1-9]\d*)$/,ye={};ye[R]=ye[le]=ye[de]=ye[z]=ye[X]=ye[ce]=ye[xe]=ye[re]=ye[q]=!0,ye[h]=ye[d]=ye[A]=ye[b]=ye[D]=ye[v]=ye[x]=ye[T]=ye[I]=ye[C]=ye[K]=ye[Z]=ye[ve]=ye[L]=ye[V]=!1;var Te=typeof window=="object"&&window&&window.Object===Object&&window,Se=typeof self=="object"&&self&&self.Object===Object&&self,Ne=Te||Se||Function("return this")(),Me=e&&!e.nodeType&&e,Ye=Me&&!0&&n&&!n.nodeType&&n,We=Ye&&Ye.exports===Me,Xe=We&&Te.process,et=(function(){try{return Xe&&Xe.binding&&Xe.binding("util")}catch{}})(),dt=et&&et.isTypedArray;function _e(w,j){for(var F=-1,se=w==null?0:w.length,Ve=0,Re=[];++F<se;){var $e=w[F];j($e,F,w)&&(Re[Ve++]=$e)}return Re}function mt(w,j){for(var F=-1,se=j.length,Ve=w.length;++F<se;)w[Ve+F]=j[F];return w}function vr(w,j){for(var F=-1,se=w==null?0:w.length;++F<se;)if(j(w[F],F,w))return!0;return!1}function Li(w,j){for(var F=-1,se=Array(w);++F<w;)se[F]=j(F);return se}function qt(w){return function(j){return w(j)}}function Rt(w,j){return w.has(j)}function xr(w,j){return w==null?void 0:w[j]}function Da(w){var j=-1,F=Array(w.size);return w.forEach(function(se,Ve){F[++j]=[Ve,se]}),F}function Pi(w,j){return function(F){return w(j(F))}}function It(w){var j=-1,F=Array(w.size);return w.forEach(function(se){F[++j]=se}),F}var _r=Array.prototype,Vi=Function.prototype,Lr=Object.prototype,ur=Ne["__core-js_shared__"],Ui=Vi.toString,On=Lr.hasOwnProperty,qi=(function(){var w=/[^.]+$/.exec(ur&&ur.keys&&ur.keys.IE_PROTO||"");return w?"Symbol(src)_1."+w:""})(),Bi=Lr.toString,hr=RegExp("^"+Ui.call(On).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wt=We?Ne.Buffer:void 0,_n=Ne.Symbol,Ot=Ne.Uint8Array,ks=Lr.propertyIsEnumerable,wr=_r.splice,$n=_n?_n.toStringTag:void 0,jn=Object.getOwnPropertySymbols,Pr=Wt?Wt.isBuffer:void 0,wt=Pi(Object.keys,Object),Qn=Ft(Ne,"DataView"),An=Ft(Ne,"Map"),kn=Ft(Ne,"Promise"),zi=Ft(Ne,"Set"),li=Ft(Ne,"WeakMap"),wn=Ft(Object,"create"),ss=sn(Qn),Vr=sn(An),Ds=sn(kn),Hi=sn(zi),Fi=sn(li),is=_n?_n.prototype:void 0,dr=is?is.valueOf:void 0;function Jt(w){var j=-1,F=w==null?0:w.length;for(this.clear();++j<F;){var se=w[j];this.set(se[0],se[1])}}function fr(){this.__data__=wn?wn(null):{},this.size=0}function pr(w){var j=this.has(w)&&delete this.__data__[w];return this.size-=j?1:0,j}function Bt(w){var j=this.__data__;if(wn){var F=j[w];return F===r?void 0:F}return On.call(j,w)?j[w]:void 0}function en(w){var j=this.__data__;return wn?j[w]!==void 0:On.call(j,w)}function Er(w,j){var F=this.__data__;return this.size+=this.has(w)?0:1,F[w]=wn&&j===void 0?r:j,this}Jt.prototype.clear=fr,Jt.prototype.delete=pr,Jt.prototype.get=Bt,Jt.prototype.has=en,Jt.prototype.set=Er;function Xt(w){var j=-1,F=w==null?0:w.length;for(this.clear();++j<F;){var se=w[j];this.set(se[0],se[1])}}function Bo(){this.__data__=[],this.size=0}function Ma(w){var j=this.__data__,F=Mt(j,w);if(F<0)return!1;var se=j.length-1;return F==se?j.pop():wr.call(j,F,1),--this.size,!0}function La(w){var j=this.__data__,F=Mt(j,w);return F<0?void 0:j[F][1]}function Tr(w){return Mt(this.__data__,w)>-1}function ci(w,j){var F=this.__data__,se=Mt(F,w);return se<0?(++this.size,F.push([w,j])):F[se][1]=j,this}Xt.prototype.clear=Bo,Xt.prototype.delete=Ma,Xt.prototype.get=La,Xt.prototype.has=Tr,Xt.prototype.set=ci;function Dt(w){var j=-1,F=w==null?0:w.length;for(this.clear();++j<F;){var se=w[j];this.set(se[0],se[1])}}function Wn(){this.size=0,this.__data__={hash:new Jt,map:new(An||Xt),string:new Jt}}function Dn(w){var j=dn(this,w).delete(w);return this.size-=j?1:0,j}function Ar(w){return dn(this,w).get(w)}function zt(w){return dn(this,w).has(w)}function Gi(w,j){var F=dn(this,w),se=F.size;return F.set(w,j),this.size+=F.size==se?0:1,this}Dt.prototype.clear=Wn,Dt.prototype.delete=Dn,Dt.prototype.get=Ar,Dt.prototype.has=zt,Dt.prototype.set=Gi;function as(w){var j=-1,F=w==null?0:w.length;for(this.__data__=new Dt;++j<F;)this.add(w[j])}function mr(w){return this.__data__.set(w,r),this}function Mn(w){return this.__data__.has(w)}as.prototype.add=as.prototype.push=mr,as.prototype.has=Mn;function Xn(w){var j=this.__data__=new Xt(w);this.size=j.size}function Ms(){this.__data__=new Xt,this.size=0}function Ki(w){var j=this.__data__,F=j.delete(w);return this.size=j.size,F}function Pa(w){return this.__data__.get(w)}function ui(w){return this.__data__.has(w)}function Ln(w,j){var F=this.__data__;if(F instanceof Xt){var se=F.__data__;if(!An||se.length<t-1)return se.push([w,j]),this.size=++F.size,this;F=this.__data__=new Dt(se)}return F.set(w,j),this.size=F.size,this}Xn.prototype.clear=Ms,Xn.prototype.delete=Ki,Xn.prototype.get=Pa,Xn.prototype.has=ui,Xn.prototype.set=Ln;function Ht(w,j){var F=Vn(w),se=!F&&qr(w),Ve=!F&&!se&&zr(w),Re=!F&&!se&&!Ve&&gr(w),$e=F||se||Ve||Re,Je=$e?Li(w.length,String):[],vt=Je.length;for(var tt in w)On.call(w,tt)&&!($e&&(tt=="length"||Ve&&(tt=="offset"||tt=="parent")||Re&&(tt=="buffer"||tt=="byteLength"||tt=="byteOffset")||fi(tt,vt)))&&Je.push(tt);return Je}function Mt(w,j){for(var F=w.length;F--;)if(Pn(w[F][0],j))return F;return-1}function Sr(w,j,F){var se=j(w);return Vn(w)?se:mt(se,F(w))}function Ur(w){return w==null?w===void 0?P:U:$n&&$n in Object(w)?Cr(w):Jn(w)}function ut(w){return Ze(w)&&Ur(w)==h}function os(w,j,F,se,Ve){return w===j?!0:w==null||j==null||!Ze(w)&&!Ze(j)?w!==w&&j!==j:Nr(w,j,F,se,os,Ve)}function Nr(w,j,F,se,Ve,Re){var $e=Vn(w),Je=Vn(j),vt=$e?d:Zn(w),tt=Je?d:Zn(j);vt=vt==h?K:vt,tt=tt==h?K:tt;var St=vt==K,an=tt==K,Lt=vt==tt;if(Lt&&zr(w)){if(!zr(j))return!1;$e=!0,St=!1}if(Lt&&!St)return Re||(Re=new Xn),$e||gr(w)?di(w,j,F,se,Ve,Re):Yi(w,j,vt,F,se,Ve,Re);if(!(F&i)){var Gt=St&&On.call(w,"__wrapped__"),tn=an&&On.call(j,"__wrapped__");if(Gt||tn){var Hr=Gt?w.value():w,Un=tn?j.value():j;return Re||(Re=new Xn),Ve(Hr,Un,F,se,Re)}}return Lt?(Re||(Re=new Xn),ls(w,j,F,se,Ve,Re)):!1}function Ls(w){if(!ds(w)||us(w))return!1;var j=er(w)?hr:oe;return j.test(sn(w))}function Sn(w){return Ze(w)&&Nn(w.length)&&!!ye[Ur(w)]}function hi(w){if(!pi(w))return wt(w);var j=[];for(var F in Object(w))On.call(w,F)&&F!="constructor"&&j.push(F);return j}function di(w,j,F,se,Ve,Re){var $e=F&i,Je=w.length,vt=j.length;if(Je!=vt&&!($e&&vt>Je))return!1;var tt=Re.get(w);if(tt&&Re.get(j))return tt==j;var St=-1,an=!0,Lt=F&o?new as:void 0;for(Re.set(w,j),Re.set(j,w);++St<Je;){var Gt=w[St],tn=j[St];if(se)var Hr=$e?se(tn,Gt,St,j,w,Re):se(Gt,tn,St,w,j,Re);if(Hr!==void 0){if(Hr)continue;an=!1;break}if(Lt){if(!vr(j,function(Un,Fr){if(!Rt(Lt,Fr)&&(Gt===Un||Ve(Gt,Un,F,se,Re)))return Lt.push(Fr)})){an=!1;break}}else if(!(Gt===tn||Ve(Gt,tn,F,se,Re))){an=!1;break}}return Re.delete(w),Re.delete(j),an}function Yi(w,j,F,se,Ve,Re,$e){switch(F){case D:if(w.byteLength!=j.byteLength||w.byteOffset!=j.byteOffset)return!1;w=w.buffer,j=j.buffer;case A:return!(w.byteLength!=j.byteLength||!Re(new Ot(w),new Ot(j)));case b:case v:case C:return Pn(+w,+j);case x:return w.name==j.name&&w.message==j.message;case Z:case L:return w==j+"";case I:var Je=Da;case ve:var vt=se&i;if(Je||(Je=It),w.size!=j.size&&!vt)return!1;var tt=$e.get(w);if(tt)return tt==j;se|=o,$e.set(w,j);var St=di(Je(w),Je(j),se,Ve,Re,$e);return $e.delete(w),St;case k:if(dr)return dr.call(w)==dr.call(j)}return!1}function ls(w,j,F,se,Ve,Re){var $e=F&i,Je=cs(w),vt=Je.length,tt=cs(j),St=tt.length;if(vt!=St&&!$e)return!1;for(var an=vt;an--;){var Lt=Je[an];if(!($e?Lt in j:On.call(j,Lt)))return!1}var Gt=Re.get(w);if(Gt&&Re.get(j))return Gt==j;var tn=!0;Re.set(w,j),Re.set(j,w);for(var Hr=$e;++an<vt;){Lt=Je[an];var Un=w[Lt],Fr=j[Lt];if(se)var zo=$e?se(Fr,Un,Lt,j,w,Re):se(Un,Fr,Lt,w,j,Re);if(!(zo===void 0?Un===Fr||Ve(Un,Fr,F,se,Re):zo)){tn=!1;break}Hr||(Hr=Lt=="constructor")}if(tn&&!Hr){var Us=w.constructor,Wi=j.constructor;Us!=Wi&&"constructor"in w&&"constructor"in j&&!(typeof Us=="function"&&Us instanceof Us&&typeof Wi=="function"&&Wi instanceof Wi)&&(tn=!1)}return Re.delete(w),Re.delete(j),tn}function cs(w){return Sr(w,Ps,$i)}function dn(w,j){var F=w.__data__;return Va(j)?F[typeof j=="string"?"string":"hash"]:F.map}function Ft(w,j){var F=xr(w,j);return Ls(F)?F:void 0}function Cr(w){var j=On.call(w,$n),F=w[$n];try{w[$n]=void 0;var se=!0}catch{}var Ve=Bi.call(w);return se&&(j?w[$n]=F:delete w[$n]),Ve}var $i=jn?function(w){return w==null?[]:(w=Object(w),_e(jn(w),function(j){return ks.call(w,j)}))}:Vs,Zn=Ur;(Qn&&Zn(new Qn(new ArrayBuffer(1)))!=D||An&&Zn(new An)!=I||kn&&Zn(kn.resolve())!=B||zi&&Zn(new zi)!=ve||li&&Zn(new li)!=V)&&(Zn=function(w){var j=Ur(w),F=j==K?w.constructor:void 0,se=F?sn(F):"";if(se)switch(se){case ss:return D;case Vr:return I;case Ds:return B;case Hi:return ve;case Fi:return V}return j});function fi(w,j){return j=j??c,!!j&&(typeof w=="number"||he.test(w))&&w>-1&&w%1==0&&w<j}function Va(w){var j=typeof w;return j=="string"||j=="number"||j=="symbol"||j=="boolean"?w!=="__proto__":w===null}function us(w){return!!qi&&qi in w}function pi(w){var j=w&&w.constructor,F=typeof j=="function"&&j.prototype||Lr;return w===F}function Jn(w){return Bi.call(w)}function sn(w){if(w!=null){try{return Ui.call(w)}catch{}try{return w+""}catch{}}return""}function Pn(w,j){return w===j||w!==w&&j!==j}var qr=ut((function(){return arguments})())?ut:function(w){return Ze(w)&&On.call(w,"callee")&&!ks.call(w,"callee")},Vn=Array.isArray;function Br(w){return w!=null&&Nn(w.length)&&!er(w)}var zr=Pr||Qi;function hs(w,j){return os(w,j)}function er(w){if(!ds(w))return!1;var j=Ur(w);return j==T||j==N||j==p||j==$}function Nn(w){return typeof w=="number"&&w>-1&&w%1==0&&w<=c}function ds(w){var j=typeof w;return w!=null&&(j=="object"||j=="function")}function Ze(w){return w!=null&&typeof w=="object"}var gr=dt?qt(dt):Sn;function Ps(w){return Br(w)?Ht(w):hi(w)}function Vs(){return[]}function Qi(){return!1}n.exports=hs})(Ju,Ju.exports)),Ju.exports}var wf={},LT;function nU(){if(LT)return wf;LT=1,Object.defineProperty(wf,"__esModule",{value:!0});const n=nR(),e=rR();var t;return(function(r){function i(d={},p={},b=!1){typeof d!="object"&&(d={}),typeof p!="object"&&(p={});let v=n(p);b||(v=Object.keys(v).reduce((x,T)=>(v[T]!=null&&(x[T]=v[T]),x),{}));for(const x in d)d[x]!==void 0&&p[x]===void 0&&(v[x]=d[x]);return Object.keys(v).length>0?v:void 0}r.compose=i;function o(d={},p={}){typeof d!="object"&&(d={}),typeof p!="object"&&(p={});const b=Object.keys(d).concat(Object.keys(p)).reduce((v,x)=>(e(d[x],p[x])||(v[x]=p[x]===void 0?null:p[x]),v),{});return Object.keys(b).length>0?b:void 0}r.diff=o;function c(d={},p={}){d=d||{};const b=Object.keys(p).reduce((v,x)=>(p[x]!==d[x]&&d[x]!==void 0&&(v[x]=p[x]),v),{});return Object.keys(d).reduce((v,x)=>(d[x]!==p[x]&&p[x]===void 0&&(v[x]=null),v),b)}r.invert=c;function h(d,p,b=!1){if(typeof d!="object")return p;if(typeof p!="object")return;if(!b)return p;const v=Object.keys(p).reduce((x,T)=>(d[T]===void 0&&(x[T]=p[T]),x),{});return Object.keys(v).length>0?v:void 0}r.transform=h})(t||(t={})),wf.default=t,wf}var Ef={},PT;function sR(){if(PT)return Ef;PT=1,Object.defineProperty(Ef,"__esModule",{value:!0});var n;return(function(e){function t(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}e.length=t})(n||(n={})),Ef.default=n,Ef}var Tf={},VT;function rU(){if(VT)return Tf;VT=1,Object.defineProperty(Tf,"__esModule",{value:!0});const n=sR();class e{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const i=this.ops[this.index];if(i){const o=this.offset,c=n.default.length(i);if(r>=c-o?(r=c-o,this.index+=1,this.offset=0):this.offset+=r,typeof i.delete=="number")return{delete:r};{const h={};return i.attributes&&(h.attributes=i.attributes),typeof i.retain=="number"?h.retain=r:typeof i.retain=="object"&&i.retain!==null?h.retain=i.retain:typeof i.insert=="string"?h.insert=i.insert.substr(o,r):h.insert=i.insert,h}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?n.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,i=this.index,o=this.next(),c=this.ops.slice(this.index);return this.offset=r,this.index=i,[o].concat(c)}}else return[]}}return Tf.default=e,Tf}var UT;function sU(){return UT||(UT=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const t=tU(),r=nR(),i=rR(),o=nU();e.AttributeMap=o.default;const c=sR();e.Op=c.default;const h=rU();e.OpIterator=h.default;const d="\0",p=(v,x)=>{if(typeof v!="object"||v===null)throw new Error(`cannot retain a ${typeof v}`);if(typeof x!="object"||x===null)throw new Error(`cannot retain a ${typeof x}`);const T=Object.keys(v)[0];if(!T||T!==Object.keys(x)[0])throw new Error(`embed types not matched: ${T} != ${Object.keys(x)[0]}`);return[T,v[T],x[T]]};class b{constructor(x){Array.isArray(x)?this.ops=x:x!=null&&Array.isArray(x.ops)?this.ops=x.ops:this.ops=[]}static registerEmbed(x,T){this.handlers[x]=T}static unregisterEmbed(x){delete this.handlers[x]}static getHandler(x){const T=this.handlers[x];if(!T)throw new Error(`no handlers for embed type "${x}"`);return T}insert(x,T){const N={};return typeof x=="string"&&x.length===0?this:(N.insert=x,T!=null&&typeof T=="object"&&Object.keys(T).length>0&&(N.attributes=T),this.push(N))}delete(x){return x<=0?this:this.push({delete:x})}retain(x,T){if(typeof x=="number"&&x<=0)return this;const N={retain:x};return T!=null&&typeof T=="object"&&Object.keys(T).length>0&&(N.attributes=T),this.push(N)}push(x){let T=this.ops.length,N=this.ops[T-1];if(x=r(x),typeof N=="object"){if(typeof x.delete=="number"&&typeof N.delete=="number")return this.ops[T-1]={delete:N.delete+x.delete},this;if(typeof N.delete=="number"&&x.insert!=null&&(T-=1,N=this.ops[T-1],typeof N!="object"))return this.ops.unshift(x),this;if(i(x.attributes,N.attributes)){if(typeof x.insert=="string"&&typeof N.insert=="string")return this.ops[T-1]={insert:N.insert+x.insert},typeof x.attributes=="object"&&(this.ops[T-1].attributes=x.attributes),this;if(typeof x.retain=="number"&&typeof N.retain=="number")return this.ops[T-1]={retain:N.retain+x.retain},typeof x.attributes=="object"&&(this.ops[T-1].attributes=x.attributes),this}}return T===this.ops.length?this.ops.push(x):this.ops.splice(T,0,x),this}chop(){const x=this.ops[this.ops.length-1];return x&&typeof x.retain=="number"&&!x.attributes&&this.ops.pop(),this}filter(x){return this.ops.filter(x)}forEach(x){this.ops.forEach(x)}map(x){return this.ops.map(x)}partition(x){const T=[],N=[];return this.forEach(I=>{(x(I)?T:N).push(I)}),[T,N]}reduce(x,T){return this.ops.reduce(x,T)}changeLength(){return this.reduce((x,T)=>T.insert?x+c.default.length(T):T.delete?x-T.delete:x,0)}length(){return this.reduce((x,T)=>x+c.default.length(T),0)}slice(x=0,T=1/0){const N=[],I=new h.default(this.ops);let C=0;for(;C<T&&I.hasNext();){let U;C<x?U=I.next(x-C):(U=I.next(T-C),N.push(U)),C+=c.default.length(U)}return new b(N)}compose(x){const T=new h.default(this.ops),N=new h.default(x.ops),I=[],C=N.peek();if(C!=null&&typeof C.retain=="number"&&C.attributes==null){let K=C.retain;for(;T.peekType()==="insert"&&T.peekLength()<=K;)K-=T.peekLength(),I.push(T.next());C.retain-K>0&&N.next(C.retain-K)}const U=new b(I);for(;T.hasNext()||N.hasNext();)if(N.peekType()==="insert")U.push(N.next());else if(T.peekType()==="delete")U.push(T.next());else{const K=Math.min(T.peekLength(),N.peekLength()),B=T.next(K),$=N.next(K);if($.retain){const Z={};if(typeof B.retain=="number")Z.retain=typeof $.retain=="number"?K:$.retain;else if(typeof $.retain=="number")B.retain==null?Z.insert=B.insert:Z.retain=B.retain;else{const L=B.retain==null?"insert":"retain",[k,P,V]=p(B[L],$.retain),A=b.getHandler(k);Z[L]={[k]:A.compose(P,V,L==="retain")}}const ve=o.default.compose(B.attributes,$.attributes,typeof B.retain=="number");if(ve&&(Z.attributes=ve),U.push(Z),!N.hasNext()&&i(U.ops[U.ops.length-1],Z)){const L=new b(T.rest());return U.concat(L).chop()}}else typeof $.delete=="number"&&(typeof B.retain=="number"||typeof B.retain=="object"&&B.retain!==null)&&U.push($)}return U.chop()}concat(x){const T=new b(this.ops.slice());return x.ops.length>0&&(T.push(x.ops[0]),T.ops=T.ops.concat(x.ops.slice(1))),T}diff(x,T){if(this.ops===x.ops)return new b;const N=[this,x].map(B=>B.map($=>{if($.insert!=null)return typeof $.insert=="string"?$.insert:d;const Z=B===x?"on":"with";throw new Error("diff() called "+Z+" non-document")}).join("")),I=new b,C=t(N[0],N[1],T,!0),U=new h.default(this.ops),K=new h.default(x.ops);return C.forEach(B=>{let $=B[1].length;for(;$>0;){let Z=0;switch(B[0]){case t.INSERT:Z=Math.min(K.peekLength(),$),I.push(K.next(Z));break;case t.DELETE:Z=Math.min($,U.peekLength()),U.next(Z),I.delete(Z);break;case t.EQUAL:Z=Math.min(U.peekLength(),K.peekLength(),$);const ve=U.next(Z),L=K.next(Z);i(ve.insert,L.insert)?I.retain(Z,o.default.diff(ve.attributes,L.attributes)):I.push(L).delete(Z);break}$-=Z}}),I.chop()}eachLine(x,T=`
`){const N=new h.default(this.ops);let I=new b,C=0;for(;N.hasNext();){if(N.peekType()!=="insert")return;const U=N.peek(),K=c.default.length(U)-N.peekLength(),B=typeof U.insert=="string"?U.insert.indexOf(T,K)-K:-1;if(B<0)I.push(N.next());else if(B>0)I.push(N.next(B));else{if(x(I,N.next(1).attributes||{},C)===!1)return;C+=1,I=new b}}I.length()>0&&x(I,{},C)}invert(x){const T=new b;return this.reduce((N,I)=>{if(I.insert)T.delete(c.default.length(I));else{if(typeof I.retain=="number"&&I.attributes==null)return T.retain(I.retain),N+I.retain;if(I.delete||typeof I.retain=="number"){const C=I.delete||I.retain;return x.slice(N,N+C).forEach(K=>{I.delete?T.push(K):I.retain&&I.attributes&&T.retain(c.default.length(K),o.default.invert(I.attributes,K.attributes))}),N+C}else if(typeof I.retain=="object"&&I.retain!==null){const C=x.slice(N,N+1),U=new h.default(C.ops).next(),[K,B,$]=p(I.retain,U.insert),Z=b.getHandler(K);return T.retain({[K]:Z.invert(B,$)},o.default.invert(I.attributes,U.attributes)),N+1}}return N},0),T.chop()}transform(x,T=!1){if(T=!!T,typeof x=="number")return this.transformPosition(x,T);const N=x,I=new h.default(this.ops),C=new h.default(N.ops),U=new b;for(;I.hasNext()||C.hasNext();)if(I.peekType()==="insert"&&(T||C.peekType()!=="insert"))U.retain(c.default.length(I.next()));else if(C.peekType()==="insert")U.push(C.next());else{const K=Math.min(I.peekLength(),C.peekLength()),B=I.next(K),$=C.next(K);if(B.delete)continue;if($.delete)U.push($);else{const Z=B.retain,ve=$.retain;let L=typeof ve=="object"&&ve!==null?ve:K;if(typeof Z=="object"&&Z!==null&&typeof ve=="object"&&ve!==null){const k=Object.keys(Z)[0];if(k===Object.keys(ve)[0]){const P=b.getHandler(k);P&&(L={[k]:P.transform(Z[k],ve[k],T)})}}U.retain(L,o.default.transform(B.attributes,$.attributes,T))}}return U.chop()}transformPosition(x,T=!1){T=!!T;const N=new h.default(this.ops);let I=0;for(;N.hasNext()&&I<=x;){const C=N.peekLength(),U=N.peekType();if(N.next(),U==="delete"){x-=Math.min(C,x-I);continue}else U==="insert"&&(I<x||!T)&&(x+=C);I+=C}return x}}b.Op=c.default,b.OpIterator=h.default,b.AttributeMap=o.default,b.handlers={},e.default=b,n.exports=b,n.exports.default=b})(_f,_f.exports)),_f.exports}var Is=sU();const ke=Mo(Is);class ai extends rs{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}ai.blotName="break";ai.tagName="BR";let ri=class extends _p{};const iU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function Xp(n){return n.replace(/[&<>"']/g,e=>iU[e])}const wi=class wi extends rv{static compare(e,t){const r=wi.order.indexOf(e),i=wi.order.indexOf(t);return r>=0||i>=0?r-i:e===t?0:e<t?-1:1}formatAt(e,t,r,i){if(wi.compare(this.statics.blotName,r)<0&&this.scroll.query(r,De.BLOT)){const o=this.isolate(e,t);i&&o.wrap(r,i)}else super.formatAt(e,t,r,i)}optimize(e){if(super.optimize(e),this.parent instanceof wi&&wi.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}};Ee(wi,"allowedChildren",[wi,ai,rs,ri]),Ee(wi,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let ki=wi;const qT=1;class Kn extends Oh{constructor(){super(...arguments);Ee(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=iR(this)),this.cache.delta}deleteAt(t,r){super.deleteAt(t,r),this.cache={}}formatAt(t,r,i,o){r<=0||(this.scroll.query(i,De.BLOCK)?t+r===this.length()&&this.format(i,o):super.formatAt(t,Math.min(r,this.length()-t-1),i,o),this.cache={})}insertAt(t,r,i){if(i!=null){super.insertAt(t,r,i),this.cache={};return}if(r.length===0)return;const o=r.split(`
`),c=o.shift();c.length>0&&(t<this.length()-1||this.children.tail==null?super.insertAt(Math.min(t,this.length()-1),c):this.children.tail.insertAt(this.children.tail.length(),c),this.cache={});let h=this;o.reduce((d,p)=>(h=h.split(d,!0),h.insertAt(0,p),p.length),t+c.length)}insertBefore(t,r){const{head:i}=this.children;super.insertBefore(t,r),i instanceof ai&&i.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+qT),this.cache.length}moveChildren(t,r){super.moveChildren(t,r),this.cache={}}optimize(t){super.optimize(t),this.cache={}}path(t){return super.path(t,!0)}removeChild(t){super.removeChild(t),this.cache={}}split(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r&&(t===0||t>=this.length()-qT)){const o=this.clone();return t===0?(this.parent.insertBefore(o,this),this):(this.parent.insertBefore(o,this.next),o)}const i=super.split(t,r);return this.cache={},i}}Kn.blotName="block";Kn.tagName="P";Kn.defaultChild=ai;Kn.allowedChildren=[ai,ki,rs,ri];class Rs extends rs{attach(){super.attach(),this.attributes=new Qp(this.domNode)}delta(){return new ke().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const r=this.scroll.query(e,De.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,t)}formatAt(e,t,r,i){this.format(r,i)}insertAt(e,t,r){if(r!=null){super.insertAt(e,t,r);return}const i=t.split(`
`),o=i.pop(),c=i.map(d=>{const p=this.scroll.create(Kn.blotName);return p.insertAt(0,d),p}),h=this.split(e);c.forEach(d=>{this.parent.insertBefore(d,h)}),o&&this.parent.insertBefore(this.scroll.create("text",o),h)}}Rs.scope=De.BLOCK_BLOT;function iR(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(ar).reduce((t,r)=>r.length()===0?t:t.insert(r.value(),As(r,{},e)),new ke).insert(`
`,As(n))}function As(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(e={...e,...n.formats()},t&&delete e["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?e:As(n.parent,e,t)}const ws=class ws extends rs{static value(){}constructor(e,t,r){super(e,t),this.selection=r,this.textNode=document.createTextNode(ws.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,t){if(this.savedLength!==0){super.format(e,t);return}let r=this,i=0;for(;r!=null&&r.statics.scope!==De.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=ws.CONTENTS.length,r.optimize(),r.formatAt(i,ws.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof ri?this.prev:null,r=t?t.length():0,i=this.next instanceof ri?this.next:null,o=i?i.text:"",{textNode:c}=this,h=c.data.split(ws.CONTENTS).join("");c.data=ws.CONTENTS;let d;if(t)d=t,(h||i)&&(t.insertAt(t.length(),h+o),i&&i.remove());else if(i)d=i,i.insertAt(0,h);else{const p=document.createTextNode(h);d=this.scroll.create(p),this.parent.insertBefore(d,this)}if(this.remove(),e){const p=(x,T)=>t&&x===t.domNode?T:x===c?r+T-1:i&&x===i.domNode?r+h.length+T:null,b=p(e.start.node,e.start.offset),v=p(e.end.node,e.end.offset);if(b!==null&&v!==null)return{startNode:d.domNode,startOffset:b,endNode:d.domNode,endOffset:v}}return null}update(e,t){if(e.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(t.range=r)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=ws.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}};Ee(ws,"blotName","cursor"),Ee(ws,"className","ql-cursor"),Ee(ws,"tagName","span"),Ee(ws,"CONTENTS","\uFEFF");let Uc=ws;var N0={exports:{}},BT;function aU(){return BT||(BT=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(d,p,b){this.fn=d,this.context=p,this.once=b||!1}function o(d,p,b,v,x){if(typeof b!="function")throw new TypeError("The listener must be a function");var T=new i(b,v||d,x),N=t?t+p:p;return d._events[N]?d._events[N].fn?d._events[N]=[d._events[N],T]:d._events[N].push(T):(d._events[N]=T,d._eventsCount++),d}function c(d,p){--d._eventsCount===0?d._events=new r:delete d._events[p]}function h(){this._events=new r,this._eventsCount=0}h.prototype.eventNames=function(){var p=[],b,v;if(this._eventsCount===0)return p;for(v in b=this._events)e.call(b,v)&&p.push(t?v.slice(1):v);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(b)):p},h.prototype.listeners=function(p){var b=t?t+p:p,v=this._events[b];if(!v)return[];if(v.fn)return[v.fn];for(var x=0,T=v.length,N=new Array(T);x<T;x++)N[x]=v[x].fn;return N},h.prototype.listenerCount=function(p){var b=t?t+p:p,v=this._events[b];return v?v.fn?1:v.length:0},h.prototype.emit=function(p,b,v,x,T,N){var I=t?t+p:p;if(!this._events[I])return!1;var C=this._events[I],U=arguments.length,K,B;if(C.fn){switch(C.once&&this.removeListener(p,C.fn,void 0,!0),U){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,b),!0;case 3:return C.fn.call(C.context,b,v),!0;case 4:return C.fn.call(C.context,b,v,x),!0;case 5:return C.fn.call(C.context,b,v,x,T),!0;case 6:return C.fn.call(C.context,b,v,x,T,N),!0}for(B=1,K=new Array(U-1);B<U;B++)K[B-1]=arguments[B];C.fn.apply(C.context,K)}else{var $=C.length,Z;for(B=0;B<$;B++)switch(C[B].once&&this.removeListener(p,C[B].fn,void 0,!0),U){case 1:C[B].fn.call(C[B].context);break;case 2:C[B].fn.call(C[B].context,b);break;case 3:C[B].fn.call(C[B].context,b,v);break;case 4:C[B].fn.call(C[B].context,b,v,x);break;default:if(!K)for(Z=1,K=new Array(U-1);Z<U;Z++)K[Z-1]=arguments[Z];C[B].fn.apply(C[B].context,K)}}return!0},h.prototype.on=function(p,b,v){return o(this,p,b,v,!1)},h.prototype.once=function(p,b,v){return o(this,p,b,v,!0)},h.prototype.removeListener=function(p,b,v,x){var T=t?t+p:p;if(!this._events[T])return this;if(!b)return c(this,T),this;var N=this._events[T];if(N.fn)N.fn===b&&(!x||N.once)&&(!v||N.context===v)&&c(this,T);else{for(var I=0,C=[],U=N.length;I<U;I++)(N[I].fn!==b||x&&!N[I].once||v&&N[I].context!==v)&&C.push(N[I]);C.length?this._events[T]=C.length===1?C[0]:C:c(this,T)}return this},h.prototype.removeAllListeners=function(p){var b;return p?(b=t?t+p:p,this._events[b]&&c(this,b)):(this._events=new r,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=t,h.EventEmitter=h,n.exports=h})(N0)),N0.exports}var oU=aU();const lU=Mo(oU),Ry=new WeakMap,Iy=["error","warn","log","info"];let Oy="warn";function aR(n){if(Oy&&Iy.indexOf(n)<=Iy.indexOf(Oy)){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];console[n](...t)}}function ka(n){return Iy.reduce((e,t)=>(e[t]=aR.bind(console,t,n),e),{})}ka.level=n=>{Oy=n};aR.level=ka.level;const C0=ka("quill:events"),cU=["selectionchange","mousedown","mouseup","click"];cU.forEach(n=>{document.addEventListener(n,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const o=Ry.get(i);o&&o.emitter&&o.emitter.handleDOM(...t)})})});class Oe extends lU{constructor(){super(),this.domListeners={},this.on("error",C0.error)}emit(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return C0.log.call(C0,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];(this.domListeners[e.type]||[]).forEach(o=>{let{node:c,handler:h}=o;(e.target===c||c.contains(e.target))&&h(e,...r)})}listenDOM(e,t,r){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:r})}}Ee(Oe,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),Ee(Oe,"sources",{API:"api",SILENT:"silent",USER:"user"});const R0=ka("quill:selection");class _l{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=t}}class uU{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new _l(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Oe.sources.USER),1)}),this.emitter.on(Oe.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(Oe.events.SCROLL_UPDATE,(i,o)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const c=o.some(h=>h.type==="characterData"||h.type==="childList"||h.type==="attributes"&&h.target===this.root);this.update(c?Oe.sources.SILENT:i)}catch{}})}),this.emitter.on(Oe.events.SCROLL_OPTIMIZE,(r,i)=>{if(i.range){const{startNode:o,startOffset:c,endNode:h,endOffset:d}=i.range;this.setNativeRange(o,c,h,d),this.update(Oe.sources.SILENT)}}),this.update(Oe.sources.SILENT)}handleComposition(){this.emitter.on(Oe.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Oe.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Oe.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(e,De.BLOCK))){if(r.start.node!==this.cursor.textNode){const i=this.scroll.find(r.start.node,!1);if(i==null)return;if(i instanceof ar){const o=i.split(r.start.offset);i.parent.insertBefore(this.cursor,o)}else i.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;let i,[o,c]=this.scroll.leaf(e);if(o==null)return null;if(t>0&&c===o.length()){const[b]=this.scroll.leaf(e+1);if(b){const[v]=this.scroll.line(e),[x]=this.scroll.line(e+1);v===x&&(o=b,c=0)}}[i,c]=o.position(c,!0);const h=document.createRange();if(t>0)return h.setStart(i,c),[o,c]=this.scroll.leaf(e+t),o==null?null:([i,c]=o.position(c,!0),h.setEnd(i,c),h.getBoundingClientRect());let d="left",p;if(i instanceof Text){if(!i.data.length)return null;c<i.data.length?(h.setStart(i,c),h.setEnd(i,c+1)):(h.setStart(i,c-1),h.setEnd(i,c),d="right"),p=h.getBoundingClientRect()}else{if(!(o.domNode instanceof Element))return null;p=o.domNode.getBoundingClientRect(),c>0&&(d="right")}return{bottom:p.top+p.height,height:p.height,left:p[d],right:p[d],top:p.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(t==null)return null;const r=this.normalizeNative(t);return R0.info("getNativeRange",r),r}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&I0(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const r=t.map(c=>{const[h,d]=c,p=this.scroll.find(h,!0),b=p.offset(this.scroll);return d===0?b:p instanceof ar?b+p.index(h,d):b+p.length()}),i=Math.min(Math.max(...r),this.scroll.length()-1),o=Math.min(i,...r);return new _l(o,i-o)}normalizeNative(e){if(!I0(this.root,e.startContainer)||!e.collapsed&&!I0(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(r=>{let{node:i,offset:o}=r;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>o)i=i.childNodes[o],o=0;else if(i.childNodes.length===o)i=i.lastChild,i instanceof Text?o=i.data.length:i.childNodes.length>0?o=i.childNodes.length:o=i.childNodes.length+1;else break;r.node=i,r.offset=o}),t}rangeToNative(e){const t=this.scroll.length(),r=(i,o)=>{i=Math.min(t-1,i);const[c,h]=this.scroll.leaf(i);return c?c.position(h,o):[null,-1]};return[...r(e.index,!1),...r(e.index+e.length,!0)]}setNativeRange(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(R0.info("setNativeRange",e,t,r,i),e!=null&&(this.root.parentNode==null||e.parentNode==null||r.parentNode==null))return;const c=document.getSelection();if(c!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:h}=this.getNativeRange()||{};if(h==null||o||e!==h.startContainer||t!==h.startOffset||r!==h.endContainer||i!==h.endOffset){e instanceof Element&&e.tagName==="BR"&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),r instanceof Element&&r.tagName==="BR"&&(i=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const d=document.createRange();d.setStart(e,t),d.setEnd(r,i),c.removeAllRanges(),c.addRange(d)}}else c.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Oe.sources.API;if(typeof t=="string"&&(r=t,t=!1),R0.info("setRange",e),e!=null){const i=this.rangeToNative(e);this.setNativeRange(...i,t)}else this.setNativeRange(null);this.update(r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Oe.sources.USER;const t=this.lastRange,[r,i]=this.getRange();if(this.lastRange=r,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!mo(t,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const c=this.cursor.restore();c&&this.setNativeRange(c.startNode,c.startOffset,c.endNode,c.endOffset)}const o=[Oe.events.SELECTION_CHANGE,Nc(this.lastRange),Nc(t),e];this.emitter.emit(Oe.events.EDITOR_CHANGE,...o),e!==Oe.sources.SILENT&&this.emitter.emit(...o)}}}function I0(n,e){try{e.parentNode}catch{return!1}return n.contains(e)}const hU=/^[ -~]*$/;class dU{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const r=zT(e),i=new ke;return pU(r.ops.slice()).reduce((c,h)=>{const d=Is.Op.length(h);let p=h.attributes||{},b=!1,v=!1;if(h.insert!=null){if(i.retain(d),typeof h.insert=="string"){const N=h.insert;v=!N.endsWith(`
`)&&(t<=c||!!this.scroll.descendant(Rs,c)[0]),this.scroll.insertAt(c,N);const[I,C]=this.scroll.line(c);let U=No({},As(I));if(I instanceof Kn){const[K]=I.descendant(ar,C);K&&(U=No(U,As(K)))}p=Is.AttributeMap.diff(U,p)||{}}else if(typeof h.insert=="object"){const N=Object.keys(h.insert)[0];if(N==null)return c;const I=this.scroll.query(N,De.INLINE)!=null;if(I)(t<=c||this.scroll.descendant(Rs,c)[0])&&(v=!0);else if(c>0){const[C,U]=this.scroll.descendant(ar,c-1);C instanceof ri?C.value()[U]!==`
`&&(b=!0):C instanceof rs&&C.statics.scope===De.INLINE_BLOT&&(b=!0)}if(this.scroll.insertAt(c,N,h.insert[N]),I){const[C]=this.scroll.descendant(ar,c);if(C){const U=No({},As(C));p=Is.AttributeMap.diff(U,p)||{}}}}t+=d}else if(i.push(h),h.retain!==null&&typeof h.retain=="object"){const N=Object.keys(h.retain)[0];if(N==null)return c;this.scroll.updateEmbedAt(c,N,h.retain[N])}Object.keys(p).forEach(N=>{this.scroll.formatAt(c,d,N,p[N])});const x=b?1:0,T=v?1:0;return t+=x+T,i.retain(x),i.delete(T),c+d+x+T},0),i.reduce((c,h)=>typeof h.delete=="number"?(this.scroll.deleteAt(c,h.delete),c):c+Is.Op.length(h),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update(new ke().retain(e).delete(t))}formatLine(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(o=>{this.scroll.lines(e,Math.max(t,1)).forEach(c=>{c.format(o,r[o])})}),this.scroll.optimize();const i=new ke().retain(e).retain(t,Nc(r));return this.update(i)}formatText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(o=>{this.scroll.formatAt(e,t,o,r[o])});const i=new ke().retain(e).retain(t,Nc(r));return this.update(i)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce((e,t)=>e.concat(t.delta()),new ke)}getFormat(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],i=[];t===0?this.scroll.path(e).forEach(h=>{const[d]=h;d instanceof Kn?r.push(d):d instanceof ar&&i.push(d)}):(r=this.scroll.lines(e,t),i=this.scroll.descendants(ar,e,t));const[o,c]=[r,i].map(h=>{const d=h.shift();if(d==null)return{};let p=As(d);for(;Object.keys(p).length>0;){const b=h.shift();if(b==null)return p;p=fU(As(b),p)}return p});return{...o,...c}}getHTML(e,t){const[r,i]=this.scroll.line(e);if(r){const o=r.length();return r.length()>=i+t&&!(i===0&&t===o)?jh(r,i,t,!0):jh(this.scroll,e,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(e,t){const r=zT(t),i=new ke().retain(e).concat(r);return this.scroll.insertContents(e,r),this.update(i)}insertEmbed(e,t,r){return this.scroll.insertAt(e,t,r),this.update(new ke().retain(e).insert({[t]:r}))}insertText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,t),Object.keys(r).forEach(i=>{this.scroll.formatAt(e,t.length,i,r[i])}),this.update(new ke().retain(e).insert(t,Nc(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if((e==null?void 0:e.statics.blotName)!==Kn.blotName)return!1;const t=e;return t.children.length>1?!1:t.children.head instanceof ai}removeFormat(e,t){const r=this.getText(e,t),[i,o]=this.scroll.line(e+t);let c=0,h=new ke;i!=null&&(c=i.length()-o,h=i.delta().slice(o,o+c-1).insert(`
`));const p=this.getContents(e,t+c).diff(new ke().insert(r).concat(h)),b=new ke().retain(e).concat(p);return this.applyDelta(b)}update(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(hU)&&this.scroll.find(t[0].target)){const o=this.scroll.find(t[0].target),c=As(o),h=o.offset(this.scroll),d=t[0].oldValue.replace(Uc.CONTENTS,""),p=new ke().insert(d),b=new ke().insert(o.value()),v=r&&{oldRange:HT(r.oldRange,-h),newRange:HT(r.newRange,-h)};e=new ke().retain(h).concat(p.diff(b,v)).reduce((T,N)=>N.insert?T.insert(N.insert,c):T.push(N),new ke),this.delta=i.compose(e)}else this.delta=this.getDelta(),(!e||!mo(i.compose(e),this.delta))&&(e=i.diff(this.delta,r));return e}}function bc(n,e,t){if(n.length===0){const[T]=O0(t.pop());return e<=0?`</li></${T}>`:`</li></${T}>${bc([],e-1,t)}`}const[{child:r,offset:i,length:o,indent:c,type:h},...d]=n,[p,b]=O0(h);if(c>e)return t.push(h),c===e+1?`<${p}><li${b}>${jh(r,i,o)}${bc(d,c,t)}`:`<${p}><li>${bc(n,e+1,t)}`;const v=t[t.length-1];if(c===e&&h===v)return`</li><li${b}>${jh(r,i,o)}${bc(d,c,t)}`;const[x]=O0(t.pop());return`</li></${x}>${bc(n,e-1,t)}`}function jh(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(e,t);if(n instanceof ri)return Xp(n.value().slice(e,e+t)).replaceAll(" ","&nbsp;");if(n instanceof ti){if(n.statics.blotName==="list-container"){const p=[];return n.children.forEachAt(e,t,(b,v,x)=>{const T="formats"in b&&typeof b.formats=="function"?b.formats():{};p.push({child:b,offset:v,length:x,indent:T.indent||0,type:T.list})}),bc(p,-1,[])}const i=[];if(n.children.forEachAt(e,t,(p,b,v)=>{i.push(jh(p,b,v))}),r||n.statics.blotName==="list")return i.join("");const{outerHTML:o,innerHTML:c}=n.domNode,[h,d]=o.split(`>${c}<`);return h==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${d}`:`${h}>${i.join("")}<${d}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function fU(n,e){return Object.keys(e).reduce((t,r)=>{if(n[r]==null)return t;const i=e[r];return i===n[r]?t[r]=i:Array.isArray(i)?i.indexOf(n[r])<0?t[r]=i.concat([n[r]]):t[r]=i:t[r]=[i,n[r]],t},{})}function O0(n){const e=n==="ordered"?"ol":"ul";switch(n){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function zT(n){return n.reduce((e,t)=>{if(typeof t.insert=="string"){const r=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(r,t.attributes)}return e.push(t)},new ke)}function HT(n,e){let{index:t,length:r}=n;return new _l(t+e,r)}function pU(n){const e=[];return n.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((i,o)=>{o&&e.push({insert:`
`,attributes:t.attributes}),i&&e.push({insert:i,attributes:t.attributes})}):e.push(t)}),e}class oi{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=t}}Ee(oi,"DEFAULTS",{});const Af="\uFEFF";class iv extends rs{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(Af),this.rightGuard=document.createTextNode(Af),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t=null,r;const i=e.data.split(Af).join("");if(e===this.leftGuard)if(this.prev instanceof ri){const o=this.prev.length();this.prev.insertAt(o,i),t={startNode:this.prev.domNode,startOffset:o+i.length}}else r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this),t={startNode:r,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof ri?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this.next),t={startNode:r,startOffset:i.length}));return e.data=Af,t}update(e,t){e.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const i=this.restore(r.target);i&&(t.range=i)}})}}class mU{constructor(e,t){Ee(this,"isComposing",!1);this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;t&&!(t instanceof iv)&&(this.emitter.emit(Oe.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(Oe.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(Oe.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(Oe.events.COMPOSITION_END,e),this.isComposing=!1}}const hh=class hh{constructor(e,t){Ee(this,"modules",{});this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}};Ee(hh,"DEFAULTS",{modules:{}}),Ee(hh,"themes",{default:hh});let qc=hh;const gU=n=>n.parentElement||n.getRootNode().host||null,yU=n=>{const e=n.getBoundingClientRect(),t="offsetWidth"in n&&Math.abs(e.width)/n.offsetWidth||1,r="offsetHeight"in n&&Math.abs(e.height)/n.offsetHeight||1;return{top:e.top,right:e.left+n.clientWidth*t,bottom:e.top+n.clientHeight*r,left:e.left}},Sf=n=>{const e=parseInt(n,10);return Number.isNaN(e)?0:e},FT=(n,e,t,r,i,o)=>n<t&&e>r?0:n<t?-(t-n+i):e>r?e-n>r-t?n+i-t:e-r+o:0,bU=(n,e)=>{var o,c,h;const t=n.ownerDocument;let r=e,i=n;for(;i;){const d=i===t.body,p=d?{top:0,right:((o=window.visualViewport)==null?void 0:o.width)??t.documentElement.clientWidth,bottom:((c=window.visualViewport)==null?void 0:c.height)??t.documentElement.clientHeight,left:0}:yU(i),b=getComputedStyle(i),v=FT(r.left,r.right,p.left,p.right,Sf(b.scrollPaddingLeft),Sf(b.scrollPaddingRight)),x=FT(r.top,r.bottom,p.top,p.bottom,Sf(b.scrollPaddingTop),Sf(b.scrollPaddingBottom));if(v||x)if(d)(h=t.defaultView)==null||h.scrollBy(v,x);else{const{scrollLeft:T,scrollTop:N}=i;x&&(i.scrollTop+=x),v&&(i.scrollLeft+=v);const I=i.scrollLeft-T,C=i.scrollTop-N;r={left:r.left-I,top:r.top-C,right:r.right-I,bottom:r.bottom-C}}i=d||b.position==="fixed"?null:gU(i)}},vU=100,xU=["block","break","cursor","inline","scroll","text"],_U=(n,e,t)=>{const r=new Vc;return xU.forEach(i=>{const o=e.query(i);o&&r.register(o)}),n.forEach(i=>{let o=e.query(i);o||t.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let c=0;for(;o;)if(r.register(o),o="blotName"in o?o.requiredContainer??null:null,c+=1,c>vU){t.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),r},Rc=ka("quill"),Nf=new Vc;ti.uiClass="ql-ui";const Ks=class Ks{static debug(e){e===!0&&(e="log"),ka.level(e)}static find(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return Ry.get(e)||Nf.find(e,t)}static import(e){return this.imports[e]==null&&Rc.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in e?e.attrName:e.blotName;typeof r=="string"?this.register(`formats/${r}`,e,t):Object.keys(e).forEach(i=>{this.register(i,e[i],t)})}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!r&&Rc.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&Nf.register(t),typeof t.register=="function"&&t.register(Nf)}}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=wU(e,t),this.container=this.options.container,this.container==null){Rc.error("Invalid Quill container",e);return}this.options.debug&&Ks.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Ry.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Oe;const i=sv.blotName,o=this.options.registry.query(i);if(!o||!("blotName"in o))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new o(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new dU(this.scroll),this.selection=new uU(this.scroll,this.emitter),this.composition=new mU(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Oe.events.EDITOR_CHANGE,c=>{c===Oe.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Oe.events.SCROLL_UPDATE,(c,h)=>{const d=this.selection.lastRange,[p]=this.selection.getRange(),b=d&&p?{oldRange:d,newRange:p}:void 0;Gs.call(this,()=>this.editor.update(null,h,b),c)}),this.emitter.on(Oe.events.SCROLL_EMBED_UPDATE,(c,h)=>{const d=this.selection.lastRange,[p]=this.selection.getRange(),b=d&&p?{oldRange:d,newRange:p}:void 0;Gs.call(this,()=>{const v=new ke().retain(c.offset(this)).retain({[c.statics.blotName]:h});return this.editor.update(v,[],b)},Ks.sources.USER)}),r){const c=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(c)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const r=e;e=document.createElement("div"),e.classList.add(r)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,r){return[e,t,,r]=fa(e,t,r),Gs.call(this,()=>this.editor.deleteText(e,t),r,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Oe.sources.API;return Gs.call(this,()=>{const i=this.getSelection(!0);let o=new ke;if(i==null)return o;if(this.scroll.query(e,De.BLOCK))o=this.editor.formatLine(i.index,i.length,{[e]:t});else{if(i.length===0)return this.selection.format(e,t),o;o=this.editor.formatText(i.index,i.length,{[e]:t})}return this.setSelection(i,Oe.sources.SILENT),o},r)}formatLine(e,t,r,i,o){let c;return[e,t,c,o]=fa(e,t,r,i,o),Gs.call(this,()=>this.editor.formatLine(e,t,c),o,e,0)}formatText(e,t,r,i,o){let c;return[e,t,c,o]=fa(e,t,r,i,o),Gs.call(this,()=>this.editor.formatText(e,t,c),o,e,0)}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof e=="number"?r=this.selection.getBounds(e,t):r=this.selection.getBounds(e.index,e.length),!r)return null;const i=this.container.getBoundingClientRect();return{bottom:r.bottom-i.top,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,width:r.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,t]=fa(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=fa(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=fa(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ks.sources.API;return Gs.call(this,()=>this.editor.insertEmbed(e,t,r),i,e)}insertText(e,t,r,i,o){let c;return[e,,c,o]=fa(e,0,r,i,o),Gs.call(this,()=>this.editor.insertText(e,t,c),o,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,r){return[e,t,,r]=fa(e,t,r),Gs.call(this,()=>this.editor.removeFormat(e,t),r,e)}scrollRectIntoView(e){bU(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oe.sources.API;return Gs.call(this,()=>{e=new ke(e);const r=this.getLength(),i=this.editor.deleteText(0,r),o=this.editor.insertContents(0,e),c=this.editor.deleteText(this.getLength()-1,1);return i.compose(o).compose(c)},t)}setSelection(e,t,r){e==null?this.selection.setRange(null,t||Ks.sources.API):([e,t,,r]=fa(e,t,r),this.selection.setRange(new _l(Math.max(0,e),t),r),r!==Oe.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oe.sources.API;const r=new ke().insert(e);return this.setContents(r,t)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Oe.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oe.sources.API;return Gs.call(this,()=>(e=new ke(e),this.editor.applyDelta(e)),t,!0)}};Ee(Ks,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Nf,theme:"default"}),Ee(Ks,"events",Oe.events),Ee(Ks,"sources",Oe.sources),Ee(Ks,"version","2.0.3"),Ee(Ks,"imports",{delta:ke,parchment:eU,"core/module":oi,"core/theme":qc});let pe=Ks;function GT(n){return typeof n=="string"?document.querySelector(n):n}function j0(n){return Object.entries(n??{}).reduce((e,t)=>{let[r,i]=t;return{...e,[r]:i===!0?{}:i}},{})}function KT(n){return Object.fromEntries(Object.entries(n).filter(e=>e[1]!==void 0))}function wU(n,e){const t=GT(n);if(!t)throw new Error("Invalid Quill container");const i=!e.theme||e.theme===pe.DEFAULTS.theme?qc:pe.import(`themes/${e.theme}`);if(!i)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:o,...c}=pe.DEFAULTS,{modules:h,...d}=i.DEFAULTS;let p=j0(e.modules);p!=null&&p.toolbar&&p.toolbar.constructor!==Object&&(p={...p,toolbar:{container:p.toolbar}});const b=No({},j0(o),j0(h),p),v={...c,...KT(d),...KT(e)};let x=e.registry;return x?e.formats&&Rc.warn('Ignoring "formats" option because "registry" is specified'):x=e.formats?_U(e.formats,v.registry,Rc):v.registry,{...v,registry:x,container:t,theme:i,modules:Object.entries(b).reduce((T,N)=>{let[I,C]=N;if(!C)return T;const U=pe.import(`modules/${I}`);return U==null?(Rc.error(`Cannot load ${I} module. Are you sure you registered it?`),T):{...T,[I]:No({},U.DEFAULTS||{},C)}},{}),bounds:GT(v.bounds)}}function Gs(n,e,t,r){if(!this.isEnabled()&&e===Oe.sources.USER&&!this.allowReadOnlyEdits)return new ke;let i=t==null?null:this.getSelection();const o=this.editor.delta,c=n();if(i!=null&&(t===!0&&(t=i.index),r==null?i=YT(i,c,e):r!==0&&(i=YT(i,t,r,e)),this.setSelection(i,Oe.sources.SILENT)),c.length()>0){const h=[Oe.events.TEXT_CHANGE,c,o,e];this.emitter.emit(Oe.events.EDITOR_CHANGE,...h),e!==Oe.sources.SILENT&&this.emitter.emit(...h)}return c}function fa(n,e,t,r,i){let o={};return typeof n.index=="number"&&typeof n.length=="number"?typeof e!="number"?(i=r,r=t,t=e,e=n.length,n=n.index):(e=n.length,n=n.index):typeof e!="number"&&(i=r,r=t,t=e,e=0),typeof t=="object"?(o=t,i=r):typeof t=="string"&&(r!=null?o[t]=r:i=t),i=i||Oe.sources.API,[n,e,o,i]}function YT(n,e,t,r){const i=typeof t=="number"?t:0;if(n==null)return null;let o,c;return e&&typeof e.transformPosition=="function"?[o,c]=[n.index,n.index+n.length].map(h=>e.transformPosition(h,r!==Oe.sources.USER)):[o,c]=[n.index,n.index+n.length].map(h=>h<e||h===e&&r===Oe.sources.USER?h:i>=0?h+i:Math.max(e,h+i)),new _l(o,c-o)}class Rl extends Wp{}function $T(n){return n instanceof Kn||n instanceof Rs}function QT(n){return typeof n.updateContent=="function"}class vc extends sv{constructor(e,t,r){let{emitter:i}=r;super(e,t),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",o=>this.handleDragStart(o))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(Oe.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(Oe.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit(Oe.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[r,i]=this.line(e),[o]=this.line(e+t);if(super.deleteAt(e,t),o!=null&&r!==o&&i>0){if(r instanceof Rs||o instanceof Rs){this.optimize();return}const c=o.children.head instanceof ai?null:o.children.head;r.moveChildren(o,c),r.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,r,i){super.formatAt(e,t,r,i),this.optimize()}insertAt(e,t,r){if(e>=this.length())if(r==null||this.scroll.query(t,De.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),r==null&&t.endsWith(`
`)?i.insertAt(0,t.slice(0,-1),r):i.insertAt(0,t,r)}else{const i=this.scroll.create(t,r);this.appendChild(i)}else super.insertAt(e,t,r);this.optimize()}insertBefore(e,t){if(e.statics.scope===De.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(e),super.insertBefore(r,t)}else super.insertBefore(e,t)}insertContents(e,t){const r=this.deltaToRenderBlocks(t.concat(new ke().insert(`
`))),i=r.pop();if(i==null)return;this.batchStart();const o=r.shift();if(o){const d=o.type==="block"&&(o.delta.length()===0||!this.descendant(Rs,e)[0]&&e<this.length()),p=o.type==="block"?o.delta:new ke().insert({[o.key]:o.value});k0(this,e,p);const b=o.type==="block"?1:0,v=e+p.length()+b;d&&this.insertAt(v-1,`
`);const x=As(this.line(e)[0]),T=Is.AttributeMap.diff(x,o.attributes)||{};Object.keys(T).forEach(N=>{this.formatAt(v-1,1,N,T[N])}),e=v}let[c,h]=this.children.find(e);if(r.length&&(c&&(c=c.split(h),h=0),r.forEach(d=>{if(d.type==="block"){const p=this.createBlock(d.attributes,c||void 0);k0(p,0,d.delta)}else{const p=this.create(d.key,d.value);this.insertBefore(p,c||void 0),Object.keys(d.attributes).forEach(b=>{p.format(b,d.attributes[b])})}})),i.type==="block"&&i.delta.length()){const d=c?c.offset(c.scroll)+h:this.length();k0(this,d,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[r,i]=t;return r instanceof ar?[r,i]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant($T,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(i,o,c)=>{let h=[],d=c;return i.children.forEachAt(o,c,(p,b,v)=>{$T(p)?h.push(p):p instanceof Wp&&(h=h.concat(r(p,b,d))),d-=v}),h};return r(this,e,t)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit(Oe.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let t=Oe.sources.USER;typeof e=="string"&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(r=>{let{target:i}=r;const o=this.find(i,!0);return o&&!QT(o)}),e.length>0&&this.emitter.emit(Oe.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(Oe.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,r){const[i]=this.descendant(o=>o instanceof Rs,e);i&&i.statics.blotName===t&&QT(i)&&i.updateContent(r)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let r=new ke;return e.forEach(i=>{const o=i==null?void 0:i.insert;if(o)if(typeof o=="string"){const c=o.split(`
`);c.slice(0,-1).forEach(d=>{r.insert(d,i.attributes),t.push({type:"block",delta:r,attributes:i.attributes??{}}),r=new ke});const h=c[c.length-1];h&&r.insert(h,i.attributes)}else{const c=Object.keys(o)[0];if(!c)return;this.query(c,De.INLINE)?r.push(i):(r.length()&&t.push({type:"block",delta:r,attributes:{}}),r=new ke,t.push({type:"blockEmbed",key:c,value:o[c],attributes:i.attributes??{}}))}}),r.length()&&t.push({type:"block",delta:r,attributes:{}}),t}createBlock(e,t){let r;const i={};Object.entries(e).forEach(h=>{let[d,p]=h;this.query(d,De.BLOCK&De.BLOT)!=null?r=d:i[d]=p});const o=this.create(r||this.statics.defaultChild.blotName,r?e[r]:void 0);this.insertBefore(o,t||void 0);const c=o.length();return Object.entries(i).forEach(h=>{let[d,p]=h;o.formatAt(0,c,d,p)}),o}}Ee(vc,"blotName","scroll"),Ee(vc,"className","ql-editor"),Ee(vc,"tagName","DIV"),Ee(vc,"defaultChild",Kn),Ee(vc,"allowedChildren",[Kn,Rs,Rl]);function k0(n,e,t){t.reduce((r,i)=>{const o=Is.Op.length(i);let c=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const h=i.insert;n.insertAt(r,h);const[d]=n.descendant(ar,r),p=As(d);c=Is.AttributeMap.diff(p,c)||{}}else if(typeof i.insert=="object"){const h=Object.keys(i.insert)[0];if(h==null)return r;if(n.insertAt(r,h,i.insert[h]),n.scroll.query(h,De.INLINE)!=null){const[p]=n.descendant(ar,r),b=As(p);c=Is.AttributeMap.diff(b,c)||{}}}}return Object.keys(c).forEach(h=>{n.formatAt(r,o,h,c[h])}),r+o},e)}const av={scope:De.BLOCK,whitelist:["right","center","justify"]},EU=new ji("align","align",av),oR=new ii("align","ql-align",av),lR=new qo("align","text-align",av);class cR extends qo{value(e){let t=super.value(e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):t}}const TU=new ii("color","ql-color",{scope:De.INLINE}),ov=new cR("color","color",{scope:De.INLINE}),AU=new ii("background","ql-bg",{scope:De.INLINE}),lv=new cR("background","background-color",{scope:De.INLINE});class Il extends Rl{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(e,e+t)}html(e,t){return`<pre>
${Xp(this.code(e,t))}
</pre>`}}class or extends Kn{static register(){pe.register(Il)}}Ee(or,"TAB","  ");class cv extends ki{}cv.blotName="code";cv.tagName="CODE";or.blotName="code-block";or.className="ql-code-block";or.tagName="DIV";Il.blotName="code-block-container";Il.className="ql-code-block-container";Il.tagName="DIV";Il.allowedChildren=[or];or.allowedChildren=[ri,ai,Uc];or.requiredContainer=Il;const uv={scope:De.BLOCK,whitelist:["rtl"]},uR=new ji("direction","dir",uv),hR=new ii("direction","ql-direction",uv),dR=new qo("direction","direction",uv),fR={scope:De.INLINE,whitelist:["serif","monospace"]},pR=new ii("font","ql-font",fR);class SU extends qo{value(e){return super.value(e).replace(/["']/g,"")}}const mR=new SU("font","font-family",fR),gR=new ii("size","ql-size",{scope:De.INLINE,whitelist:["small","large","huge"]}),yR=new qo("size","font-size",{scope:De.INLINE,whitelist:["10px","18px","32px"]}),NU=ka("quill:keyboard"),CU=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Zp extends oi{static match(e,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!t[r]!==e[r]&&t[r]!==null)?!1:t.key===e.key||t.key===e.which}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=IU(e);if(i==null){NU.warn("Attempted to add invalid keyboard binding",i);return}typeof t=="function"&&(t={handler:t}),typeof r=="function"&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach(c=>{const h={...i,key:c,...t,...r};this.bindings[h.key]=this.bindings[h.key]||[],this.bindings[h.key].push(h)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const i=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(U=>Zp.match(e,U));if(i.length===0)return;const o=pe.find(e.target,!0);if(o&&o.scroll!==this.quill.scroll)return;const c=this.quill.getSelection();if(c==null||!this.quill.hasFocus())return;const[h,d]=this.quill.getLine(c.index),[p,b]=this.quill.getLeaf(c.index),[v,x]=c.length===0?[p,b]:this.quill.getLeaf(c.index+c.length),T=p instanceof _p?p.value().slice(0,b):"",N=v instanceof _p?v.value().slice(x):"",I={collapsed:c.length===0,empty:c.length===0&&h.length()<=1,format:this.quill.getFormat(c),line:h,offset:d,prefix:T,suffix:N,event:e};i.some(U=>{if(U.collapsed!=null&&U.collapsed!==I.collapsed||U.empty!=null&&U.empty!==I.empty||U.offset!=null&&U.offset!==I.offset)return!1;if(Array.isArray(U.format)){if(U.format.every(K=>I.format[K]==null))return!1}else if(typeof U.format=="object"&&!Object.keys(U.format).every(K=>U.format[K]===!0?I.format[K]!=null:U.format[K]===!1?I.format[K]==null:mo(U.format[K],I.format[K])))return!1;return U.prefix!=null&&!U.prefix.test(I.prefix)||U.suffix!=null&&!U.suffix.test(I.suffix)?!1:U.handler.call(this,c,I,U)!==!0})&&e.preventDefault()})}handleBackspace(e,t){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let i={};const[o]=this.quill.getLine(e.index);let c=new ke().retain(e.index-r).delete(r);if(t.offset===0){const[h]=this.quill.getLine(e.index-1);if(h&&!(h.statics.blotName==="block"&&h.length()<=1)){const p=o.formats(),b=this.quill.getFormat(e.index-1,1);if(i=Is.AttributeMap.diff(p,b)||{},Object.keys(i).length>0){const v=new ke().retain(e.index+o.length()-2).retain(1,i);c=c.compose(v)}}}this.quill.updateContents(c,pe.sources.USER),this.quill.focus()}handleDelete(e,t){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-r)return;let i={};const[o]=this.quill.getLine(e.index);let c=new ke().retain(e.index).delete(r);if(t.offset>=o.length()-1){const[h]=this.quill.getLine(e.index+1);if(h){const d=o.formats(),p=this.quill.getFormat(e.index,1);i=Is.AttributeMap.diff(d,p)||{},Object.keys(i).length>0&&(c=c.retain(h.length()-1).retain(1,i))}}this.quill.updateContents(c,pe.sources.USER),this.quill.focus()}handleDeleteRange(e){hv({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const r=Object.keys(t.format).reduce((o,c)=>(this.quill.scroll.query(c,De.BLOCK)&&!Array.isArray(t.format[c])&&(o[c]=t.format[c]),o),{}),i=new ke().retain(e.index).delete(e.length).insert(`
`,r);this.quill.updateContents(i,pe.sources.USER),this.quill.setSelection(e.index+1,pe.sources.SILENT),this.quill.focus()}}const RU={bindings:{bold:D0("bold"),italic:D0("italic"),underline:D0("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",pe.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",pe.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,e){e.format.indent!=null?this.quill.format("indent","-1",pe.sources.USER):e.format.list!=null&&this.quill.format("list",!1,pe.sources.USER)}},"indent code-block":WT(!0),"outdent code-block":WT(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,pe.sources.USER)}},tab:{key:"Tab",handler(n,e){if(e.format.table)return!0;this.quill.history.cutoff();const t=new ke().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(t,pe.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,pe.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,pe.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,e){const t={list:!1};e.format.indent&&(t.indent=!1),this.quill.formatLine(n.index,n.length,t,pe.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[e,t]=this.quill.getLine(n.index),r={...e.formats(),list:"checked"},i=new ke().retain(n.index).insert(`
`,r).retain(e.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,pe.sources.USER),this.quill.setSelection(n.index+1,pe.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,e){const[t,r]=this.quill.getLine(n.index),i=new ke().retain(n.index).insert(`
`,e.format).retain(t.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,pe.sources.USER),this.quill.setSelection(n.index+1,pe.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const e=this.quill.getModule("table");if(e){const[t,r,i,o]=e.getTable(n),c=OU(t,r,i,o);if(c==null)return;let h=t.offset();if(c<0){const d=new ke().retain(h).insert(`
`);this.quill.updateContents(d,pe.sources.USER),this.quill.setSelection(n.index+1,n.length,pe.sources.SILENT)}else if(c>0){h+=t.length();const d=new ke().retain(h).insert(`
`);this.quill.updateContents(d,pe.sources.USER),this.quill.setSelection(h,pe.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,e){const{event:t,line:r}=e,i=r.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(i-1,pe.sources.USER):this.quill.setSelection(i+r.length(),pe.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,e){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=e.prefix,[r,i]=this.quill.getLine(n.index);if(i>t)return!0;let o;switch(e.prefix.trim()){case"[]":case"[ ]":o="unchecked";break;case"[x]":o="checked";break;case"-":case"*":o="bullet";break;default:o="ordered"}this.quill.insertText(n.index," ",pe.sources.USER),this.quill.history.cutoff();const c=new ke().retain(n.index-i).delete(t+1).retain(r.length()-2-i).retain(1,{list:o});return this.quill.updateContents(c,pe.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-t,pe.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[e,t]=this.quill.getLine(n.index);let r=2,i=e;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,r-=1,r<=0){const o=new ke().retain(n.index+e.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(o,pe.sources.USER),this.quill.setSelection(n.index-1,pe.sources.SILENT),!1}return!0}},"embed left":Cf("ArrowLeft",!1),"embed left shift":Cf("ArrowLeft",!0),"embed right":Cf("ArrowRight",!1),"embed right shift":Cf("ArrowRight",!0),"table down":XT(!1),"table up":XT(!0)}};Zp.DEFAULTS=RU;function WT(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(e,t){let{event:r}=t;const i=this.quill.scroll.query("code-block"),{TAB:o}=i;if(e.length===0&&!r.shiftKey){this.quill.insertText(e.index,o,pe.sources.USER),this.quill.setSelection(e.index+o.length,pe.sources.SILENT);return}const c=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:h,length:d}=e;c.forEach((p,b)=>{n?(p.insertAt(0,o),b===0?h+=o.length:d+=o.length):p.domNode.textContent.startsWith(o)&&(p.deleteAt(0,o.length),b===0?h-=o.length:d-=o.length)}),this.quill.update(pe.sources.USER),this.quill.setSelection(h,d,pe.sources.SILENT)}}}function Cf(n,e){return{key:n,shiftKey:e,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:i}=r;n==="ArrowRight"&&(i+=r.length+1);const[o]=this.quill.getLeaf(i);return o instanceof rs?(n==="ArrowLeft"?e?this.quill.setSelection(r.index-1,r.length+1,pe.sources.USER):this.quill.setSelection(r.index-1,pe.sources.USER):e?this.quill.setSelection(r.index,r.length+1,pe.sources.USER):this.quill.setSelection(r.index+r.length+1,pe.sources.USER),!1):!0}}}function D0(n){return{key:n[0],shortKey:!0,handler(e,t){this.quill.format(n,!t.format[n],pe.sources.USER)}}}function XT(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,t){const r=n?"prev":"next",i=t.line,o=i.parent[r];if(o!=null){if(o.statics.blotName==="table-row"){let c=o.children.head,h=i;for(;h.prev!=null;)h=h.prev,c=c.next;const d=c.offset(this.quill.scroll)+Math.min(t.offset,c.length()-1);this.quill.setSelection(d,0,pe.sources.USER)}}else{const c=i.table()[r];c!=null&&(n?this.quill.setSelection(c.offset(this.quill.scroll)+c.length()-1,0,pe.sources.USER):this.quill.setSelection(c.offset(this.quill.scroll),0,pe.sources.USER))}return!1}}}function IU(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=Nc(n);else return null;return n.shortKey&&(n[CU]=n.shortKey,delete n.shortKey),n}function hv(n){let{quill:e,range:t}=n;const r=e.getLines(t);let i={};if(r.length>1){const o=r[0].formats(),c=r[r.length-1].formats();i=Is.AttributeMap.diff(c,o)||{}}e.deleteText(t,pe.sources.USER),Object.keys(i).length>0&&e.formatLine(t.index,1,i,pe.sources.USER),e.setSelection(t.index,pe.sources.SILENT)}function OU(n,e,t,r){return e.prev==null&&e.next==null?t.prev==null&&t.next==null?r===0?-1:1:t.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const jU=/font-weight:\s*normal/,kU=["P","OL","UL"],ZT=n=>n&&kU.includes(n.tagName),DU=n=>{Array.from(n.querySelectorAll("br")).filter(e=>ZT(e.previousElementSibling)&&ZT(e.nextElementSibling)).forEach(e=>{var t;(t=e.parentNode)==null||t.removeChild(e)})},MU=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(e=>{var t;return(t=e.getAttribute("style"))==null?void 0:t.match(jU)}).forEach(e=>{var r;const t=n.createDocumentFragment();t.append(...e.childNodes),(r=e.parentNode)==null||r.replaceChild(t,e)})};function LU(n){n.querySelector('[id^="docs-internal-guid-"]')&&(MU(n),DU(n))}const PU=/\bmso-list:[^;]*ignore/i,VU=/\bmso-list:[^;]*\bl(\d+)/i,UU=/\bmso-list:[^;]*\blevel(\d+)/i,qU=(n,e)=>{const t=n.getAttribute("style"),r=t==null?void 0:t.match(VU);if(!r)return null;const i=Number(r[1]),o=t==null?void 0:t.match(UU),c=o?Number(o[1]):1,h=new RegExp(`@list l${i}:level${c}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),d=e.match(h),p=d&&d[1]==="bullet"?"bullet":"ordered";return{id:i,indent:c,type:p,element:n}},BU=n=>{var c,h;const e=Array.from(n.querySelectorAll("[style*=mso-list]")),t=[],r=[];e.forEach(d=>{(d.getAttribute("style")||"").match(PU)?t.push(d):r.push(d)}),t.forEach(d=>{var p;return(p=d.parentNode)==null?void 0:p.removeChild(d)});const i=n.documentElement.innerHTML,o=r.map(d=>qU(d,i)).filter(d=>d);for(;o.length;){const d=[];let p=o.shift();for(;p;)d.push(p),p=o.length&&((c=o[0])==null?void 0:c.element)===p.element.nextElementSibling&&o[0].id===p.id?o.shift():null;const b=document.createElement("ul");d.forEach(T=>{const N=document.createElement("li");N.setAttribute("data-list",T.type),T.indent>1&&N.setAttribute("class",`ql-indent-${T.indent-1}`),N.innerHTML=T.element.innerHTML,b.appendChild(N)});const v=(h=d[0])==null?void 0:h.element,{parentNode:x}=v??{};v&&(x==null||x.replaceChild(b,v)),d.slice(1).forEach(T=>{let{element:N}=T;x==null||x.removeChild(N)})}};function zU(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&BU(n)}const HU=[zU,LU],FU=n=>{n.documentElement&&HU.forEach(e=>{e(n)})},GU=ka("quill:clipboard"),KU=[[Node.TEXT_NODE,sq],[Node.TEXT_NODE,eA],["br",XU],[Node.ELEMENT_NODE,eA],[Node.ELEMENT_NODE,WU],[Node.ELEMENT_NODE,QU],[Node.ELEMENT_NODE,nq],["li",eq],["ol, ul",tq],["pre",ZU],["tr",rq],["b",M0("bold")],["i",M0("italic")],["strike",M0("strike")],["style",JU]],YU=[EU,uR].reduce((n,e)=>(n[e.keyName]=e,n),{}),JT=[lR,lv,ov,dR,mR,yR].reduce((n,e)=>(n[e.keyName]=e,n),{});class bR extends oi{constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],KU.concat(this.options.matchers??[]).forEach(r=>{let[i,o]=r;this.addMatcher(i,o)})}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[or.blotName])return new ke().insert(r||"",{[or.blotName]:i[or.blotName]});if(!t)return new ke().insert(r||"",i);const o=this.convertHTML(t);return Wh(o,`
`)&&(o.ops[o.ops.length-1].attributes==null||i.table)?o.compose(new ke().retain(o.length()-1).delete(1)):o}normalizeHTML(e){FU(e)}convertHTML(e){const t=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(t);const r=t.body,i=new WeakMap,[o,c]=this.prepareMatching(r,i);return dv(this.quill.scroll,r,o,c,i)}dangerouslyPasteHTML(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:pe.sources.API;if(typeof e=="string"){const i=this.convert({html:e,text:""});this.quill.setContents(i,t),this.quill.setSelection(0,pe.sources.SILENT)}else{const i=this.convert({html:t,text:""});this.quill.updateContents(new ke().retain(e).concat(i),r),this.quill.setSelection(e+i.length(),pe.sources.SILENT)}}onCaptureCopy(e){var c,h;let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:i,text:o}=this.onCopy(r,t);(c=e.clipboardData)==null||c.setData("text/plain",o),(h=e.clipboardData)==null||h.setData("text/html",i),t&&hv({range:r,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(e){var c,h,d,p,b;if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const r=(c=e.clipboardData)==null?void 0:c.getData("text/html");let i=(h=e.clipboardData)==null?void 0:h.getData("text/plain");if(!r&&!i){const v=(d=e.clipboardData)==null?void 0:d.getData("text/uri-list");v&&(i=this.normalizeURIList(v))}const o=Array.from(((p=e.clipboardData)==null?void 0:p.files)||[]);if(!r&&o.length>0){this.quill.uploader.upload(t,o);return}if(r&&o.length>0){const v=new DOMParser().parseFromString(r,"text/html");if(v.body.childElementCount===1&&((b=v.body.firstElementChild)==null?void 0:b.tagName)==="IMG"){this.quill.uploader.upload(t,o);return}}this.onPaste(t,{html:r,text:i})}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:r,html:i}=t;const o=this.quill.getFormat(e.index),c=this.convert({text:r,html:i},o);GU.log("onPaste",c,{text:r,html:i});const h=new ke().retain(e.index).delete(e.length).concat(c);this.quill.updateContents(h,pe.sources.USER),this.quill.setSelection(h.length()-e.length,pe.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const r=[],i=[];return this.matchers.forEach(o=>{const[c,h]=o;switch(c){case Node.TEXT_NODE:i.push(h);break;case Node.ELEMENT_NODE:r.push(h);break;default:Array.from(e.querySelectorAll(c)).forEach(d=>{if(t.has(d)){const p=t.get(d);p==null||p.push(h)}else t.set(d,[h])});break}}),[r,i]}}Ee(bR,"DEFAULTS",{matchers:[]});function Ol(n,e,t,r){return r.query(e)?n.reduce((i,o)=>{if(!o.insert)return i;if(o.attributes&&o.attributes[e])return i.push(o);const c=t?{[e]:t}:{};return i.insert(o.insert,{...c,...o.attributes})},new ke):n}function Wh(n,e){let t="";for(let r=n.ops.length-1;r>=0&&t.length<e.length;--r){const i=n.ops[r];if(typeof i.insert!="string")break;t=i.insert+t}return t.slice(-1*e.length)===e}function bo(n,e){if(!(n instanceof Element))return!1;const t=e.query(n);return t&&t.prototype instanceof rs?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function $U(n,e){return n.previousElementSibling&&n.nextElementSibling&&!bo(n.previousElementSibling,e)&&!bo(n.nextElementSibling,e)}const Rf=new WeakMap;function vR(n){return n==null?!1:(Rf.has(n)||(n.tagName==="PRE"?Rf.set(n,!0):Rf.set(n,vR(n.parentNode))),Rf.get(n))}function dv(n,e,t,r,i){return e.nodeType===e.TEXT_NODE?r.reduce((o,c)=>c(e,o,n),new ke):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((o,c)=>{let h=dv(n,c,t,r,i);return c.nodeType===e.ELEMENT_NODE&&(h=t.reduce((d,p)=>p(c,d,n),h),h=(i.get(c)||[]).reduce((d,p)=>p(c,d,n),h)),o.concat(h)},new ke):new ke}function M0(n){return(e,t,r)=>Ol(t,n,!0,r)}function QU(n,e,t){const r=ji.keys(n),i=ii.keys(n),o=qo.keys(n),c={};return r.concat(i).concat(o).forEach(h=>{let d=t.query(h,De.ATTRIBUTE);d!=null&&(c[d.attrName]=d.value(n),c[d.attrName])||(d=YU[h],d!=null&&(d.attrName===h||d.keyName===h)&&(c[d.attrName]=d.value(n)||void 0),d=JT[h],d!=null&&(d.attrName===h||d.keyName===h)&&(d=JT[h],c[d.attrName]=d.value(n)||void 0))}),Object.entries(c).reduce((h,d)=>{let[p,b]=d;return Ol(h,p,b,t)},e)}function WU(n,e,t){const r=t.query(n);if(r==null)return e;if(r.prototype instanceof rs){const i={},o=r.value(n);if(o!=null)return i[r.blotName]=o,new ke().insert(i,r.formats(n,t))}else if(r.prototype instanceof Oh&&!Wh(e,`
`)&&e.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return Ol(e,r.blotName,r.formats(n,t),t);return e}function XU(n,e){return Wh(e,`
`)||e.insert(`
`),e}function ZU(n,e,t){const r=t.query("code-block"),i=r&&"formats"in r&&typeof r.formats=="function"?r.formats(n,t):!0;return Ol(e,"code-block",i,t)}function JU(){return new ke}function eq(n,e,t){const r=t.query(n);if(r==null||r.blotName!=="list"||!Wh(e,`
`))return e;let i=-1,o=n.parentNode;for(;o!=null;)["OL","UL"].includes(o.tagName)&&(i+=1),o=o.parentNode;return i<=0?e:e.reduce((c,h)=>h.insert?h.attributes&&typeof h.attributes.indent=="number"?c.push(h):c.insert(h.insert,{indent:i,...h.attributes||{}}):c,new ke)}function tq(n,e,t){const r=n;let i=r.tagName==="OL"?"ordered":"bullet";const o=r.getAttribute("data-checked");return o&&(i=o==="true"?"checked":"unchecked"),Ol(e,"list",i,t)}function eA(n,e,t){if(!Wh(e,`
`)){if(bo(n,t)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&n.nextSibling){let r=n.nextSibling;for(;r!=null;){if(bo(r,t))return e.insert(`
`);const i=t.query(r);if(i&&i.prototype instanceof Rs)return e.insert(`
`);r=r.firstChild}}}return e}function nq(n,e,t){var o;const r={},i=n.style||{};return i.fontStyle==="italic"&&(r.italic=!0),i.textDecoration==="underline"&&(r.underline=!0),i.textDecoration==="line-through"&&(r.strike=!0),((o=i.fontWeight)!=null&&o.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(r.bold=!0),e=Object.entries(r).reduce((c,h)=>{let[d,p]=h;return Ol(c,d,p,t)},e),parseFloat(i.textIndent||0)>0?new ke().insert("	").concat(e):e}function rq(n,e,t){var i,o;const r=((i=n.parentElement)==null?void 0:i.tagName)==="TABLE"?n.parentElement:(o=n.parentElement)==null?void 0:o.parentElement;if(r!=null){const h=Array.from(r.querySelectorAll("tr")).indexOf(n)+1;return Ol(e,"table",h,t)}return e}function sq(n,e,t){var i;let r=n.data;if(((i=n.parentElement)==null?void 0:i.tagName)==="O:P")return e.insert(r.trim());if(!vR(n)){if(r.trim().length===0&&r.includes(`
`)&&!$U(n,t))return e;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(n.previousSibling==null&&n.parentElement!=null&&bo(n.parentElement,t)||n.previousSibling instanceof Element&&bo(n.previousSibling,t))&&(r=r.replace(/^ /,"")),(n.nextSibling==null&&n.parentElement!=null&&bo(n.parentElement,t)||n.nextSibling instanceof Element&&bo(n.nextSibling,t))&&(r=r.replace(/ $/,"")),r=r.replaceAll(""," ")}return e.insert(r)}class xR extends oi{constructor(t,r){super(t,r);Ee(this,"lastRecorded",0);Ee(this,"ignoreChange",!1);Ee(this,"stack",{undo:[],redo:[]});Ee(this,"currentRange",null);this.quill.on(pe.events.EDITOR_CHANGE,(i,o,c,h)=>{i===pe.events.SELECTION_CHANGE?o&&h!==pe.sources.SILENT&&(this.currentRange=o):i===pe.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||h===pe.sources.USER?this.record(o,c):this.transform(o)),this.currentRange=jy(this.currentRange,o))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",i=>{i.inputType==="historyUndo"?(this.undo(),i.preventDefault()):i.inputType==="historyRedo"&&(this.redo(),i.preventDefault())})}change(t,r){if(this.stack[t].length===0)return;const i=this.stack[t].pop();if(!i)return;const o=this.quill.getContents(),c=i.delta.invert(o);this.stack[r].push({delta:c,range:jy(i.range,c)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i.delta,pe.sources.USER),this.ignoreChange=!1,this.restoreSelection(i)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(t,r){if(t.ops.length===0)return;this.stack.redo=[];let i=t.invert(r),o=this.currentRange;const c=Date.now();if(this.lastRecorded+this.options.delay>c&&this.stack.undo.length>0){const h=this.stack.undo.pop();h&&(i=i.compose(h.delta),o=h.range)}else this.lastRecorded=c;i.length()!==0&&(this.stack.undo.push({delta:i,range:o}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(t){tA(this.stack.undo,t),tA(this.stack.redo,t)}undo(){this.change("undo","redo")}restoreSelection(t){if(t.range)this.quill.setSelection(t.range,pe.sources.USER);else{const r=aq(this.quill.scroll,t.delta);this.quill.setSelection(r,pe.sources.USER)}}}Ee(xR,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function tA(n,e){let t=e;for(let r=n.length-1;r>=0;r-=1){const i=n[r];n[r]={delta:t.transform(i.delta,!0),range:i.range&&jy(i.range,t)},t=i.delta.transform(t),n[r].delta.length()===0&&n.splice(r,1)}}function iq(n,e){const t=e.ops[e.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(r=>n.query(r,De.BLOCK)!=null):!1}function aq(n,e){const t=e.reduce((i,o)=>i+(o.delete||0),0);let r=e.length()-t;return iq(n,e)&&(r-=1),r}function jy(n,e){if(!n)return n;const t=e.transformPosition(n.index),r=e.transformPosition(n.index+n.length);return{index:t,length:r-t}}class _R extends oi{constructor(e,t){super(e,t),e.root.addEventListener("drop",r=>{var c;r.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const h=document.caretPositionFromPoint(r.clientX,r.clientY);i=document.createRange(),i.setStart(h.offsetNode,h.offset),i.setEnd(h.offsetNode,h.offset)}const o=i&&e.selection.normalizeNative(i);if(o){const h=e.selection.normalizedToRange(o);(c=r.dataTransfer)!=null&&c.files&&this.upload(h,r.dataTransfer.files)}})}upload(e,t){const r=[];Array.from(t).forEach(i=>{var o;i&&((o=this.options.mimetypes)!=null&&o.includes(i.type))&&r.push(i)}),r.length>0&&this.options.handler.call(this,e,r)}}_R.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,e){if(!this.quill.scroll.query("image"))return;const t=e.map(r=>new Promise(i=>{const o=new FileReader;o.onload=()=>{i(o.result)},o.readAsDataURL(r)}));Promise.all(t).then(r=>{const i=r.reduce((o,c)=>o.insert({image:c}),new ke().retain(n.index).delete(n.length));this.quill.updateContents(i,Oe.sources.USER),this.quill.setSelection(n.index+r.length,Oe.sources.SILENT)})}};const oq=["insertText","insertReplacementText"];class lq extends oi{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||e.on(pe.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){hv({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(t){const r=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new ke().retain(e.index).insert(t,r),pe.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,pe.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!oq.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const r=cq(e);if(r==null)return;const i=this.quill.selection.normalizeNative(t),o=i?this.quill.selection.normalizedToRange(i):null;o&&this.replaceText(o,r)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function cq(n){var e;return typeof n.data=="string"?n.data:(e=n.dataTransfer)!=null&&e.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const uq=/Mac/i.test(navigator.platform),hq=100,dq=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||uq&&n.key==="a"&&n.ctrlKey===!0);class fq extends oi{constructor(t,r){super(t,r);Ee(this,"isListening",!1);Ee(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(t,r){let{line:i,event:o}=r;if(!(i instanceof ti)||!i.uiNode)return!0;const c=getComputedStyle(i.domNode).direction==="rtl";return c&&o.key!=="ArrowRight"||!c&&o.key!=="ArrowLeft"?!0:(this.quill.setSelection(t.index-1,t.length+(o.shiftKey?1:0),pe.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",t=>{!t.defaultPrevented&&dq(t)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+hq,this.isListening)return;this.isListening=!0;const t=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",t,{once:!0})}handleSelectionChange(){const t=document.getSelection();if(!t)return;const r=t.getRangeAt(0);if(r.collapsed!==!0||r.startOffset!==0)return;const i=this.quill.scroll.find(r.startContainer);if(!(i instanceof ti)||!i.uiNode)return;const o=document.createRange();o.setStartAfter(i.uiNode),o.setEndAfter(i.uiNode),t.removeAllRanges(),t.addRange(o)}}pe.register({"blots/block":Kn,"blots/block/embed":Rs,"blots/break":ai,"blots/container":Rl,"blots/cursor":Uc,"blots/embed":iv,"blots/inline":ki,"blots/scroll":vc,"blots/text":ri,"modules/clipboard":bR,"modules/history":xR,"modules/keyboard":Zp,"modules/uploader":_R,"modules/input":lq,"modules/uiNode":fq});class pq extends ii{add(e,t){let r=0;if(t==="+1"||t==="-1"){const i=this.value(e)||0;r=t==="+1"?i+1:i-1}else typeof t=="number"&&(r=t);return r===0?(this.remove(e),!0):super.add(e,r.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}const mq=new pq("indent","ql-indent",{scope:De.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class ky extends Kn{}Ee(ky,"blotName","blockquote"),Ee(ky,"tagName","blockquote");class Dy extends Kn{static formats(e){return this.tagName.indexOf(e.tagName)+1}}Ee(Dy,"blotName","header"),Ee(Dy,"tagName",["H1","H2","H3","H4","H5","H6"]);class Xh extends Rl{}Xh.blotName="list-container";Xh.tagName="OL";class Zh extends Kn{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){pe.register(Xh)}constructor(e,t){super(e,t);const r=t.ownerDocument.createElement("span"),i=o=>{if(!e.isEnabled())return;const c=this.statics.formats(t,e);c==="checked"?(this.format("list","unchecked"),o.preventDefault()):c==="unchecked"&&(this.format("list","checked"),o.preventDefault())};r.addEventListener("mousedown",i),r.addEventListener("touchstart",i),this.attachUI(r)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}Zh.blotName="list";Zh.tagName="LI";Xh.allowedChildren=[Zh];Zh.requiredContainer=Xh;class kh extends ki{static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}Ee(kh,"blotName","bold"),Ee(kh,"tagName",["STRONG","B"]);class My extends kh{}Ee(My,"blotName","italic"),Ee(My,"tagName",["EM","I"]);class vo extends ki{static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return wR(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e!==this.statics.blotName||!t?super.format(e,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}Ee(vo,"blotName","link"),Ee(vo,"tagName","A"),Ee(vo,"SANITIZED_URL","about:blank"),Ee(vo,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function wR(n,e){const t=document.createElement("a");t.href=n;const r=t.href.slice(0,t.href.indexOf(":"));return e.indexOf(r)>-1}class Ly extends ki{static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}Ee(Ly,"blotName","script"),Ee(Ly,"tagName",["SUB","SUP"]);class Py extends kh{}Ee(Py,"blotName","strike"),Ee(Py,"tagName",["S","STRIKE"]);class Vy extends ki{}Ee(Vy,"blotName","underline"),Ee(Vy,"tagName","U");class Yf extends iv{static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return typeof e=="string"&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}Ee(Yf,"blotName","formula"),Ee(Yf,"className","ql-formula"),Ee(Yf,"tagName","SPAN");const nA=["alt","height","width"];var Of;let gq=(Of=class extends rs{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return nA.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return wR(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){nA.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}},Ee(Of,"blotName","image"),Ee(Of,"tagName","IMG"),Of);const rA=["height","width"];class $f extends Rs{static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return rA.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static sanitize(e){return vo.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){rA.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}Ee($f,"blotName","video"),Ee($f,"className","ql-video"),Ee($f,"tagName","IFRAME");const eh=new ii("code-token","hljs",{scope:De.INLINE});class Na extends ki{static formats(e,t){for(;e!=null&&e!==t.domNode;){if(e.classList&&e.classList.contains(or.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,r){super(e,t,r),eh.add(this.domNode,r)}format(e,t){e!==Na.blotName?super.format(e,t):t?eh.add(this.domNode,t):(eh.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),eh.value(this.domNode)||this.unwrap()}}Na.blotName="code-token";Na.className="ql-token";class Ss extends or{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),Na.blotName,!1),super.replaceWith(e,t)}}class uh extends Il{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===Ss.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(e,t)}))}formatAt(e,t,r,i){r===Ss.blotName&&(this.forceNext=!0),super.formatAt(e,t,r,i)}highlight(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(c=>c!==this.uiNode).map(c=>c.textContent).join(`
`)}
`,o=Ss.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const c=this.children.reduce((d,p)=>d.concat(iR(p,!1)),new ke),h=e(i,o);c.diff(h).reduce((d,p)=>{let{retain:b,attributes:v}=p;return b?(v&&Object.keys(v).forEach(x=>{[Ss.blotName,Na.blotName].includes(x)&&this.formatAt(d,b,x,v[x])}),d+b):d},0)}this.cachedText=i,this.forceNext=!1}}html(e,t){const[r]=this.children.find(e);return`<pre data-language="${r?Ss.formats(r.domNode):"plain"}">
${Xp(this.code(e,t))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=Ss.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}uh.allowedChildren=[Ss];Ss.requiredContainer=uh;Ss.allowedChildren=[Na,Uc,ri,ai];const yq=(n,e,t)=>{if(typeof n.versionString=="string"){const r=n.versionString.split(".")[0];if(parseInt(r,10)>=11)return n.highlight(t,{language:e}).value}return n.highlight(e,t).value};class ER extends oi{static register(){pe.register(Na,!0),pe.register(Ss,!0),pe.register(uh,!0)}constructor(e,t){if(super(e,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,i)=>{let{key:o}=i;return r[o]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(pe.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof uh))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:i,label:o}=r;const c=t.ownerDocument.createElement("option");c.textContent=o,c.setAttribute("value",i),t.appendChild(c)}),t.addEventListener("change",()=>{e.format(Ss.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(t),e.children.head&&(t.value=Ss.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(pe.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(pe.sources.USER);const r=this.quill.getSelection();(e==null?this.quill.scroll.descendants(uh):[e]).forEach(o=>{o.highlight(this.highlightBlot,t)}),this.quill.update(pe.sources.SILENT),r!=null&&this.quill.setSelection(r,pe.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return Xp(e).split(`
`).reduce((i,o,c)=>(c!==0&&i.insert(`
`,{[or.blotName]:t}),i.insert(o)),new ke);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(or.className),r.innerHTML=yq(this.options.hljs,t,e),dv(this.quill.scroll,r,[(i,o)=>{const c=eh.value(i);return c?o.compose(new ke().retain(o.length(),{[Na.blotName]:c})):o}],[(i,o)=>i.data.split(`
`).reduce((c,h,d)=>(d!==0&&c.insert(`
`,{[or.blotName]:t}),c.insert(h)),o)],new WeakMap)}}ER.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const dh=class dh extends Kn{static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",fv()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===dh.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};Ee(dh,"blotName","table"),Ee(dh,"tagName","TD");let $s=dh;class Ca extends Rl{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),t=this.children.tail.formats(),r=this.next.children.head.formats(),i=this.next.children.tail.formats();return e.table===t.table&&e.table===r.table&&e.table===i.table}return!1}optimize(e){super.optimize(e),this.children.forEach(t=>{if(t.next==null)return;const r=t.formats(),i=t.next.formats();if(r.table!==i.table){const o=this.splitAfter(t);o&&o.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}Ee(Ca,"blotName","table-row"),Ee(Ca,"tagName","TR");class Ii extends Rl{}Ee(Ii,"blotName","table-body"),Ee(Ii,"tagName","TBODY");class Bc extends Rl{balanceCells(){const e=this.descendants(Ca),t=e.reduce((r,i)=>Math.max(i.children.length,r),0);e.forEach(r=>{new Array(t-r.children.length).fill(0).forEach(()=>{let i;r.children.head!=null&&(i=$s.formats(r.children.head.domNode));const o=this.scroll.create($s.blotName,i);r.appendChild(o),o.optimize()})})}cells(e){return this.rows().map(t=>t.children.at(e))}deleteColumn(e){const[t]=this.descendant(Ii);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(e);i!=null&&i.remove()})}insertColumn(e){const[t]=this.descendant(Ii);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(e),o=$s.formats(r.children.head.domNode),c=this.scroll.create($s.blotName,o);r.insertBefore(c,i)})}insertRow(e){const[t]=this.descendant(Ii);if(t==null||t.children.head==null)return;const r=fv(),i=this.scroll.create(Ca.blotName);t.children.head.children.forEach(()=>{const c=this.scroll.create($s.blotName,r);i.appendChild(c)});const o=t.children.at(e);t.insertBefore(i,o)}rows(){const e=this.children.head;return e==null?[]:e.children.map(t=>t)}}Ee(Bc,"blotName","table-container"),Ee(Bc,"tagName","TABLE");Bc.allowedChildren=[Ii];Ii.requiredContainer=Bc;Ii.allowedChildren=[Ca];Ca.requiredContainer=Ii;Ca.allowedChildren=[$s];$s.requiredContainer=Ca;function fv(){return`row-${Math.random().toString(36).slice(2,6)}`}class bq extends oi{static register(){pe.register($s),pe.register(Ca),pe.register(Ii),pe.register(Bc)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Bc).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,t]=this.getTable();t!=null&&(e.deleteColumn(t.cellOffset()),this.quill.update(pe.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(pe.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const t=e.offset();e.remove(),this.quill.update(pe.sources.USER),this.quill.setSelection(t,pe.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[t,r]=this.quill.getLine(e.index);if(t==null||t.statics.blotName!==$s.blotName)return[null,null,null,-1];const i=t.parent;return[i.parent.parent,i,t,r]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[r,i,o]=this.getTable(t);if(o==null)return;const c=o.cellOffset();r.insertColumn(c+e),this.quill.update(pe.sources.USER);let h=i.rowOffset();e===0&&(h+=1),this.quill.setSelection(t.index+h,t.length,pe.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[r,i,o]=this.getTable(t);if(o==null)return;const c=i.rowOffset();r.insertRow(c+e),this.quill.update(pe.sources.USER),e>0?this.quill.setSelection(t,pe.sources.SILENT):this.quill.setSelection(t.index+i.children.length,t.length,pe.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const r=this.quill.getSelection();if(r==null)return;const i=new Array(e).fill(0).reduce(o=>{const c=new Array(t).fill(`
`).join("");return o.insert(c,{table:fv()})},new ke().retain(r.index));this.quill.updateContents(i,pe.sources.USER),this.quill.setSelection(r.index,pe.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(pe.events.SCROLL_OPTIMIZE,e=>{e.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(pe.events.TEXT_CHANGE,(r,i,o)=>{o===pe.sources.USER&&this.balanceTables()}),!0):!1)})}}const sA=ka("quill:toolbar");class pv extends oi{constructor(e,t){var r,i;if(super(e,t),Array.isArray(this.options.container)){const o=document.createElement("div");o.setAttribute("role","toolbar"),vq(o,this.options.container),(i=(r=e.container)==null?void 0:r.parentNode)==null||i.insertBefore(o,e.container),this.container=o}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){sA.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(o=>{var h;const c=(h=this.options.handlers)==null?void 0:h[o];c&&this.addHandler(o,c)}),Array.from(this.container.querySelectorAll("button, select")).forEach(o=>{this.attach(o)}),this.quill.on(pe.events.EDITOR_CHANGE,()=>{const[o]=this.quill.selection.getRange();this.update(o)})}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find(i=>i.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){sA.warn("ignoring attaching to nonexistent format",t,e);return}const r=e.tagName==="SELECT"?"change":"click";e.addEventListener(r,i=>{let o;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const h=e.options[e.selectedIndex];h.hasAttribute("selected")?o=!1:o=h.value||!1}else e.classList.contains("ql-active")?o=!1:o=e.value||!e.hasAttribute("value"),i.preventDefault();this.quill.focus();const[c]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,o);else if(this.quill.scroll.query(t).prototype instanceof rs){if(o=prompt(`Enter ${t}`),!o)return;this.quill.updateContents(new ke().retain(c.index).delete(c.length).insert({[t]:o}),pe.sources.USER)}else this.quill.format(t,o,pe.sources.USER);this.update(c)}),this.controls.push([t,e])}update(e){const t=e==null?{}:this.quill.getFormat(e);this.controls.forEach(r=>{const[i,o]=r;if(o.tagName==="SELECT"){let c=null;if(e==null)c=null;else if(t[i]==null)c=o.querySelector("option[selected]");else if(!Array.isArray(t[i])){let h=t[i];typeof h=="string"&&(h=h.replace(/"/g,'\\"')),c=o.querySelector(`option[value="${h}"]`)}c==null?(o.value="",o.selectedIndex=-1):c.selected=!0}else if(e==null)o.classList.remove("ql-active"),o.setAttribute("aria-pressed","false");else if(o.hasAttribute("value")){const c=t[i],h=c===o.getAttribute("value")||c!=null&&c.toString()===o.getAttribute("value")||c==null&&!o.getAttribute("value");o.classList.toggle("ql-active",h),o.setAttribute("aria-pressed",h.toString())}else{const c=t[i]!=null;o.classList.toggle("ql-active",c),o.setAttribute("aria-pressed",c.toString())}})}}pv.DEFAULTS={};function iA(n,e,t){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${e}`),r.setAttribute("aria-pressed","false"),t!=null?(r.value=t,r.setAttribute("aria-label",`${e}: ${t}`)):r.setAttribute("aria-label",e),n.appendChild(r)}function vq(n,e){Array.isArray(e[0])||(e=[e]),e.forEach(t=>{const r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(i=>{if(typeof i=="string")iA(r,i);else{const o=Object.keys(i)[0],c=i[o];Array.isArray(c)?xq(r,o,c):iA(r,o,c)}}),n.appendChild(r)})}function xq(n,e,t){const r=document.createElement("select");r.classList.add(`ql-${e}`),t.forEach(i=>{const o=document.createElement("option");i!==!1?o.setAttribute("value",String(i)):o.setAttribute("selected","selected"),r.appendChild(o)}),n.appendChild(r)}pv.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(t=>{this.quill.scroll.query(t,De.INLINE)!=null&&this.quill.format(t,!1,pe.sources.USER)})}else this.quill.removeFormat(n.index,n.length,pe.sources.USER)},direction(n){const{align:e}=this.quill.getFormat();n==="rtl"&&e==null?this.quill.format("align","right",pe.sources.USER):!n&&e==="right"&&this.quill.format("align",!1,pe.sources.USER),this.quill.format("direction",n,pe.sources.USER)},indent(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e),r=parseInt(t.indent||0,10);if(n==="+1"||n==="-1"){let i=n==="+1"?1:-1;t.direction==="rtl"&&(i*=-1),this.quill.format("indent",r+i,pe.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,pe.sources.USER)},list(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e);n==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,pe.sources.USER):this.quill.format("list","unchecked",pe.sources.USER):this.quill.format("list",n,pe.sources.USER)}}};const _q='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',wq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',Eq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',Tq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',Aq='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',Sq='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',Nq='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',Cq='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',aA='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Rq='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',Iq='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',Oq='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',jq='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',kq='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',Dq='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Mq='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Lq='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',Pq='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Vq='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',Uq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',qq='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',Bq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',zq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',Hq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',Fq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',Gq='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',Kq='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',Yq='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',$q='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',Qq='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',Wq='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',Xq='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',Zq='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Dh={align:{"":_q,center:wq,right:Eq,justify:Tq},background:Aq,blockquote:Sq,bold:Nq,clean:Cq,code:aA,"code-block":aA,color:Rq,direction:{"":Iq,rtl:Oq},formula:jq,header:{1:kq,2:Dq,3:Mq,4:Lq,5:Pq,6:Vq},italic:Uq,image:qq,indent:{"+1":Bq,"-1":zq},link:Hq,list:{bullet:Fq,check:Gq,ordered:Kq},script:{sub:Yq,super:$q},strike:Qq,table:Wq,underline:Xq,video:Zq},Jq='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let oA=0;function lA(n,e){n.setAttribute(e,`${n.getAttribute(e)!=="true"}`)}class Jp{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),lA(this.label,"aria-expanded"),lA(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const r=e.getAttribute("value");return r&&t.setAttribute("data-value",r),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(t,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=Jq,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${oA}`,oA+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(t=>{const r=this.buildItem(t);e.appendChild(r),t.selected===!0&&this.selectItem(r)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");e!==r&&(r!=null&&r.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const t=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class TR extends Jp{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const r=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=i:r.style.fill=i)}}class AR extends Jp{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=t[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const r=e||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const eB=n=>{const{overflowY:e}=getComputedStyle(n,null);return e!=="visible"&&e!=="clip"};class SR{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,eB(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect();let c=0;if(o.right>i.right&&(c=i.right-o.right,this.root.style.left=`${t+c}px`),o.left<i.left&&(c=i.left-o.left,this.root.style.left=`${t+c}px`),o.bottom>i.bottom){const h=o.bottom-o.top,d=e.bottom-e.top+h;this.root.style.top=`${r-d}px`,this.root.classList.add("ql-flip")}return c}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const tB=[!1,"center","right","justify"],nB=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],rB=[!1,"serif","monospace"],sB=["1","2","3",!1],iB=["small",!1,"large","huge"];class Jh extends qc{constructor(e,t){super(e,t);const r=i=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(o=>{o.container.contains(i.target)||o.close()})};e.emitter.listenDOM("click",document.body,r)}addModule(e){const t=super.addModule(e);return e==="toolbar"&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(o=>{if(o.startsWith("ql-")&&(o=o.slice(3),t[o]!=null))if(o==="direction")r.innerHTML=t[o][""]+t[o].rtl;else if(typeof t[o]=="string")r.innerHTML=t[o];else{const c=r.value||"";c!=null&&t[o][c]&&(r.innerHTML=t[o][c])}})})}buildPickers(e,t){this.pickers=Array.from(e).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&Gu(i,tB),typeof t.align=="object"))return new AR(i,t.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const o=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&Gu(i,nB,o==="background"?"#ffffff":"#000000"),new TR(i,t[o])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?Gu(i,rB):i.classList.contains("ql-header")?Gu(i,sB):i.classList.contains("ql-size")&&Gu(i,iB)),new Jp(i)});const r=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(Oe.events.EDITOR_CHANGE,r)}}Jh.DEFAULTS=No({},qc.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class NR extends SR{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,Oe.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,Oe.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=aB(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(t!=null){const r=t.index+t.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,Oe.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",Oe.sources.USER),this.quill.setSelection(r+2,Oe.sources.USER)}break}}this.textbox.value="",this.hide()}}function aB(n){let e=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:n}function Gu(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(r=>{const i=document.createElement("option");r===t?i.setAttribute("selected","selected"):i.setAttribute("value",String(r)),n.appendChild(i)})}const oB=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class CR extends NR{constructor(e,t){super(e,t),this.quill.on(Oe.events.EDITOR_CHANGE,(r,i,o,c)=>{if(r===Oe.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&c===Oe.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const h=this.quill.getLines(i.index,i.length);if(h.length===1){const d=this.quill.getBounds(i);d!=null&&this.position(d)}else{const d=h[h.length-1],p=this.quill.getIndex(d),b=Math.min(d.length()-1,i.index+i.length-p),v=this.quill.getBounds(new _l(p,b));v!=null&&this.position(v)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Oe.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const t=this.quill.getBounds(e);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(e){const t=super.position(e),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",t!==0&&(r.style.marginLeft=`${-1*t-r.offsetWidth/2}px`),t}}Ee(CR,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class RR extends Jh{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=oB),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new CR(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),Dh),this.buildPickers(e.container.querySelectorAll("select"),Dh))}}RR.DEFAULTS=No({},Jh.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,pe.sources.USER)}}}}});const lB=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class IR extends NR{constructor(){super(...arguments);Ee(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",t=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),t.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",t=>{if(this.linkRange!=null){const r=this.linkRange;this.restoreFocus(),this.quill.formatText(r,"link",!1,Oe.sources.USER),delete this.linkRange}t.preventDefault(),this.hide()}),this.quill.on(Oe.events.SELECTION_CHANGE,(t,r,i)=>{if(t!=null){if(t.length===0&&i===Oe.sources.USER){const[o,c]=this.quill.scroll.descendant(vo,t.index);if(o!=null){this.linkRange=new _l(t.index-c,o.length());const h=vo.formats(o.domNode);this.preview.textContent=h,this.preview.setAttribute("href",h),this.show();const d=this.quill.getBounds(this.linkRange);d!=null&&this.position(d);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}Ee(IR,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class OR extends Jh{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=lB),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),Dh),this.buildPickers(e.container.querySelectorAll("select"),Dh),this.tooltip=new IR(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,r)=>{e.handlers.link.call(e,!r.format.link)}))}}OR.DEFAULTS=No({},Jh.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const e=this.quill.getSelection();if(e==null||e.length===0)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:r}=this.quill.theme;r.edit("link",t)}else this.quill.format("link",!1,pe.sources.USER)}}}}});pe.register({"attributors/attribute/direction":uR,"attributors/class/align":oR,"attributors/class/background":AU,"attributors/class/color":TU,"attributors/class/direction":hR,"attributors/class/font":pR,"attributors/class/size":gR,"attributors/style/align":lR,"attributors/style/background":lv,"attributors/style/color":ov,"attributors/style/direction":dR,"attributors/style/font":mR,"attributors/style/size":yR},!0);pe.register({"formats/align":oR,"formats/direction":hR,"formats/indent":mq,"formats/background":lv,"formats/color":ov,"formats/font":pR,"formats/size":gR,"formats/blockquote":ky,"formats/code-block":or,"formats/header":Dy,"formats/list":Zh,"formats/bold":kh,"formats/code":cv,"formats/italic":My,"formats/link":vo,"formats/script":Ly,"formats/strike":Py,"formats/underline":Vy,"formats/formula":Yf,"formats/image":gq,"formats/video":$f,"modules/syntax":ER,"modules/table":bq,"modules/toolbar":pv,"themes/bubble":RR,"themes/snow":OR,"ui/icons":Dh,"ui/picker":Jp,"ui/icon-picker":AR,"ui/color-picker":TR,"ui/tooltip":SR},!0);class em extends bn.Component{constructor(e){super(e),this.editingAreaRef=H.createRef(),this.containerRef=H.createRef(),this.dirtyProps=["modules","formats","bounds","theme","children"],this.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],this.state={generation:0},this.selection=null,this.onEditorChange=(r,i,o,c)=>{var h,d;r==="text-change"?(h=this.onEditorChangeText)==null||h.call(this,this.editor.getSemanticHTML(),i,c,this.unprivilegedEditor):r==="selection-change"&&((d=this.onEditorChangeSelection)==null||d.call(this,i,c,this.unprivilegedEditor))};const t=this.isControlled()?e.value:e.defaultValue;this.value=t??""}validateProps(e){if(bn.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(bn.Children.count(e.children)){const t=bn.Children.only(e.children);if((t==null?void 0:t.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")}shouldComponentUpdate(e,t){if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){const r=this.getEditorContents(),i=e.value??"";this.isEqualValue(i,r)||this.setEditorContents(this.editor,i)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),[...this.cleanProps,...this.dirtyProps].some(r=>!mo(e[r],this.props[r]))}shouldComponentRegenerate(e){return this.dirtyProps.some(t=>!mo(e[t],this.props[t]))}componentDidMount(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())}componentWillUnmount(){this.destroyEditor()}componentDidUpdate(e,t){if(this.editor&&this.shouldComponentRegenerate(e)){const r=this.editor.getContents(),i=this.editor.getSelection();this.regenerationSnapshot={delta:r,selection:i},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.editor&&e.placeholder!==this.props.placeholder&&(this.editor.root.dataset.placeholder=this.props.placeholder||""),this.state.generation!==t.generation){const{delta:r,selection:i}=this.regenerationSnapshot;delete this.regenerationSnapshot,this.instantiateEditor();const o=this.editor;o.setContents(r),cA(()=>this.setEditorSelection(o,i))}}instantiateEditor(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())}destroyEditor(){var r,i;if(!this.editor)return;this.unhookEditor(this.editor);const e=(r=this.props.modules)==null?void 0:r.toolbar;if(!(typeof e=="object"&&e&&"container"in e&&typeof e.container=="string"||typeof e=="string")){const o=(i=this.containerRef.current)==null?void 0:i.querySelector(".ql-toolbar");o&&o.remove()}delete this.editor}isControlled(){return"value"in this.props}getEditorConfig(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,tabIndex:this.props.tabIndex,theme:this.props.theme}}getEditor(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor}createEditor(e,t){const r=new pe(e,t);return t.tabIndex!=null&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r}hookEditor(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)}unhookEditor(e){e.off("editor-change",this.onEditorChange)}getEditorContents(){return this.value}getEditorSelection(){return this.selection}isDelta(e){return e&&e.ops}isEqualValue(e,t){return this.isDelta(e)&&this.isDelta(t)?mo(e.ops,t.ops):mo(e,t)}setEditorContents(e,t){this.value=t;const r=this.getEditorSelection();typeof t=="string"?e.setContents(e.clipboard.convert({html:t})):e.setContents(t),cA(()=>this.setEditorSelection(e,r))}setEditorSelection(e,t){if(this.selection=t,t){const r=e.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),e.setSelection(t)}}setEditorTabIndex(e,t){var r;(r=e==null?void 0:e.scroll)!=null&&r.domNode&&(e.scroll.domNode.tabIndex=t)}setEditorReadOnly(e,t){t?e.disable():e.enable()}makeUnprivilegedEditor(e){const t=e;return{getHTML:()=>t.root.innerHTML,getSemanticHTML:t.getSemanticHTML.bind(t),getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}}getEditingArea(){const e=this.editingAreaRef.current;if(!e)throw new Error("Cannot find element for editing area");if(e.nodeType===3)throw new Error("Editing area cannot be a text node");return e}renderEditingArea(){const{children:e,preserveWhitespace:t}=this.props,{generation:r}=this.state,i={key:r,ref:this.editingAreaRef};return bn.Children.count(e)?bn.cloneElement(bn.Children.only(e),i):t?bn.createElement("pre",{...i}):bn.createElement("div",{...i})}render(){return bn.createElement("div",{ref:this.containerRef,id:this.props.id,style:this.props.style,key:this.state.generation,className:`quill ${this.props.className??""}`,onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())}onEditorChangeText(e,t,r,i){var c,h;if(!this.editor)return;const o=this.isDelta(this.value)?i.getContents():i.getSemanticHTML();o!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=o,(h=(c=this.props).onChange)==null||h.call(c,e,t,r,i))}onEditorChangeSelection(e,t,r){var h,d,p,b,v,x;if(!this.editor)return;const i=this.getEditorSelection(),o=!i&&e,c=i&&!e;mo(e,i)||(this.selection=e,(d=(h=this.props).onChangeSelection)==null||d.call(h,e,t,r),o?(b=(p=this.props).onFocus)==null||b.call(p,e,t,r):c&&((x=(v=this.props).onBlur)==null||x.call(v,i,t,r)))}focus(){this.editor&&this.editor.focus()}blur(){this.editor&&(this.selection=null,this.editor.blur())}}em.displayName="React Quill";em.Quill=pe;em.defaultProps={theme:"snow",modules:{},readOnly:!1};function cA(n){Promise.resolve().then(n)}var Qf={exports:{}},cB=Qf.exports,uA;function uB(){return uA||(uA=1,(function(n,e){(function(t,r){n.exports=r()})(cB,function(){return(function(t){function r(o){if(i[o])return i[o].exports;var c=i[o]={i:o,l:!1,exports:{}};return t[o].call(c.exports,c,c.exports,r),c.l=!0,c.exports}var i={};return r.m=t,r.c=i,r.i=function(o){return o},r.d=function(o,c,h){r.o(o,c)||Object.defineProperty(o,c,{configurable:!1,enumerable:!0,get:h})},r.n=function(o){var c=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(c,"a",c),c},r.o=function(o,c){return Object.prototype.hasOwnProperty.call(o,c)},r.p="",r(r.s=38)})([function(t,r){function i(o){var c=typeof o;return o!=null&&(c=="object"||c=="function")}t.exports=i},function(t,r,i){var o=i(22),c=typeof self=="object"&&self&&self.Object===Object&&self,h=o||c||Function("return this")();t.exports=h},function(t,r){function i(o){return o!=null&&typeof o=="object"}t.exports=i},function(t,r,i){function o(v){var x=-1,T=v==null?0:v.length;for(this.clear();++x<T;){var N=v[x];this.set(N[0],N[1])}}var c=i(75),h=i(76),d=i(77),p=i(78),b=i(79);o.prototype.clear=c,o.prototype.delete=h,o.prototype.get=d,o.prototype.has=p,o.prototype.set=b,t.exports=o},function(t,r,i){function o(h,d){for(var p=h.length;p--;)if(c(h[p][0],d))return p;return-1}var c=i(8);t.exports=o},function(t,r,i){function o(x){return x==null?x===void 0?b:p:v&&v in Object(x)?h(x):d(x)}var c=i(16),h=i(64),d=i(87),p="[object Null]",b="[object Undefined]",v=c?c.toStringTag:void 0;t.exports=o},function(t,r,i){function o(h,d){var p=h.__data__;return c(d)?p[typeof d=="string"?"string":"hash"]:p.map}var c=i(73);t.exports=o},function(t,r,i){var o=i(11),c=o(Object,"create");t.exports=c},function(t,r){function i(o,c){return o===c||o!==o&&c!==c}t.exports=i},function(t,r,i){function o(h,d){if(!(h instanceof d))throw new TypeError("Cannot call a class as a function")}i.d(r,"a",function(){return c});var c=function h(d){o(this,h),this.onCreate=function(){},this.onDestroy=function(){},this.onUpdate=function(){},this.overlay=d.overlay,this.img=d.img,this.options=d.options,this.requestUpdate=d.onUpdate}},function(t,r,i){function o(h,d,p){d=="__proto__"&&c?c(h,d,{configurable:!0,enumerable:!0,value:p,writable:!0}):h[d]=p}var c=i(21);t.exports=o},function(t,r,i){function o(d,p){var b=h(d,p);return c(b)?b:void 0}var c=i(48),h=i(65);t.exports=o},function(t,r,i){function o(d){return d!=null&&h(d.length)&&!c(d)}var c=i(13),h=i(30);t.exports=o},function(t,r,i){function o(x){if(!h(x))return!1;var T=c(x);return T==p||T==b||T==d||T==v}var c=i(5),h=i(0),d="[object AsyncFunction]",p="[object Function]",b="[object GeneratorFunction]",v="[object Proxy]";t.exports=o},function(t,r){t.exports=function(i){return i.webpackPolyfill||(i.deprecate=function(){},i.paths=[],i.children||(i.children=[]),Object.defineProperty(i,"loaded",{enumerable:!0,get:function(){return i.l}}),Object.defineProperty(i,"id",{enumerable:!0,get:function(){return i.i}}),i.webpackPolyfill=1),i}},function(t,r,i){var o=i(11),c=i(1),h=o(c,"Map");t.exports=h},function(t,r,i){var o=i(1),c=o.Symbol;t.exports=c},function(t,r){function i(o,c,h){switch(h.length){case 0:return o.call(c);case 1:return o.call(c,h[0]);case 2:return o.call(c,h[0],h[1]);case 3:return o.call(c,h[0],h[1],h[2])}return o.apply(c,h)}t.exports=i},function(t,r,i){function o(d,p,b){(b===void 0||h(d[p],b))&&(b!==void 0||p in d)||c(d,p,b)}var c=i(10),h=i(8);t.exports=o},function(t,r,i){function o(x,T,N,I,C){x!==T&&d(T,function(U,K){if(b(U))C||(C=new c),p(x,T,K,N,o,I,C);else{var B=I?I(x[K],U,K+"",x,T,C):void 0;B===void 0&&(B=U),h(x,K,B)}},v)}var c=i(41),h=i(18),d=i(46),p=i(51),b=i(0),v=i(32);t.exports=o},function(t,r,i){function o(p,b){return d(h(p,b,c),p+"")}var c=i(26),h=i(89),d=i(90);t.exports=o},function(t,r,i){var o=i(11),c=(function(){try{var h=o(Object,"defineProperty");return h({},"",{}),h}catch{}})();t.exports=c},function(t,r,i){(function(o){var c=typeof o=="object"&&o&&o.Object===Object&&o;t.exports=c}).call(r,i(107))},function(t,r,i){var o=i(88),c=o(Object.getPrototypeOf,Object);t.exports=c},function(t,r){function i(h,d){return!!(d=d??o)&&(typeof h=="number"||c.test(h))&&h>-1&&h%1==0&&h<d}var o=9007199254740991,c=/^(?:0|[1-9]\d*)$/;t.exports=i},function(t,r){function i(c){var h=c&&c.constructor;return c===(typeof h=="function"&&h.prototype||o)}var o=Object.prototype;t.exports=i},function(t,r){function i(o){return o}t.exports=i},function(t,r,i){var o=i(47),c=i(2),h=Object.prototype,d=h.hasOwnProperty,p=h.propertyIsEnumerable,b=o((function(){return arguments})())?o:function(v){return c(v)&&d.call(v,"callee")&&!p.call(v,"callee")};t.exports=b},function(t,r){var i=Array.isArray;t.exports=i},function(t,r,i){(function(o){var c=i(1),h=i(102),d=typeof r=="object"&&r&&!r.nodeType&&r,p=d&&typeof o=="object"&&o&&!o.nodeType&&o,b=p&&p.exports===d,v=b?c.Buffer:void 0,x=v?v.isBuffer:void 0,T=x||h;o.exports=T}).call(r,i(14)(t))},function(t,r){function i(c){return typeof c=="number"&&c>-1&&c%1==0&&c<=o}var o=9007199254740991;t.exports=i},function(t,r,i){var o=i(49),c=i(54),h=i(86),d=h&&h.isTypedArray,p=d?c(d):o;t.exports=p},function(t,r,i){function o(p){return d(p)?c(p,!0):h(p)}var c=i(43),h=i(50),d=i(12);t.exports=o},function(t,r,i){r.a={modules:["DisplaySize","Toolbar","Resize"],overlayStyles:{position:"absolute",boxSizing:"border-box",border:"1px dashed #444"},handleStyles:{position:"absolute",height:"12px",width:"12px",backgroundColor:"white",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80"},displayStyles:{position:"absolute",font:"12px/1.0 Arial, Helvetica, sans-serif",padding:"4px 8px",textAlign:"center",backgroundColor:"white",color:"#333",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80",cursor:"default"},toolbarStyles:{position:"absolute",top:"-12px",right:"0",left:"0",height:"0",minWidth:"100px",font:"12px/1.0 Arial, Helvetica, sans-serif",textAlign:"center",color:"#333",boxSizing:"border-box",cursor:"default"},toolbarButtonStyles:{display:"inline-block",width:"24px",height:"24px",background:"white",border:"1px solid #999",verticalAlign:"middle"},toolbarButtonSvgStyles:{fill:"#444",stroke:"#444",strokeWidth:"2"}}},function(t,r,i){function o(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function c(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||typeof v!="object"&&typeof v!="function"?b:v}function h(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}var d=i(9);i.d(r,"a",function(){return p});var p=(function(b){function v(){var x,T,N,I;o(this,v);for(var C=arguments.length,U=Array(C),K=0;K<C;K++)U[K]=arguments[K];return T=N=c(this,(x=v.__proto__||Object.getPrototypeOf(v)).call.apply(x,[this].concat(U))),N.onCreate=function(){N.display=document.createElement("div"),Object.assign(N.display.style,N.options.displayStyles),N.overlay.appendChild(N.display)},N.onDestroy=function(){},N.onUpdate=function(){if(N.display&&N.img){var B=N.getCurrentSize();if(N.display.innerHTML=B.join(" &times; "),B[0]>120&&B[1]>30)Object.assign(N.display.style,{right:"4px",bottom:"4px",left:"auto"});else if(N.img.style.float=="right"){var $=N.display.getBoundingClientRect();Object.assign(N.display.style,{right:"auto",bottom:"-"+($.height+4)+"px",left:"-"+($.width+4)+"px"})}else{var Z=N.display.getBoundingClientRect();Object.assign(N.display.style,{right:"-"+(Z.width+4)+"px",bottom:"-"+(Z.height+4)+"px",left:"auto"})}}},N.getCurrentSize=function(){return[N.img.width,Math.round(N.img.width/N.img.naturalWidth*N.img.naturalHeight)]},I=T,c(N,I)}return h(v,b),v})(d.a)},function(t,r,i){function o(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function c(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||typeof v!="object"&&typeof v!="function"?b:v}function h(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}var d=i(9);i.d(r,"a",function(){return p});var p=(function(b){function v(){var x,T,N,I;o(this,v);for(var C=arguments.length,U=Array(C),K=0;K<C;K++)U[K]=arguments[K];return T=N=c(this,(x=v.__proto__||Object.getPrototypeOf(v)).call.apply(x,[this].concat(U))),N.onCreate=function(){N.boxes=[],N.addBox("nwse-resize"),N.addBox("nesw-resize"),N.addBox("nwse-resize"),N.addBox("nesw-resize"),N.positionBoxes()},N.onDestroy=function(){N.setCursor("")},N.positionBoxes=function(){var B=-parseFloat(N.options.handleStyles.width)/2+"px",$=-parseFloat(N.options.handleStyles.height)/2+"px";[{left:B,top:$},{right:B,top:$},{right:B,bottom:$},{left:B,bottom:$}].forEach(function(Z,ve){Object.assign(N.boxes[ve].style,Z)})},N.addBox=function(B){var $=document.createElement("div");Object.assign($.style,N.options.handleStyles),$.style.cursor=B,$.style.width=N.options.handleStyles.width+"px",$.style.height=N.options.handleStyles.height+"px",$.addEventListener("mousedown",N.handleMousedown,!1),N.overlay.appendChild($),N.boxes.push($)},N.handleMousedown=function(B){N.dragBox=B.target,N.dragStartX=B.clientX,N.preDragWidth=N.img.width||N.img.naturalWidth,N.setCursor(N.dragBox.style.cursor),document.addEventListener("mousemove",N.handleDrag,!1),document.addEventListener("mouseup",N.handleMouseup,!1)},N.handleMouseup=function(){N.setCursor(""),document.removeEventListener("mousemove",N.handleDrag),document.removeEventListener("mouseup",N.handleMouseup)},N.handleDrag=function(B){if(N.img){var $=B.clientX-N.dragStartX;N.dragBox===N.boxes[0]||N.dragBox===N.boxes[3]?N.img.width=Math.round(N.preDragWidth-$):N.img.width=Math.round(N.preDragWidth+$),N.requestUpdate()}},N.setCursor=function(B){[document.body,N.img].forEach(function($){$.style.cursor=B})},I=T,c(N,I)}return h(v,b),v})(d.a)},function(t,r,i){function o($,Z){if(!($ instanceof Z))throw new TypeError("Cannot call a class as a function")}function c($,Z){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Z||typeof Z!="object"&&typeof Z!="function"?$:Z}function h($,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);$.prototype=Object.create(Z&&Z.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf($,Z):$.__proto__=Z)}var d=i(105),p=i.n(d),b=i(104),v=i.n(b),x=i(106),T=i.n(x),N=i(9);i.d(r,"a",function(){return B});var I={},C={},U={},K={},B=(function($){function Z(){var ve,L,k,P;o(this,Z);for(var V=arguments.length,A=Array(V),D=0;D<V;D++)A[D]=arguments[D];return L=k=c(this,(ve=Z.__proto__||Object.getPrototypeOf(Z)).call.apply(ve,[this].concat(A))),k.onCreate=function(R){I=R,C=new I.Attributor.Style("float","float"),U=new I.Attributor.Style("margin","margin"),K=new I.Attributor.Style("display","display"),k.toolbar=document.createElement("div"),Object.assign(k.toolbar.style,k.options.toolbarStyles),k.overlay.appendChild(k.toolbar),k._defineAlignments(),k._addToolbarButtons()},k.onDestroy=function(){},k.onUpdate=function(){},k._defineAlignments=function(){k.alignments=[{icon:p.a,apply:function(){K.add(k.img,"inline"),C.add(k.img,"left"),U.add(k.img,"0 1em 1em 0")},isApplied:function(){return C.value(k.img)=="left"}},{icon:v.a,apply:function(){K.add(k.img,"block"),C.remove(k.img),U.add(k.img,"auto")},isApplied:function(){return U.value(k.img)=="auto"}},{icon:T.a,apply:function(){K.add(k.img,"inline"),C.add(k.img,"right"),U.add(k.img,"0 0 1em 1em")},isApplied:function(){return C.value(k.img)=="right"}}]},k._addToolbarButtons=function(){var R=[];k.alignments.forEach(function(le,de){var z=document.createElement("span");R.push(z),z.innerHTML=le.icon,z.addEventListener("click",function(){R.forEach(function(X){return X.style.filter=""}),le.isApplied()?(C.remove(k.img),U.remove(k.img),K.remove(k.img)):(k._selectButton(z),le.apply()),k.requestUpdate()}),Object.assign(z.style,k.options.toolbarButtonStyles),de>0&&(z.style.borderLeftWidth="0"),Object.assign(z.children[0].style,k.options.toolbarButtonSvgStyles),le.isApplied()&&k._selectButton(z),k.toolbar.appendChild(z)})},k._selectButton=function(R){R.style.filter="invert(20%)"},P=L,c(k,P)}return h(Z,$),Z})(N.a)},function(t,r,i){var o=i(17),c=i(20),h=i(63),d=i(101),p=c(function(b){return b.push(void 0,h),o(d,void 0,b)});t.exports=p},function(t,r,i){function o(N,I){if(!(N instanceof I))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var c=i(37),h=i.n(c),d=i(33),p=i(34),b=i(36),v=i(35),x={DisplaySize:p.a,Toolbar:b.a,Resize:v.a},T=function N(I){var C=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,N),this.initializeModules=function(){C.removeModules(),C.modules=C.moduleClasses.map(function(B){return new(x[B]||B)(C)}),C.modules.forEach(function(B){B.onCreate(C.parchment)}),C.onUpdate()},this.onUpdate=function(){C.repositionElements(),C.modules.forEach(function(B){B.onUpdate()})},this.removeModules=function(){C.modules.forEach(function(B){B.onDestroy()}),C.modules=[]},this.handleClick=function(B){if(B.target&&B.target.tagName&&B.target.tagName.toUpperCase()==="IMG"){if(C.img===B.target)return;C.img&&C.hide(),C.show(B.target)}else C.img&&C.hide()},this.show=function(B){C.img=B,C.showOverlay(),C.initializeModules()},this.showOverlay=function(){C.overlay&&C.hideOverlay(),C.quill.setSelection(null),C.setUserSelect("none"),document.addEventListener("keyup",C.checkImage,!0),C.quill.root.addEventListener("input",C.checkImage,!0),C.overlay=document.createElement("div"),Object.assign(C.overlay.style,C.options.overlayStyles),C.quill.root.parentNode.appendChild(C.overlay),C.repositionElements()},this.hideOverlay=function(){C.overlay&&(C.quill.root.parentNode.removeChild(C.overlay),C.overlay=void 0,document.removeEventListener("keyup",C.checkImage),C.quill.root.removeEventListener("input",C.checkImage),C.setUserSelect(""))},this.repositionElements=function(){if(C.overlay&&C.img){var B=C.quill.root.parentNode,$=C.img.getBoundingClientRect(),Z=B.getBoundingClientRect();Object.assign(C.overlay.style,{left:$.left-Z.left-1+B.scrollLeft+"px",top:$.top-Z.top+B.scrollTop+"px",width:$.width+"px",height:$.height+"px"})}},this.hide=function(){C.hideOverlay(),C.removeModules(),C.img=void 0},this.setUserSelect=function(B){["userSelect","mozUserSelect","webkitUserSelect","msUserSelect"].forEach(function($){C.quill.root.style[$]=B,document.documentElement.style[$]=B})},this.checkImage=function(B){C.img&&(B.keyCode!=46&&B.keyCode!=8||window.Quill.find(C.img).deleteAt(0),C.hide())},this.quill=I;var K=!1;U.modules&&(K=U.modules.slice()),U.parchment&&(this.parchment=U.parchment),this.options=h()({},U,d.a),K!==!1&&(this.options.modules=K),document.execCommand("enableObjectResizing",!1,"false"),this.quill.root.addEventListener("click",this.handleClick,!1),this.quill.root.parentNode.style.position=this.quill.root.parentNode.style.position||"relative",this.moduleClasses=this.options.modules,this.modules=[]};r.default=T,window.Quill&&window.Quill.register("modules/imageResize",T)},function(t,r,i){function o(v){var x=-1,T=v==null?0:v.length;for(this.clear();++x<T;){var N=v[x];this.set(N[0],N[1])}}var c=i(66),h=i(67),d=i(68),p=i(69),b=i(70);o.prototype.clear=c,o.prototype.delete=h,o.prototype.get=d,o.prototype.has=p,o.prototype.set=b,t.exports=o},function(t,r,i){function o(v){var x=-1,T=v==null?0:v.length;for(this.clear();++x<T;){var N=v[x];this.set(N[0],N[1])}}var c=i(80),h=i(81),d=i(82),p=i(83),b=i(84);o.prototype.clear=c,o.prototype.delete=h,o.prototype.get=d,o.prototype.has=p,o.prototype.set=b,t.exports=o},function(t,r,i){function o(x){var T=this.__data__=new c(x);this.size=T.size}var c=i(3),h=i(92),d=i(93),p=i(94),b=i(95),v=i(96);o.prototype.clear=h,o.prototype.delete=d,o.prototype.get=p,o.prototype.has=b,o.prototype.set=v,t.exports=o},function(t,r,i){var o=i(1),c=o.Uint8Array;t.exports=c},function(t,r,i){function o(N,I){var C=d(N),U=!C&&h(N),K=!C&&!U&&p(N),B=!C&&!U&&!K&&v(N),$=C||U||K||B,Z=$?c(N.length,String):[],ve=Z.length;for(var L in N)!I&&!T.call(N,L)||$&&(L=="length"||K&&(L=="offset"||L=="parent")||B&&(L=="buffer"||L=="byteLength"||L=="byteOffset")||b(L,ve))||Z.push(L);return Z}var c=i(53),h=i(27),d=i(28),p=i(29),b=i(24),v=i(31),x=Object.prototype,T=x.hasOwnProperty;t.exports=o},function(t,r,i){function o(b,v,x){var T=b[v];p.call(b,v)&&h(T,x)&&(x!==void 0||v in b)||c(b,v,x)}var c=i(10),h=i(8),d=Object.prototype,p=d.hasOwnProperty;t.exports=o},function(t,r,i){var o=i(0),c=Object.create,h=(function(){function d(){}return function(p){if(!o(p))return{};if(c)return c(p);d.prototype=p;var b=new d;return d.prototype=void 0,b}})();t.exports=h},function(t,r,i){var o=i(62),c=o();t.exports=c},function(t,r,i){function o(p){return h(p)&&c(p)==d}var c=i(5),h=i(2),d="[object Arguments]";t.exports=o},function(t,r,i){function o(C){return!(!d(C)||h(C))&&(c(C)?I:b).test(p(C))}var c=i(13),h=i(74),d=i(0),p=i(97),b=/^\[object .+?Constructor\]$/,v=Function.prototype,x=Object.prototype,T=v.toString,N=x.hasOwnProperty,I=RegExp("^"+T.call(N).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=o},function(t,r,i){function o(b){return d(b)&&h(b.length)&&!!p[c(b)]}var c=i(5),h=i(30),d=i(2),p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p["[object Arguments]"]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p["[object Map]"]=p["[object Number]"]=p["[object Object]"]=p["[object RegExp]"]=p["[object Set]"]=p["[object String]"]=p["[object WeakMap]"]=!1,t.exports=o},function(t,r,i){function o(v){if(!c(v))return d(v);var x=h(v),T=[];for(var N in v)(N!="constructor"||!x&&b.call(v,N))&&T.push(N);return T}var c=i(0),h=i(25),d=i(85),p=Object.prototype,b=p.hasOwnProperty;t.exports=o},function(t,r,i){function o($,Z,ve,L,k,P,V){var A=$[ve],D=Z[ve],R=V.get(D);if(R)return void c($,ve,R);var le=P?P(A,D,ve+"",$,Z,V):void 0,de=le===void 0;if(de){var z=x(D),X=!z&&N(D),ce=!z&&!X&&K(D);le=D,z||X||ce?x(A)?le=A:T(A)?le=p(A):X?(de=!1,le=h(D,!0)):ce?(de=!1,le=d(D,!0)):le=[]:U(D)||v(D)?(le=A,v(A)?le=B(A):(!C(A)||L&&I(A))&&(le=b(D))):de=!1}de&&(V.set(D,le),k(le,D,L,P,V),V.delete(D)),c($,ve,le)}var c=i(18),h=i(56),d=i(57),p=i(58),b=i(71),v=i(27),x=i(28),T=i(99),N=i(29),I=i(13),C=i(0),U=i(100),K=i(31),B=i(103);t.exports=o},function(t,r,i){var o=i(98),c=i(21),h=i(26),d=c?function(p,b){return c(p,"toString",{configurable:!0,enumerable:!1,value:o(b),writable:!0})}:h;t.exports=d},function(t,r){function i(o,c){for(var h=-1,d=Array(o);++h<o;)d[h]=c(h);return d}t.exports=i},function(t,r){function i(o){return function(c){return o(c)}}t.exports=i},function(t,r,i){function o(h){var d=new h.constructor(h.byteLength);return new c(d).set(new c(h)),d}var c=i(42);t.exports=o},function(t,r,i){(function(o){function c(T,N){if(N)return T.slice();var I=T.length,C=x?x(I):new T.constructor(I);return T.copy(C),C}var h=i(1),d=typeof r=="object"&&r&&!r.nodeType&&r,p=d&&typeof o=="object"&&o&&!o.nodeType&&o,b=p&&p.exports===d,v=b?h.Buffer:void 0,x=v?v.allocUnsafe:void 0;o.exports=c}).call(r,i(14)(t))},function(t,r,i){function o(h,d){var p=d?c(h.buffer):h.buffer;return new h.constructor(p,h.byteOffset,h.length)}var c=i(55);t.exports=o},function(t,r){function i(o,c){var h=-1,d=o.length;for(c||(c=Array(d));++h<d;)c[h]=o[h];return c}t.exports=i},function(t,r,i){function o(d,p,b,v){var x=!b;b||(b={});for(var T=-1,N=p.length;++T<N;){var I=p[T],C=v?v(b[I],d[I],I,b,d):void 0;C===void 0&&(C=d[I]),x?h(b,I,C):c(b,I,C)}return b}var c=i(44),h=i(10);t.exports=o},function(t,r,i){var o=i(1),c=o["__core-js_shared__"];t.exports=c},function(t,r,i){function o(d){return c(function(p,b){var v=-1,x=b.length,T=x>1?b[x-1]:void 0,N=x>2?b[2]:void 0;for(T=d.length>3&&typeof T=="function"?(x--,T):void 0,N&&h(b[0],b[1],N)&&(T=x<3?void 0:T,x=1),p=Object(p);++v<x;){var I=b[v];I&&d(p,I,v,T)}return p})}var c=i(20),h=i(72);t.exports=o},function(t,r){function i(o){return function(c,h,d){for(var p=-1,b=Object(c),v=d(c),x=v.length;x--;){var T=v[o?x:++p];if(h(b[T],T,b)===!1)break}return c}}t.exports=i},function(t,r,i){function o(d,p,b,v,x,T){return h(d)&&h(p)&&(T.set(p,d),c(d,p,void 0,o,T),T.delete(p)),d}var c=i(19),h=i(0);t.exports=o},function(t,r,i){function o(v){var x=d.call(v,b),T=v[b];try{v[b]=void 0}catch{}var N=p.call(v);return x?v[b]=T:delete v[b],N}var c=i(16),h=Object.prototype,d=h.hasOwnProperty,p=h.toString,b=c?c.toStringTag:void 0;t.exports=o},function(t,r){function i(o,c){return o==null?void 0:o[c]}t.exports=i},function(t,r,i){function o(){this.__data__=c?c(null):{},this.size=0}var c=i(7);t.exports=o},function(t,r){function i(o){var c=this.has(o)&&delete this.__data__[o];return this.size-=c?1:0,c}t.exports=i},function(t,r,i){function o(b){var v=this.__data__;if(c){var x=v[b];return x===h?void 0:x}return p.call(v,b)?v[b]:void 0}var c=i(7),h="__lodash_hash_undefined__",d=Object.prototype,p=d.hasOwnProperty;t.exports=o},function(t,r,i){function o(p){var b=this.__data__;return c?b[p]!==void 0:d.call(b,p)}var c=i(7),h=Object.prototype,d=h.hasOwnProperty;t.exports=o},function(t,r,i){function o(d,p){var b=this.__data__;return this.size+=this.has(d)?0:1,b[d]=c&&p===void 0?h:p,this}var c=i(7),h="__lodash_hash_undefined__";t.exports=o},function(t,r,i){function o(p){return typeof p.constructor!="function"||d(p)?{}:c(h(p))}var c=i(45),h=i(23),d=i(25);t.exports=o},function(t,r,i){function o(b,v,x){if(!p(x))return!1;var T=typeof v;return!!(T=="number"?h(x)&&d(v,x.length):T=="string"&&v in x)&&c(x[v],b)}var c=i(8),h=i(12),d=i(24),p=i(0);t.exports=o},function(t,r){function i(o){var c=typeof o;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?o!=="__proto__":o===null}t.exports=i},function(t,r,i){function o(d){return!!h&&h in d}var c=i(60),h=(function(){var d=/[^.]+$/.exec(c&&c.keys&&c.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""})();t.exports=o},function(t,r){function i(){this.__data__=[],this.size=0}t.exports=i},function(t,r,i){function o(p){var b=this.__data__,v=c(b,p);return!(v<0)&&(v==b.length-1?b.pop():d.call(b,v,1),--this.size,!0)}var c=i(4),h=Array.prototype,d=h.splice;t.exports=o},function(t,r,i){function o(h){var d=this.__data__,p=c(d,h);return p<0?void 0:d[p][1]}var c=i(4);t.exports=o},function(t,r,i){function o(h){return c(this.__data__,h)>-1}var c=i(4);t.exports=o},function(t,r,i){function o(h,d){var p=this.__data__,b=c(p,h);return b<0?(++this.size,p.push([h,d])):p[b][1]=d,this}var c=i(4);t.exports=o},function(t,r,i){function o(){this.size=0,this.__data__={hash:new c,map:new(d||h),string:new c}}var c=i(39),h=i(3),d=i(15);t.exports=o},function(t,r,i){function o(h){var d=c(this,h).delete(h);return this.size-=d?1:0,d}var c=i(6);t.exports=o},function(t,r,i){function o(h){return c(this,h).get(h)}var c=i(6);t.exports=o},function(t,r,i){function o(h){return c(this,h).has(h)}var c=i(6);t.exports=o},function(t,r,i){function o(h,d){var p=c(this,h),b=p.size;return p.set(h,d),this.size+=p.size==b?0:1,this}var c=i(6);t.exports=o},function(t,r){function i(o){var c=[];if(o!=null)for(var h in Object(o))c.push(h);return c}t.exports=i},function(t,r,i){(function(o){var c=i(22),h=typeof r=="object"&&r&&!r.nodeType&&r,d=h&&typeof o=="object"&&o&&!o.nodeType&&o,p=d&&d.exports===h,b=p&&c.process,v=(function(){try{return b&&b.binding&&b.binding("util")}catch{}})();o.exports=v}).call(r,i(14)(t))},function(t,r){function i(h){return c.call(h)}var o=Object.prototype,c=o.toString;t.exports=i},function(t,r){function i(o,c){return function(h){return o(c(h))}}t.exports=i},function(t,r,i){function o(d,p,b){return p=h(p===void 0?d.length-1:p,0),function(){for(var v=arguments,x=-1,T=h(v.length-p,0),N=Array(T);++x<T;)N[x]=v[p+x];x=-1;for(var I=Array(p+1);++x<p;)I[x]=v[x];return I[p]=b(N),c(d,this,I)}}var c=i(17),h=Math.max;t.exports=o},function(t,r,i){var o=i(52),c=i(91),h=c(o);t.exports=h},function(t,r){function i(d){var p=0,b=0;return function(){var v=h(),x=c-(v-b);if(b=v,x>0){if(++p>=o)return arguments[0]}else p=0;return d.apply(void 0,arguments)}}var o=800,c=16,h=Date.now;t.exports=i},function(t,r,i){function o(){this.__data__=new c,this.size=0}var c=i(3);t.exports=o},function(t,r){function i(o){var c=this.__data__,h=c.delete(o);return this.size=c.size,h}t.exports=i},function(t,r){function i(o){return this.__data__.get(o)}t.exports=i},function(t,r){function i(o){return this.__data__.has(o)}t.exports=i},function(t,r,i){function o(b,v){var x=this.__data__;if(x instanceof c){var T=x.__data__;if(!h||T.length<p-1)return T.push([b,v]),this.size=++x.size,this;x=this.__data__=new d(T)}return x.set(b,v),this.size=x.size,this}var c=i(3),h=i(15),d=i(40),p=200;t.exports=o},function(t,r){function i(h){if(h!=null){try{return c.call(h)}catch{}try{return h+""}catch{}}return""}var o=Function.prototype,c=o.toString;t.exports=i},function(t,r){function i(o){return function(){return o}}t.exports=i},function(t,r,i){function o(d){return h(d)&&c(d)}var c=i(12),h=i(2);t.exports=o},function(t,r,i){function o(I){if(!d(I)||c(I)!=p)return!1;var C=h(I);if(C===null)return!0;var U=T.call(C,"constructor")&&C.constructor;return typeof U=="function"&&U instanceof U&&x.call(U)==N}var c=i(5),h=i(23),d=i(2),p="[object Object]",b=Function.prototype,v=Object.prototype,x=b.toString,T=v.hasOwnProperty,N=x.call(Object);t.exports=o},function(t,r,i){var o=i(19),c=i(61),h=c(function(d,p,b,v){o(d,p,b,v)});t.exports=h},function(t,r){function i(){return!1}t.exports=i},function(t,r,i){function o(d){return c(d,h(d))}var c=i(59),h=i(32);t.exports=o},function(t,r){t.exports=`<svg viewbox="0 0 18 18">
  <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>
  <line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"></line>
  <line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"></line>
</svg>`},function(t,r){t.exports=`<svg viewbox="0 0 18 18">
  <line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"></line>
  <line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"></line>
  <line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"></line>
</svg>`},function(t,r){t.exports=`<svg viewbox="0 0 18 18">
  <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>
  <line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"></line>
  <line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"></line>
</svg>`},function(t,r){var i;i=(function(){return this})();try{i=i||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(i=window)}t.exports=i}])})})(Qf)),Qf.exports}var hB=uB();const dB=Mo(hB),hA="abdoskikim1000@gmail.com";pe.register("modules/imageResize",dB);const mv=pe.import("formats/font");mv.whitelist=["arial","comic-sans","courier-new","georgia","helvetica","lucida"];pe.register(mv,!0);const fB=({message:n,type:e,onClose:t})=>f.jsxs("div",{className:`fixed top-5 right-5 z-[100] flex items-center gap-3 px-6 py-4 rounded-xl shadow-2xl border transition-all duration-500 animate-bounce-in ${e==="success"?"bg-[#0f2d1e] border-green-500/50 text-green-400":"bg-[#2d0f0f] border-red-500/50 text-red-400"}`,children:[f.jsx("span",{className:"text-xl",children:e==="success"?"":""}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-sm",children:e==="success"?"Success":"Error"}),f.jsx("p",{className:"text-xs opacity-80",children:n})]}),f.jsx("button",{onClick:t,className:"ml-4 hover:bg-white/10 rounded-full p-1",children:""})]}),pB=()=>{const n=Di(),[e,t]=H.useState(null),[r,i]=H.useState(!0),[o,c]=H.useState(""),[h,d]=H.useState(""),[p,b]=H.useState(""),[v,x]=H.useState(!1),[T,N]=H.useState(""),[I,C]=H.useState(""),[U,K]=H.useState(""),[B,$]=H.useState(""),[Z,ve]=H.useState("Analysis"),[L,k]=H.useState(""),[P,V]=H.useState("draft"),[A,D]=H.useState("Yakuza Admin"),[R,le]=H.useState([]),[de,z]=H.useState(""),[X,ce]=H.useState(!1),[xe,re]=H.useState(""),[q,W]=H.useState(!1),[oe,he]=H.useState(null);H.useEffect(()=>{const _e=fC(ma,mt=>{t(mt),i(!1)});return()=>_e()},[]);const ye=async _e=>{_e.preventDefault(),x(!0),b("");try{await t2(ma,o,h)}catch(mt){if(console.error("Login Error:",mt.code),mt.code==="auth/user-not-found"||mt.code==="auth/invalid-credential")try{await e2(ma,o,h)}catch(vr){b(": "+vr.message)}else mt.code==="auth/wrong-password"?b("   "):b(" : "+mt.message)}finally{x(!1)}},Te=H.useMemo(()=>({toolbar:{container:[[{header:[1,2,3,4,5,6,!1]}],[{font:mv.whitelist}],[{size:["small",!1,"large","huge"]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{align:[]}],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["blockquote","code-block"],["link","image","video"],["clean"]]},imageResize:{parchment:pe.import("parchment"),modules:["Resize","DisplaySize","Toolbar"]},clipboard:{matchVisual:!1}}),[]),Se=["header","font","size","bold","italic","underline","strike","color","background","script","align","list","bullet","indent","blockquote","code-block","link","image","video"];H.useEffect(()=>{if(T&&!I){const _e=T.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-");C(_e)}},[T]);const Ne=(_e,mt="success")=>{he({msg:_e,type:mt}),setTimeout(()=>he(null),3e3)},Me=_e=>{_e.key==="Enter"&&de.trim()&&(_e.preventDefault(),R.includes(de.trim())||le([...R,de.trim()]),z(""))},Ye=_e=>{le(R.filter(mt=>mt!==_e))},We=()=>{try{const _e=JSON.parse(xe);_e.title&&N(_e.title),_e.slug&&C(_e.slug),_e.content&&K(_e.content),_e.image&&$(_e.image),_e.category&&ve(_e.category),_e.excerpt&&k(_e.excerpt),_e.tags&&le(_e.tags),_e.status&&V(_e.status),Ne("   ! ","success"),ce(!1),re("")}catch{Ne(" JSON  ! ","error")}},Xe=async _e=>{if(!T||!U)return Ne("  !","error");W(!0);try{const mt=L||U.replace(/<[^>]+>/g,"").substring(0,160)+"...",vr=I||T.toLowerCase().replace(/\s+/g,"-");await zN(oh(yo,"articles"),{title:T,slug:vr,image:B,content:U,category:Z,excerpt:mt,tags:R,status:_e,author:A,createdAt:kE(),updatedAt:kE(),views:0,likes:0}),Ne(_e==="published"?"  ! ":"  ! ","success"),_e==="published"&&setTimeout(()=>n("/blog"),1500)}catch(mt){console.error("Error:",mt),Ne("    ","error")}finally{W(!1)}},et=U.replace(/<[^>]+>/g,"").split(/\s+/).filter(_e=>_e!=="").length,dt=Math.ceil(et/200);return r?f.jsx("div",{className:"min-h-screen bg-[#0b1120] flex items-center justify-center text-white",children:f.jsx("div",{className:"animate-spin text-4xl",children:""})}):!e||e.email!==hA?f.jsx("div",{className:"min-h-screen bg-[#0b1120] flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-[#1e293b] p-8 rounded-3xl border border-blue-500/20 text-center max-w-md w-full shadow-2xl relative overflow-hidden",children:[f.jsxs("div",{className:"mb-8",children:[f.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-2xl mx-auto flex items-center justify-center text-3xl shadow-lg shadow-blue-500/30 mb-4",children:""}),f.jsx("h1",{className:"text-2xl font-black text-white",children:"Yakuza Admin"}),f.jsx("p",{className:"text-slate-400 text-sm mt-2",children:"Enter credentials to access dashboard"})]}),e&&e.email!==hA&&f.jsxs("div",{className:"bg-red-500/10 p-4 rounded-xl border border-red-500/20 mb-6 text-left",children:[f.jsx("p",{className:"text-red-400 text-xs uppercase font-bold mb-1",children:"Access Denied:"}),f.jsx("p",{className:"text-white font-mono text-sm",children:e.email}),f.jsx("p",{className:"text-slate-400 text-xs mt-2",children:"This email is not authorized."}),f.jsx("button",{onClick:()=>mp(ma),className:"text-red-400 underline text-xs mt-2 hover:text-white",children:"Sign out"})]}),f.jsxs("form",{onSubmit:ye,className:"space-y-4 text-left",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1",children:"Email"}),f.jsx("input",{type:"email",required:!0,value:o,onChange:_e=>c(_e.target.value),placeholder:"name@example.com",className:"w-full bg-black/30 border border-slate-700 focus:border-blue-500 rounded-xl p-3 text-white outline-none transition mt-1"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase ml-1",children:"Password"}),f.jsx("input",{type:"password",required:!0,value:h,onChange:_e=>d(_e.target.value),placeholder:"",className:"w-full bg-black/30 border border-slate-700 focus:border-blue-500 rounded-xl p-3 text-white outline-none transition mt-1"})]}),p&&f.jsx("div",{className:"text-red-400 text-xs bg-red-500/10 p-3 rounded-lg border border-red-500/20",children:p}),f.jsx("button",{type:"submit",disabled:v,className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:to-indigo-500 text-white font-bold py-4 rounded-xl shadow-lg shadow-blue-900/20 transition transform hover:scale-[1.02] flex items-center justify-center gap-2 mt-4",children:v?f.jsx("span",{className:"animate-spin",children:""}):"Login to Dashboard "})]}),f.jsx(xo,{to:"/",className:"block mt-8 text-slate-600 hover:text-white text-xs transition",children:" Return to Website"})]})}):f.jsxs("div",{className:"min-h-screen bg-[#0b1120] text-slate-200 font-sans p-4 md:p-8 relative selection:bg-blue-500 selection:text-white",children:[f.jsx("style",{children:`
        .ql-toolbar.ql-snow {
          background-color: #f8fafc;
          border-radius: 16px 16px 0 0;
          border: none !important;
          padding: 16px;
          position: sticky;
          top: 0;
          z-index: 20;
          box-shadow: 0 4px 20px -5px rgba(0,0,0,0.1);
        }
        .ql-container.ql-snow {
          border: none !important;
          background-color: white;
          color: #334155;
          font-family: 'Inter', sans-serif;
          font-size: 16px;
          min-height: 700px;
          border-bottom-left-radius: 16px;
          border-bottom-right-radius: 16px;
        }
        .ql-editor {
          min-height: 700px;
          padding: 40px;
          line-height: 1.8;
        }
        .ql-editor h1, .ql-editor h2, .ql-editor h3 {
            font-weight: 800;
            color: #0f172a;
            margin-top: 1.5em;
        }
        .ql-editor img {
            border-radius: 12px;
            box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.2);
            margin: 20px 0;
        }
      `}),oe&&f.jsx(fB,{message:oe.msg,type:oe.type,onClose:()=>he(null)}),f.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-start md:items-center mb-10 gap-6 border-b border-white/5 pb-8",children:[f.jsxs("div",{children:[f.jsxs("h1",{className:"text-4xl font-black text-white flex items-center gap-4",children:[f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute inset-0 bg-blue-500 blur-lg opacity-50"}),f.jsx("span",{className:"relative bg-gradient-to-tr from-blue-600 to-indigo-600 w-14 h-14 rounded-2xl flex items-center justify-center text-3xl shadow-2xl border border-white/10",children:""})]}),"YAKUZA CMS"]}),f.jsxs("div",{className:"text-slate-500 text-xs font-bold mt-3 ml-[70px] flex items-center gap-3 uppercase tracking-widest",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"}),"Admin Session Active",f.jsx("span",{className:"text-slate-700",children:"|"}),f.jsx("span",{className:"text-blue-400",children:e.email}),f.jsx("button",{onClick:()=>mp(ma),className:"text-red-400 hover:text-red-300 underline lowercase ml-2",children:"logout"})]})]}),f.jsxs("div",{className:"flex flex-wrap gap-3 w-full md:w-auto",children:[f.jsx("button",{onClick:()=>ce(!X),className:`flex-1 md:flex-none px-5 py-3 rounded-xl border transition font-bold text-sm flex items-center justify-center gap-2 ${X?"bg-purple-600 text-white border-purple-500 shadow-lg shadow-purple-900/20":"bg-purple-500/10 text-purple-400 border-purple-500/20 hover:bg-purple-500 hover:text-white"}`,children:X?"Close Import":"{ } Import JSON"}),f.jsx("button",{onClick:()=>Xe("draft"),disabled:q,className:"flex-1 md:flex-none px-6 py-3 rounded-xl bg-slate-800 text-slate-300 border border-white/10 hover:bg-slate-700 transition font-bold text-sm hover:scale-[1.02]",children:" Save Draft"}),f.jsx("button",{onClick:()=>Xe("published"),disabled:q,className:"flex-1 md:flex-none px-8 py-3 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 hover:to-indigo-500 text-white font-bold transition text-sm shadow-xl shadow-blue-900/30 flex items-center justify-center gap-2 hover:scale-[1.05]",children:q?f.jsx("span",{className:"animate-spin text-lg",children:""}):f.jsx("span",{children:" Publish Now"})})]})]}),f.jsx("div",{className:`transition-all duration-500 ease-in-out overflow-hidden ${X?"max-h-[800px] mb-10 opacity-100":"max-h-0 opacity-0"}`,children:f.jsxs("div",{className:"max-w-7xl mx-auto bg-[#131b2e] border border-purple-500/30 rounded-[2rem] p-8 shadow-2xl relative",children:[f.jsx("div",{className:"flex justify-between items-center mb-6",children:f.jsxs("div",{children:[f.jsxs("h3",{className:"text-purple-400 font-bold flex items-center gap-2 text-xl",children:[f.jsx("span",{className:"text-2xl",children:""})," AI / JSON Import"]}),f.jsx("p",{className:"text-slate-500 text-xs mt-1",children:"Paste your AI-generated JSON here to auto-fill all fields."})]})}),f.jsx("textarea",{value:xe,onChange:_e=>re(_e.target.value),placeholder:'{ "title": "...", "content": "..." }',className:"w-full bg-black/30 border border-slate-700 rounded-2xl p-6 text-xs font-mono text-green-400 focus:border-purple-500 outline-none h-48 resize-none shadow-inner"}),f.jsxs("button",{onClick:We,className:"mt-6 bg-purple-600 hover:bg-purple-500 text-white px-8 py-4 rounded-xl text-sm font-bold w-full transition shadow-lg flex items-center justify-center gap-2",children:[f.jsx("span",{children:""})," Process & Fill Data"]})]})}),f.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[f.jsxs("div",{className:"bg-[#1e293b]/50 p-8 rounded-[2rem] border border-white/5 shadow-sm group focus-within:border-blue-500/50 transition duration-500",children:[f.jsx("input",{type:"text",placeholder:"Enter an epic headline...",className:"w-full bg-transparent text-4xl md:text-5xl font-black placeholder-slate-700 border-none focus:ring-0 outline-none text-white mb-6 leading-tight",value:T,onChange:_e=>N(_e.target.value)}),f.jsxs("div",{className:"flex items-center gap-3 text-sm text-slate-500 bg-black/20 p-4 rounded-2xl border border-white/5",children:[f.jsx("span",{className:"text-slate-600 font-mono select-none",children:"/blog/"}),f.jsx("input",{type:"text",value:I,onChange:_e=>C(_e.target.value),className:"bg-transparent text-blue-400 outline-none flex-1 font-mono text-sm font-bold",placeholder:"post-url-slug"})]})]}),f.jsxs("div",{className:"rounded-[2rem] shadow-2xl relative group",children:[f.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-blue-600 via-purple-600 to-blue-600 rounded-[2rem] blur opacity-10 group-hover:opacity-30 transition duration-1000"}),f.jsxs("div",{className:"relative bg-white rounded-[2rem] overflow-hidden text-black min-h-[700px]",children:[f.jsx(em,{theme:"snow",value:U,onChange:K,modules:Te,formats:Se,placeholder:"Start writing your masterpiece..."}),f.jsxs("div",{className:"absolute bottom-0 left-0 w-full bg-slate-50 border-t py-3 px-8 text-xs font-bold text-slate-400 flex justify-between items-center z-10",children:[f.jsxs("div",{className:"flex gap-6",children:[f.jsxs("span",{className:"flex items-center gap-1",children:[" ",et," Words"]}),f.jsxs("span",{className:"flex items-center gap-1",children:[" ",dt," Min Read"]})]}),f.jsx("span",{className:"text-green-700 bg-green-100 px-3 py-1 rounded-full flex items-center gap-1",children:" Auto-saved"})]})]})]})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-[#1e293b] p-6 rounded-[2rem] border border-white/5 shadow-xl hover:shadow-2xl transition duration-500",children:[f.jsxs("h3",{className:"font-bold text-white mb-5 flex items-center gap-2 text-xs uppercase tracking-widest opacity-70",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500 animate-pulse"})," Publishing"]}),f.jsxs("div",{className:"space-y-5",children:[f.jsxs("div",{className:"bg-black/20 p-4 rounded-2xl border border-white/5",children:[f.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2",children:"Current Status"}),f.jsxs("select",{value:P,onChange:_e=>V(_e.target.value),className:`w-full bg-transparent border-none p-0 text-lg font-black outline-none cursor-pointer ${P==="published"?"text-green-400":"text-amber-400"}`,children:[f.jsx("option",{value:"draft",children:"Draft Mode"}),f.jsx("option",{value:"published",children:"Live Public"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2",children:"Author Alias"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"text",value:A,onChange:_e=>D(_e.target.value),className:"w-full bg-black/30 border border-white/10 rounded-xl p-3 pl-10 text-sm text-white focus:border-blue-500 outline-none transition"}),f.jsx("span",{className:"absolute left-3 top-3.5 text-slate-500",children:""})]})]})]})]}),f.jsxs("div",{className:"bg-[#1e293b] p-6 rounded-[2rem] border border-white/5 shadow-xl hover:shadow-2xl transition duration-500",children:[f.jsxs("h3",{className:"font-bold text-white mb-5 flex items-center gap-2 text-xs uppercase tracking-widest opacity-70",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-purple-500"})," Organization"]}),f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2",children:"Category"}),f.jsxs("div",{className:"relative",children:[f.jsxs("select",{value:Z,onChange:_e=>ve(_e.target.value),className:"w-full bg-black/30 border border-white/10 rounded-xl p-3 text-sm focus:border-blue-500 outline-none text-slate-300 appearance-none font-bold",children:[f.jsx("option",{value:"Analysis",children:" Tactical Analysis"}),f.jsx("option",{value:"Prediction",children:" Match Prediction"}),f.jsx("option",{value:"News",children:" Breaking News"}),f.jsx("option",{value:"Strategy",children:" Betting Strategy"}),f.jsx("option",{value:"Crypto",children:" Crypto & Finance"})]}),f.jsx("div",{className:"absolute right-3 top-3.5 pointer-events-none text-slate-500",children:""})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2",children:"Tags"}),f.jsx("div",{className:"flex flex-wrap gap-2 mb-3 min-h-[30px]",children:R.map((_e,mt)=>f.jsxs("span",{className:"bg-blue-500/10 text-blue-400 text-xs font-bold px-2 py-1 rounded-lg flex items-center gap-1 border border-blue-500/20 group hover:bg-blue-500 hover:text-white transition",children:["#",_e," ",f.jsx("button",{onClick:()=>Ye(_e),className:"ml-1 opacity-50 hover:opacity-100",children:""})]},mt))}),f.jsx("input",{type:"text",value:de,onChange:_e=>z(_e.target.value),onKeyDown:Me,placeholder:"+ Add tag & Enter",className:"w-full bg-black/30 border border-white/10 rounded-xl p-3 text-sm focus:border-blue-500 outline-none text-white transition placeholder-slate-600"})]})]}),f.jsxs("div",{className:"bg-[#1e293b] p-6 rounded-[2rem] border border-white/5 shadow-xl hover:shadow-2xl transition duration-500",children:[f.jsxs("h3",{className:"font-bold text-white mb-5 flex items-center gap-2 text-xs uppercase tracking-widest opacity-70",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-pink-500"})," Visuals & SEO"]}),f.jsxs("div",{className:"mb-5",children:[f.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2",children:"Featured Image"}),f.jsx("div",{className:"flex gap-2 mb-3",children:f.jsx("input",{type:"text",placeholder:"Paste Image URL...",className:"flex-1 bg-black/30 border border-white/10 rounded-xl p-3 text-sm focus:border-blue-500 outline-none text-slate-300",value:B,onChange:_e=>$(_e.target.value)})}),f.jsx("div",{className:"aspect-video bg-black/50 rounded-2xl border-2 border-dashed border-white/10 flex items-center justify-center overflow-hidden relative group hover:border-blue-500/30 transition",children:B?f.jsxs(f.Fragment,{children:[f.jsx("img",{src:B,alt:"Preview",className:"w-full h-full object-cover transition duration-500 group-hover:scale-105"}),f.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition flex items-center justify-center text-xs font-bold",children:"Preview Mode"})]}):f.jsxs("div",{className:"text-center opacity-30",children:[f.jsx("span",{className:"text-4xl block mb-2 grayscale",children:""}),f.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:"No Image"})]})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-[10px] font-bold text-slate-500 uppercase mb-2",children:"SEO Description"}),f.jsx("textarea",{value:L,onChange:_e=>k(_e.target.value),className:"w-full bg-black/30 border border-white/10 rounded-xl p-4 text-xs focus:border-blue-500 outline-none h-28 resize-none text-slate-300 leading-relaxed",placeholder:"Write a catchy summary for Google & Social Media..."}),f.jsxs("div",{className:"flex justify-between items-center mt-2",children:[f.jsx("span",{className:"text-[10px] text-slate-600",children:"Optimal: 150-160 chars"}),f.jsxs("div",{className:`text-[10px] font-bold ${L.length>160?"text-red-500":"text-slate-500"}`,children:[L.length,"/160"]})]})]})]})]})]})]})},dA=[{id:"safe",label:" Safe Entry",matches:2,range:[1.2,1.55],color:"from-emerald-500 to-green-600",desc:"High probability favorites. Best for building capital steadily."},{id:"medium",label:" Balanced",matches:3,range:[1.6,2.1],color:"from-blue-500 to-indigo-600",desc:"Strategic mix of Winners & Over 2.5 Goals."},{id:"high",label:" High Roller",matches:4,range:[2.2,4],color:"from-orange-500 to-red-600",desc:"Underdogs, Draws & Combos. Massive jackpot potential."}],mB=()=>{const n=Di(),[e,t]=H.useState(100),[r,i]=H.useState("medium"),[o,c]=H.useState(!1),[h,d]=H.useState(""),[p,b]=H.useState(null),[v,x]=H.useState(0),T=async()=>{try{const C=new Date().toISOString().split("T")[0];return(await(await fetch(`https://api.sofascore.com/api/v1/sport/football/scheduled-events/${C}`)).json()).events.filter(B=>{var $;return(($=B.tournament.uniqueTournament)==null?void 0:$.id)<200}).slice(0,10)}catch{return console.warn("Scraper failed, falling back to mock."),[]}},N=async()=>{c(!0),b(null);try{d(" Fetching Real-Time Market Data...");const C=["soccer_epl","soccer_spain_la_liga","soccer_uefa_champs_league","soccer_italy_serie_a"];let U=[];try{(await Promise.all(C.map(V=>Qy(V).catch(()=>[])))).forEach(V=>{V&&U.push(...V)})}catch{console.log("API Error")}if(U.length<5){d(" API Busy. Activating Sofascore Scraper...");const V=(await T()).map(A=>({id:A.id?String(A.id):Math.random().toString(),sport_key:"soccer_mixed",sport_title:A.tournament.name,home_team:A.homeTeam.name,away_team:A.awayTeam.name,commence_time:new Date(A.startTimestamp*1e3).toISOString(),bookmakers:[{key:"mock_bookmaker",title:"Market Avg",last_update:new Date().toISOString(),markets:[{key:"h2h",outcomes:[{name:A.homeTeam.name,price:Number((1.5+Math.random()).toFixed(2))},{name:A.awayTeam.name,price:Number((2.5+Math.random()).toFixed(2))}]}]}]}));U=[...U,...V]}if(U.length===0)throw new Error("No matches found.");d(" Filtering by Risk Profile...");const K=dA.find(P=>P.id===r),B=U.map(P=>{var D,R,le,de;const A=(((de=(le=(R=(D=P.bookmakers)==null?void 0:D[0])==null?void 0:R.markets)==null?void 0:le[0])==null?void 0:de.outcomes)||[]).find(z=>z.price>=K.range[0]&&z.price<=K.range[1]);return A?{...P,selection:A.name,odds:A.price}:null}).filter(Boolean);if(B.length<K.matches){alert("Market tight today. Try a different risk level."),c(!1);return}const $=B.sort(()=>.5-Math.random()).slice(0,K.matches);d(" Gemini AI Analyzing Matchups...");const Z=$.map(P=>({id:P.id||Math.random().toString(),sport_key:P.sport_key||"soccer_generic",sport_title:P.sport_title,home_team:P.home_team,away_team:P.away_team,commence_time:P.commence_time,bookmakers:P.bookmakers}));let ve;try{ve=await Xy(Z,{})}catch{console.warn("Gemini unavailable, using algorithm fallback.")}const L=$.map((P,V)=>{let A="Statistical value detected based on recent form.",D="Match Winner";return P.selection==="Draw"?D="Direct Draw":P.selection.includes("Over")&&(D="Total Goals"),{...P,marketType:D,aiReason:A,confidence:K.id==="safe"?(85+Math.random()*10).toFixed(0):(60+Math.random()*20).toFixed(0)}}),k=L.reduce((P,V)=>P*V.odds,1);b(L),x(k)}catch(C){console.error(C),alert("System overloaded. Please try again in 10 seconds.")}finally{c(!1)}},I=(e*v).toFixed(2);return f.jsxs("div",{className:"min-h-screen bg-[#020617] text-white font-sans p-4 md:p-12 relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 left-0 w-full h-[500px] bg-blue-900/10 blur-[150px] pointer-events-none"}),f.jsx("header",{className:"flex justify-between items-center mb-12 relative z-10",children:f.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",onClick:()=>n("/"),children:[f.jsx("div",{className:"w-12 h-12 bg-white/5 rounded-2xl flex items-center justify-center border border-white/10 hover:bg-white/10 transition backdrop-blur-md",children:""}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-3xl font-black uppercase tracking-tighter italic",children:["Smart ",f.jsx("span",{className:"text-blue-500",children:"Builder"})]}),f.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"AI-Powered Portfolio Manager"})]})]})}),f.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-16 relative z-10",children:[f.jsxs("div",{className:"space-y-8 animate-in slide-in-from-left-10 duration-700",children:[f.jsxs("div",{className:"bg-[#0f172a]/60 p-8 rounded-[2.5rem] border border-white/5 shadow-2xl backdrop-blur-xl group hover:border-blue-500/30 transition-all",children:[f.jsx("label",{className:"block text-xs font-black text-blue-400 uppercase tracking-[0.2em] mb-4",children:"Investment Capital ($)"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-6 top-1/2 -translate-y-1/2 text-3xl text-slate-500 font-light",children:"$"}),f.jsx("input",{type:"number",value:e,onChange:C=>t(Number(C.target.value)),className:"w-full bg-[#020617] border border-white/10 rounded-2xl py-6 pl-12 pr-6 text-5xl font-black text-white focus:border-blue-500 focus:outline-none transition placeholder-slate-700"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-black text-slate-500 uppercase tracking-[0.2em] mb-6 px-2",children:"Select Risk Profile"}),f.jsx("div",{className:"grid gap-4",children:dA.map(C=>f.jsxs("button",{onClick:()=>i(C.id),className:`group relative p-6 rounded-3xl border-2 transition-all duration-300 text-left overflow-hidden ${r===C.id?"bg-[#0f172a] border-blue-500 shadow-[0_0_40px_rgba(59,130,246,0.15)]":"bg-[#0f172a]/30 border-transparent hover:bg-[#0f172a] hover:border-white/10"}`,children:[r===C.id&&f.jsx("div",{className:`absolute left-0 top-0 w-2 h-full bg-gradient-to-b ${C.color}`}),f.jsxs("div",{className:"flex justify-between items-center mb-2 pl-2",children:[f.jsx("h3",{className:"text-xl font-black text-white uppercase italic",children:C.label}),f.jsxs("span",{className:`text-[10px] font-bold px-3 py-1 rounded-full border ${r===C.id?"bg-white text-black border-white":"bg-white/5 text-slate-500 border-white/5"}`,children:[C.matches," Matches"]})]}),f.jsx("p",{className:"text-xs text-slate-400 font-medium pl-2 leading-relaxed opacity-80",children:C.desc})]},C.id))})]}),f.jsx("button",{onClick:N,disabled:o,className:"w-full py-6 rounded-3xl bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 text-white font-black uppercase tracking-[0.2em] shadow-2xl shadow-blue-900/30 transition-all transform hover:scale-[1.01] active:scale-95 flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed group",children:o?f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(UA,{className:"animate-spin w-5 h-5"}),f.jsx("span",{className:"text-sm",children:h})]}):f.jsxs(f.Fragment,{children:[f.jsx(BA,{className:"text-yellow-400 fill-yellow-400 group-hover:scale-110 transition"}),"Generate Optimized Slip"]})})]}),f.jsx("div",{className:"relative flex items-center justify-center",children:p?f.jsxs("div",{className:"w-full relative sticky top-10 animate-in slide-in-from-bottom-10 duration-700",children:[f.jsx("div",{className:"absolute -inset-1 bg-gradient-to-b from-blue-500 via-purple-500 to-blue-500 rounded-[2.5rem] blur opacity-30"}),f.jsxs("div",{className:"relative bg-[#0B0F19] rounded-[2.5rem] border border-white/10 overflow-hidden shadow-2xl",children:[f.jsxs("div",{className:"bg-[#020617] p-8 border-b border-white/5 flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"w-12 h-12 bg-white rounded-xl flex items-center justify-center text-black shadow-lg",children:f.jsx(qA,{size:24})}),f.jsxs("div",{children:[f.jsx("span",{className:"block text-[10px] font-bold text-slate-500 uppercase tracking-widest",children:"Yakuza AI"}),f.jsx("span",{className:"font-black text-white text-lg tracking-tight uppercase",children:"Daily Slip"})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-slate-500 mb-1",children:"Total Odds"}),f.jsxs("p",{className:"text-4xl font-black text-blue-500",children:["@",v.toFixed(2)]})]})]}),f.jsx("div",{className:"p-6 space-y-4 max-h-[450px] overflow-y-auto custom-scrollbar",children:p.map((C,U)=>f.jsx("div",{className:"relative pl-4 border-l-4 border-blue-500 bg-[#161b2c] p-4 rounded-r-xl group hover:bg-[#1e2538] transition-colors",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"max-w-[75%]",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:"text-[9px] bg-white/10 px-1.5 py-0.5 rounded text-slate-300 font-bold uppercase",children:C.sport_title||"League"}),f.jsxs("span",{className:"text-[9px] text-green-400 font-bold flex items-center gap-1",children:[f.jsx(VA,{size:10})," ",C.confidence,"% Conf."]})]}),f.jsxs("p",{className:"text-sm font-bold text-white leading-tight mb-2",children:[C.home_team," vs ",C.away_team]}),f.jsx("div",{className:"bg-black/30 p-2 rounded-lg border border-white/5 mb-2",children:f.jsxs("p",{className:"text-[10px] text-slate-400 italic",children:['"',C.aiReason,'"']})}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-[10px] text-blue-300 font-bold uppercase tracking-wider",children:[C.marketType,":"]}),f.jsx("span",{className:"text-xs font-black text-white bg-blue-500/20 px-2 py-0.5 rounded border border-blue-500/30",children:C.selection})]})]}),f.jsxs("div",{className:"flex flex-col items-center justify-center bg-black/40 w-14 h-14 rounded-xl border border-white/5 group-hover:border-blue-500/50 transition-colors",children:[f.jsx("span",{className:"text-[8px] text-slate-500 uppercase font-bold",children:"Odds"}),f.jsx("span",{className:"text-white font-black text-lg",children:Number(C.odds).toFixed(2)})]})]})},U))}),f.jsxs("div",{className:"bg-[#020617] p-8 border-t border-white/10",children:[f.jsxs("div",{className:"flex justify-between items-center mb-3",children:[f.jsx("span",{className:"text-xs font-bold text-slate-500 uppercase tracking-widest",children:"Wager Amount"}),f.jsxs("span",{className:"font-mono font-bold text-white text-xl",children:["$",e]})]}),f.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-white/10",children:[f.jsx("span",{className:"text-sm font-black text-green-500 uppercase tracking-widest",children:"Potential Return"}),f.jsxs("span",{className:"text-4xl font-black text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-emerald-600",children:["$",I]})]}),f.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-[10px] text-slate-500",children:[f.jsx(sj,{size:12,className:"text-yellow-500"}),"Odds are dynamic. Confirm on bookmaker before placing."]})]})]})]}):f.jsxs("div",{className:"h-full w-full flex flex-col items-center justify-center p-12 text-center opacity-40 border-2 border-dashed border-white/10 rounded-[3rem] bg-[#0B0F19]/50 min-h-[500px]",children:[f.jsx("span",{className:"text-7xl mb-6 grayscale opacity-50",children:""}),f.jsx("h3",{className:"text-2xl font-black text-white mb-3 uppercase tracking-tight",children:"System Ready"}),f.jsx("p",{className:"text-sm text-slate-400 max-w-xs mx-auto leading-relaxed font-medium",children:"Configure your capital and risk parameters on the left to generate an AI-optimized betting slip."})]})})]})]})},gB="YAKUZA88",L0=[{id:"1x2",name:"Match Winner",label:"Full Time Result",risk:"medium"},{id:"ht_goals",name:"1st Half Goal",label:"Over 0.5 Goals (HT)",risk:"safe"},{id:"goals_over",name:"Over 2.5 Goals",label:"Total Goals",risk:"medium"},{id:"btts",name:"BTTS",label:"Both Teams to Score",risk:"high"},{id:"dc",name:"Double Chance",label:"Win or Draw",risk:"safe"},{id:"ht_ft",name:"HT/FT",label:"Half Time / Full Time",risk:"high"},{id:"corners",name:"Corners",label:"Over 8.5 Corners",risk:"medium"},{id:"cards",name:"Cards",label:"Over 3.5 Cards",risk:"high"},{id:"draw_no_bet",name:"Draw No Bet",label:"Safety Net",risk:"safe"},{id:"clean_sheet",name:"Clean Sheet",label:"Defense Masterclass",risk:"medium"},{id:"handicap",name:"Asian Handicap",label:"-1.5 Goal Handicap",risk:"high"},{id:"multi_goals",name:"Multi Goals",label:"1-3 Goals Range",risk:"medium"}],yB=()=>{const n=Di(),[e,t]=H.useState(1),[r,i]=H.useState(500),[o,c]=H.useState([]),[h,d]=H.useState("medium"),[p,b]=H.useState(!1),[v,x]=H.useState(""),[T,N]=H.useState(null),[I,C]=H.useState(null),U=$=>{o.includes($)?c(Z=>Z.filter(ve=>ve!==$)):o.length<3&&c(Z=>[...Z,$])},K=async $=>[{home:"Liverpool",away:"Burnley",league:"Premier League",time:"16:00"},{home:"Real Madrid",away:"Almeria",league:"LaLiga",time:"21:00"},{home:"Bayern Munich",away:"Werder Bremen",league:"Bundesliga",time:"15:30"},{home:"Juventus",away:"Lecce",league:"Serie A",time:"20:45"},{home:"PSG",away:"Lens",league:"Ligue 1",time:"19:00"},{home:"Benfica",away:"Boavista",league:"Primeira Liga",time:"18:00"},{home:"Ajax",away:"RKC Waalwijk",league:"Eredivisie",time:"14:30"},{home:"Man City",away:"Brentford",league:"Premier League",time:"20:00"},{home:"Barcelona",away:"Betis",league:"LaLiga",time:"18:30"},{home:"Inter Milan",away:"Napoli",league:"Serie A",time:"20:45"},{home:"Arsenal",away:"Crystal Palace",league:"Premier League",time:"13:30"},{home:"Dortmund",away:"Mainz",league:"Bundesliga",time:"15:30"}].sort(()=>.5-Math.random()).slice(0,5),B=async()=>{b(!0),x("Initializing Prediction Engine...");try{const $=new Date,Z=[];let ve=2,L=[];h==="safe"?(ve=2,L=[6,0]):h==="medium"?(ve=3,L=[2,3,6,0]):(ve=4,L=[2,3,4,5,6,0]);let k=0;for(let D=0;D<30;D++){const R=new Date($);R.setDate($.getDate()+D),L.includes(R.getDay())&&k++}const P=Math.floor(r/(k||1));let V=0,A=0;for(let D=0;D<30;D++){const R=new Date($);R.setDate($.getDate()+D);const le=R.toISOString().split("T")[0],de=R.getDay();if(L.includes(de)){D%5===0&&x(`Analyzing Odds for Week ${Math.floor(D/7)+1}...`);const ce=(await K(le)).slice(0,ve).map(oe=>{let he=1.5,ye="";const Te=o.length>0?o[Math.floor(Math.random()*o.length)]:L0[Math.floor(Math.random()*3)].id,Se=L0.find(Me=>Me.id===Te),Ne=(Se==null?void 0:Se.name)||"Match Winner";switch(Te){case"1x2":ye=`${oe.home} Win`,he=1.45+Math.random()*.4;break;case"ht_goals":ye="Over 0.5 (1st Half)",he=1.32+Math.random()*.15;break;case"goals_over":ye="Over 2.5 Goals",he=1.65+Math.random()*.35;break;case"btts":ye="Yes (BTTS)",he=1.75+Math.random()*.25;break;case"dc":ye=`1X (${oe.home}/Draw)`,he=1.18+Math.random()*.12;break;case"corners":ye="Over 9.5 Corners",he=1.85;break;default:ye=`${oe.home} Win`,he=1.5}return{teams:`${oe.home} vs ${oe.away}`,league:oe.league,time:oe.time,selection:ye,odds:parseFloat(he.toFixed(2)),market:Ne}}),xe=ce.reduce((oe,he)=>oe*he.odds,1),re=Math.random()*.4-.2,q=Math.floor(P*(1+re)),W=q*xe;V+=q,A+=W,Z.push({day:R.getDate(),dateLabel:R.toLocaleDateString("en-GB",{weekday:"short",month:"short",day:"numeric"}),active:!0,slip:{matches:ce,totalOdds:xe.toFixed(2),stake:q,potentialReturn:W.toFixed(2),type:h==="safe"?"Safe Double":h==="medium"?"Power Treble":"Yakuza Acca"}})}else Z.push({day:R.getDate(),dateLabel:R.toLocaleDateString("en-GB",{weekday:"short",month:"short",day:"numeric"}),active:!1})}N({days:Z,totalInvested:V,projectedReturn:(A-V).toFixed(0),roi:V>0?((A-V)/V*100).toFixed(0):0}),t(4)}catch($){console.error($)}finally{b(!1)}};return f.jsxs("div",{className:"min-h-screen bg-[#020617] text-white font-sans p-6 md:p-12 relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 left-0 w-[500px] h-[500px] bg-blue-900/20 blur-[150px] pointer-events-none"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-[500px] h-[500px] bg-purple-900/20 blur-[150px] pointer-events-none"}),f.jsx("header",{className:"flex items-center justify-between mb-8 relative z-10",children:f.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",onClick:()=>n("/"),children:[f.jsx("div",{className:"w-10 h-10 bg-white/5 rounded-xl flex items-center justify-center border border-white/10 hover:bg-white/10 transition",children:""}),f.jsxs("div",{children:[f.jsxs("h1",{className:"text-2xl font-black uppercase italic tracking-tighter",children:["Smart ",f.jsx("span",{className:"text-purple-500",children:"Manager"})]}),f.jsx("p",{className:"text-[10px] text-slate-400",children:"Precision Engine  Version 2.1"})]})]})}),f.jsxs("div",{className:"max-w-6xl mx-auto relative z-10",children:[e===1&&f.jsxs("div",{className:"animate-in fade-in zoom-in duration-500",children:[f.jsxs("div",{className:"text-center mb-10",children:[f.jsx("h2",{className:"text-4xl font-black mb-2",children:"Define Your Capital"}),f.jsx("p",{className:"text-slate-400",children:"Total monthly budget for investment."})]}),f.jsxs("div",{className:"bg-[#0f172a]/80 p-10 rounded-[2.5rem] border border-white/5 shadow-2xl max-w-lg mx-auto text-center",children:[f.jsxs("div",{className:"relative mb-8 inline-block w-full",children:[f.jsx("span",{className:"absolute left-10 top-1/2 -translate-y-1/2 text-3xl text-slate-500",children:"$"}),f.jsx("input",{type:"number",value:r,onChange:$=>i(Number($.target.value)),className:"w-full bg-[#020617] border border-white/10 rounded-2xl py-6 pl-16 text-5xl font-black text-white focus:border-purple-500 outline-none transition text-center"})]}),f.jsx("button",{onClick:()=>t(2),className:"w-full py-4 rounded-xl bg-white text-black font-black uppercase tracking-widest hover:scale-[1.02] transition-transform",children:"Next Step "})]})]}),e===2&&f.jsxs("div",{className:"animate-in fade-in slide-in-from-right-10 duration-500",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("h2",{className:"text-3xl font-black mb-2",children:"Preferred Markets"}),f.jsx("p",{className:"text-slate-400",children:"Select 3 strategies (AI will rotate them)."})]}),f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8 max-w-4xl mx-auto",children:L0.map($=>{const Z=o.includes($.id);return f.jsxs("button",{onClick:()=>U($.id),className:`p-5 rounded-2xl border transition-all text-left group ${Z?"bg-purple-600/20 border-purple-500":"bg-[#0f172a]/60 border-white/5"}`,children:[f.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center mb-3 ${Z?"bg-purple-500 text-white":"bg-white/5 text-slate-500"}`,children:Z?f.jsx(UO,{size:16}):f.jsx(ZO,{size:16})}),f.jsx("h3",{className:`font-bold text-sm ${Z?"text-white":"text-slate-300"}`,children:$.name}),f.jsx("p",{className:"text-[10px] text-slate-500 mt-1",children:$.label})]},$.id)})}),f.jsx("div",{className:"flex justify-center",children:f.jsx("button",{onClick:()=>t(3),disabled:o.length===0,className:"px-12 py-4 rounded-xl bg-white text-black font-black uppercase tracking-widest hover:scale-[1.02] transition disabled:opacity-50",children:"Continue"})})]}),e===3&&f.jsxs("div",{className:"animate-in fade-in slide-in-from-right-10 duration-500 max-w-4xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-10",children:[f.jsx("h2",{className:"text-3xl font-black mb-2",children:"Select Strategy"}),f.jsx("p",{className:"text-slate-400",children:"Strategy determines betting frequency and slip size."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[f.jsxs("button",{onClick:()=>d("safe"),className:`p-6 rounded-3xl border-2 transition-all text-left ${h==="safe"?"bg-emerald-500/10 border-emerald-500":"bg-[#0f172a] border-white/5 opacity-60 hover:opacity-100"}`,children:[f.jsx($O,{className:`w-8 h-8 mb-4 ${h==="safe"?"text-emerald-500":"text-slate-500"}`}),f.jsx("h3",{className:"text-xl font-black text-white mb-2",children:"Safe Sniper"}),f.jsxs("p",{className:"text-xs text-slate-400 leading-relaxed",children:["Weekends Only.",f.jsx("br",{}),"2 Matches per Slip.",f.jsx("br",{}),"Focus: HT Goals & DC."]})]}),f.jsxs("button",{onClick:()=>d("medium"),className:`p-6 rounded-3xl border-2 transition-all text-left ${h==="medium"?"bg-blue-500/10 border-blue-500":"bg-[#0f172a] border-white/5 opacity-60 hover:opacity-100"}`,children:[f.jsx(nj,{className:`w-8 h-8 mb-4 ${h==="medium"?"text-blue-500":"text-slate-500"}`}),f.jsx("h3",{className:"text-xl font-black text-white mb-2",children:"Balanced Combo"}),f.jsxs("p",{className:"text-xs text-slate-400 leading-relaxed",children:["Mid-Week & Weekends.",f.jsx("br",{}),"3 Matches per Slip.",f.jsx("br",{}),"Focus: Winners & Over 2.5."]})]}),f.jsxs("button",{onClick:()=>d("high"),className:`p-6 rounded-3xl border-2 transition-all text-left ${h==="high"?"bg-purple-500/10 border-purple-500":"bg-[#0f172a] border-white/5 opacity-60 hover:opacity-100"}`,children:[f.jsx(VA,{className:`w-8 h-8 mb-4 ${h==="high"?"text-purple-500":"text-slate-500"}`}),f.jsx("h3",{className:"text-xl font-black text-white mb-2",children:"Yakuza High"}),f.jsxs("p",{className:"text-xs text-slate-400 leading-relaxed",children:["Every Matchday.",f.jsx("br",{}),"4 Matches per Slip.",f.jsx("br",{}),"Focus: BTTS & Handicap."]})]})]}),f.jsx("button",{onClick:B,disabled:p,className:"w-full py-6 rounded-2xl bg-gradient-to-r from-purple-600 to-blue-600 text-white font-black uppercase tracking-[0.2em] shadow-2xl hover:brightness-110 transition-all flex items-center justify-center gap-3",children:p?f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(UA,{className:"animate-spin"}),f.jsx("span",{children:v})]}):f.jsxs(f.Fragment,{children:["Scrape & Build Roadmap ",f.jsx(PO,{})]})})]}),e===4&&T&&f.jsxs("div",{className:"animate-in slide-in-from-bottom-20 duration-700",children:[f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[f.jsxs("div",{className:"bg-[#0f172a] p-4 rounded-2xl border border-white/5 text-center",children:[f.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold",children:"Total Budget"}),f.jsxs("p",{className:"text-xl font-black text-white",children:["$",r]})]}),f.jsxs("div",{className:"bg-[#0f172a] p-4 rounded-2xl border border-white/5 text-center",children:[f.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold",children:"Planned Slips"}),f.jsx("p",{className:"text-xl font-black text-blue-400",children:T.days.filter($=>$.active).length})]}),f.jsxs("div",{className:"bg-[#0f172a] p-4 rounded-2xl border border-white/5 text-center",children:[f.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold",children:"Invested"}),f.jsxs("p",{className:"text-xl font-black text-purple-400",children:["$",T.totalInvested]})]}),f.jsxs("div",{className:"bg-[#0f172a] p-4 rounded-2xl border border-white/5 text-center bg-green-900/10 border-green-500/20",children:[f.jsx("p",{className:"text-[10px] text-green-500 uppercase font-bold",children:"Proj. Net Profit"}),f.jsxs("p",{className:"text-xl font-black text-green-400",children:["+$",T.projectedReturn]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[f.jsxs("div",{className:"lg:col-span-2 bg-[#0f172a] p-6 rounded-[2rem] border border-white/5 shadow-2xl",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("h3",{className:"font-black text-xl flex items-center gap-2",children:[f.jsx(kO,{className:"text-purple-500"})," Action Calendar"]}),f.jsxs("div",{className:"flex gap-4 text-[10px] uppercase font-bold text-slate-500",children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-green-500"})," Ticket"]}),f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-slate-700"})," Rest"]})]})]}),f.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map($=>f.jsx("div",{className:"text-center text-[10px] text-slate-500 font-bold uppercase py-2",children:$},$)),Array.from({length:new Date().getDay()}).map(($,Z)=>f.jsx("div",{},`e-${Z}`)),T.days.map($=>f.jsxs("button",{onClick:()=>$.active&&C($),disabled:!$.active,className:`aspect-square rounded-xl flex flex-col items-center justify-center text-xs font-bold transition-all relative
                                        ${$.active?"bg-green-600/20 text-green-400 border border-green-500/30 hover:bg-green-500 hover:text-white":"bg-white/5 text-slate-600 opacity-50"}
                                        ${(I==null?void 0:I.dateLabel)===$.dateLabel?"ring-2 ring-white bg-green-500 text-white opacity-100":""}`,children:[f.jsx("span",{children:$.day}),$.active&&f.jsx("span",{className:"w-1 h-1 bg-current rounded-full mt-1"})]},$.dateLabel))]})]}),f.jsx("div",{className:"bg-[#0f172a] p-0 rounded-[2rem] border border-white/5 shadow-2xl relative overflow-hidden flex flex-col min-h-[500px]",children:I?f.jsxs("div",{className:"animate-in fade-in slide-in-from-right-10 duration-300 h-full flex flex-col bg-[#111827]",children:[f.jsxs("div",{className:"bg-gradient-to-r from-purple-900 via-indigo-900 to-slate-900 p-6 border-b border-white/10 flex justify-between items-center relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-white/5 blur-2xl rounded-full"}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(lw,{size:14,className:"text-purple-300"}),f.jsx("p",{className:"text-[10px] font-bold text-purple-300 uppercase tracking-widest",children:"YAKUZA COMBO"})]}),f.jsx("h3",{className:"text-xl font-black text-white",children:I.dateLabel}),f.jsx("p",{className:"text-[10px] text-slate-400 font-mono mt-1",children:I.slip.type})]}),f.jsx("div",{className:"bg-yellow-500/20 p-2 rounded-xl border border-yellow-500/30",children:f.jsx(qA,{className:"text-yellow-400 w-5 h-5"})})]}),f.jsx("div",{className:"p-6 space-y-4 flex-grow overflow-y-auto custom-scrollbar",children:I.slip.matches.map(($,Z)=>f.jsx("div",{className:"relative pl-4 border-l-4 border-purple-500 bg-white/5 p-3 rounded-r-xl group hover:bg-white/10 transition-colors",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"max-w-[75%]",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("span",{className:"text-[9px] bg-white/10 px-1.5 py-0.5 rounded text-slate-300 font-bold uppercase truncate max-w-[100px]",children:$.league}),f.jsx("span",{className:"text-[9px] text-slate-500 font-mono",children:$.time})]}),f.jsx("p",{className:"text-sm font-bold text-white leading-tight mb-2",children:$.teams}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("span",{className:"text-[10px] text-purple-300 font-bold uppercase tracking-wider",children:[$.market,":"]}),f.jsx("span",{className:"text-xs font-black text-white bg-purple-500/20 px-2 py-0.5 rounded border border-purple-500/30",children:$.selection})]})]}),f.jsxs("div",{className:"flex flex-col items-center justify-center bg-black/40 w-12 h-12 rounded-lg border border-white/5 group-hover:border-purple-500/50 transition-colors",children:[f.jsx("span",{className:"text-[8px] text-slate-500 uppercase",children:"Odds"}),f.jsx("span",{className:"text-green-400 font-black text-sm",children:$.odds.toFixed(2)})]})]})},Z))}),f.jsxs("div",{className:"bg-black/40 p-6 border-t border-white/10 space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center text-xs bg-white/5 p-2 rounded-lg border border-white/5",children:[f.jsxs("span",{className:"text-slate-400 flex items-center gap-2",children:[f.jsx(zO,{size:12,className:"text-orange-500"})," Promo Code:"]}),f.jsx("span",{className:"font-mono text-white tracking-widest font-bold text-lg",children:gB})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-white/5 p-3 rounded-xl border border-white/5 text-center",children:[f.jsx("p",{className:"text-[9px] text-slate-500 uppercase font-bold",children:"Total Odds"}),f.jsx("p",{className:"text-2xl font-black text-yellow-400",children:I.slip.totalOdds})]}),f.jsxs("div",{className:"bg-green-500/10 p-3 rounded-xl border border-green-500/20 text-center",children:[f.jsx("p",{className:"text-[9px] text-green-400 uppercase font-bold",children:"Pot. Return"}),f.jsxs("p",{className:"text-2xl font-black text-green-400",children:["$",I.slip.potentialReturn]})]})]}),f.jsxs("div",{className:"flex items-center justify-between gap-2",children:[f.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-slate-400",children:[f.jsx(BA,{size:12,className:"text-yellow-500"}),"Stake: ",f.jsxs("strong",{children:["$",I.slip.stake]})]}),f.jsxs("button",{className:"flex-1 py-4 rounded-xl bg-white text-black font-black uppercase tracking-widest hover:bg-slate-200 transition flex items-center justify-center gap-2 shadow-lg shadow-white/10",children:[f.jsx(ej,{size:18})," Place Bet"]})]})]})]}):f.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center opacity-40 p-8",children:[f.jsx(lw,{className:"w-20 h-20 mb-4 text-slate-500"}),f.jsx("p",{className:"text-sm text-slate-400 font-bold uppercase tracking-widest",children:"Select an Active Day"}),f.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"To view the official Yakuza Combo Slip."})]})})]}),f.jsx("div",{className:"mt-8 text-center",children:f.jsx("button",{onClick:()=>{t(1),N(null),C(null),c([])},className:"text-slate-500 hover:text-white text-xs font-bold uppercase tracking-widest underline",children:"Reset Configuration"})})]})]})]})};function zc(...n){return n.filter(Boolean).join(" ")}function bB(n){const e=new Date(n);if(Number.isNaN(e.getTime()))return!1;const t=new Date,r=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1);return e.toDateString()===r.toDateString()}const Ts=({className:n,children:e})=>f.jsxs("div",{className:zc("relative overflow-hidden rounded-3xl border border-white/10 bg-white/[0.04] backdrop-blur-xl shadow-[0_20px_80px_rgba(0,0,0,0.55)]",n),children:[f.jsx("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-b from-white/[0.06] via-transparent to-transparent"}),e]}),If=({children:n,onClick:e,disabled:t,className:r,title:i})=>f.jsx("button",{title:i,onClick:e,disabled:t,className:zc("inline-flex items-center justify-center gap-2 rounded-2xl px-4 py-2 text-xs font-black uppercase tracking-wider","border border-white/10 bg-white/5 hover:bg-white/10 transition-all duration-300","focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500/60",t&&"cursor-not-allowed opacity-60 hover:bg-white/5",r),children:n}),_i=({children:n,className:e})=>f.jsx("span",{className:zc("inline-flex items-center gap-2 rounded-full border px-3 py-1 text-[10px] font-black uppercase tracking-[0.22em] border-white/10 bg-black/30 text-slate-200",e),children:n}),Dr=({className:n})=>f.jsx("div",{className:zc("animate-pulse rounded-2xl bg-gradient-to-r from-white/5 via-white/10 to-white/5",n)}),vB=()=>f.jsxs(Ts,{className:"p-7",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(Dr,{className:"h-7 w-28 rounded-2xl"}),f.jsx(Dr,{className:"h-7 w-32 rounded-2xl"})]}),f.jsxs("div",{className:"mt-8 flex items-center justify-between gap-6",children:[f.jsxs("div",{className:"flex-1 space-y-3 text-center",children:[f.jsx(Dr,{className:"mx-auto h-16 w-16 rounded-2xl"}),f.jsx(Dr,{className:"mx-auto h-4 w-32"})]}),f.jsx(Dr,{className:"h-6 w-10 rounded-xl"}),f.jsxs("div",{className:"flex-1 space-y-3 text-center",children:[f.jsx(Dr,{className:"mx-auto h-16 w-16 rounded-2xl"}),f.jsx(Dr,{className:"mx-auto h-4 w-32"})]})]}),f.jsxs("div",{className:"mt-10 grid grid-cols-3 gap-3",children:[f.jsx(Dr,{className:"h-16 rounded-3xl"}),f.jsx(Dr,{className:"h-16 rounded-3xl"}),f.jsx(Dr,{className:"h-16 rounded-3xl"})]}),f.jsx(Dr,{className:"mt-7 h-14 w-full rounded-[2rem]"})]}),xB=()=>{const n=Di(),e=async()=>{try{await E2(ma,y9)}catch(t){console.error(t.message)}};return f.jsxs("div",{className:"min-h-screen bg-slate-950 text-white flex items-center justify-center p-4",children:[f.jsxs("div",{className:"pointer-events-none fixed inset-0 overflow-hidden",children:[f.jsx("div",{className:"absolute -top-40 left-1/2 h-[520px] w-[520px] -translate-x-1/2 rounded-full bg-blue-600/20 blur-[120px]"}),f.jsx("div",{className:"absolute top-1/3 left-[-120px] h-[420px] w-[420px] rounded-full bg-emerald-500/10 blur-[140px]"})]}),f.jsxs(Ts,{className:"p-10 w-full max-w-md text-center",children:[f.jsx("button",{onClick:()=>n("/"),className:"absolute top-4 left-4 text-slate-400 hover:text-white transition-colors",children:" Back"}),f.jsx("div",{className:"mb-6 flex justify-center",children:f.jsx("div",{className:"relative grid h-16 w-16 place-items-center rounded-2xl bg-gradient-to-b from-white/10 to-black/30 border border-white/10",children:f.jsx("span",{className:"text-2xl font-black tracking-widest text-white",children:"Y"})})}),f.jsx("h1",{className:"text-3xl font-black mb-2",children:"Welcome Back"}),f.jsx("p",{className:"text-slate-400 mb-8 text-sm",children:"Sign in to access AI predictions"}),f.jsxs("button",{onClick:e,className:"w-full flex items-center justify-center gap-3 bg-white text-black px-6 py-4 rounded-xl font-bold hover:bg-slate-200 transition-colors",children:[f.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[f.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),f.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),f.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),f.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Sign in with Google"]})]})]})},_B=({user:n,onUpgradeSuccess:e})=>{const t=Di(),r=H.useRef(!1),i="212634211840",o="       Yakuza VIP. (Wafacash / CIH)";H.useEffect(()=>{if(window.paypal&&n&&!r.current){const d=document.getElementById("paypal-button-container");d&&(d.innerHTML="",r.current=!0,window.paypal.Buttons({createOrder:(p,b)=>b.order.create({purchase_units:[{amount:{value:"5.00",currency_code:"USD"}}]}),onApprove:async(p,b)=>{const v=new Date;v.setDate(v.getDate()+30),n&&(await ZM(qp(yo,"subscribers",n.uid),{email:n.email,isActive:!0,expireAt:Ct.fromDate(v)},{merge:!0}),e())}}).render("#paypal-button-container"))}},[n,e]);const c=()=>{const d=`https://wa.me/${i}?text=${encodeURIComponent(o)}`;window.open(d,"_blank")},h=async()=>{await mp(ma),t("/")};return f.jsxs("div",{className:"min-h-screen bg-[#0b1120] flex items-center justify-center p-4 font-sans",children:[f.jsx("div",{className:"pointer-events-none fixed inset-0 overflow-hidden",children:f.jsx("div",{className:"absolute -bottom-48 right-[-80px] h-[520px] w-[520px] rounded-full bg-indigo-600/20 blur-[140px]"})}),f.jsxs("div",{className:"max-w-5xl w-full grid grid-cols-1 md:grid-cols-2 gap-8 items-center relative z-10",children:[f.jsxs("div",{className:"space-y-8 p-4",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-blue-500 font-bold tracking-widest text-xs uppercase bg-blue-500/10 px-3 py-1 rounded-full border border-blue-500/20",children:"Premium Access"}),f.jsxs("h1",{className:"text-4xl md:text-5xl font-black text-white mt-4 leading-tight",children:["Join the ",f.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-500",children:"Winners Circle"})]}),f.jsx("p",{className:"text-slate-400 mt-4 text-lg leading-relaxed",children:"Get AI-powered predictions with +85% accuracy. Secure your betting strategy today."})]}),f.jsx("ul",{className:"space-y-4",children:["Unlimited AI Match Analysis","Safe Bets & Combo Predictions","Access to VIP Telegram Group","24/7 Priority Support"].map((d,p)=>f.jsxs("li",{className:"flex items-center gap-4 text-slate-300",children:[f.jsx("div",{className:"bg-green-500/20 p-1.5 rounded-full border border-green-500/30",children:f.jsx(MO,{className:"w-4 h-4 text-green-500"})}),f.jsx("span",{className:"font-medium",children:d})]},p))}),f.jsx("button",{onClick:h,className:"text-sm text-slate-500 hover:text-white underline transition-colors",children:"Sign out current account"})]}),f.jsxs(Ts,{className:"p-8 border-indigo-500/30 shadow-2xl",children:[f.jsxs("div",{className:"text-center mb-8",children:[f.jsx("p",{className:"text-slate-400 text-sm font-bold uppercase tracking-wider",children:"Monthly Plan"}),f.jsxs("div",{className:"flex items-center justify-center gap-1 mt-2",children:[f.jsx("span",{className:"text-5xl font-black text-white",children:"$5"}),f.jsx("span",{className:"text-slate-500 font-medium",children:"/mo"})]})]}),f.jsxs("div",{className:"mb-6 bg-white p-4 rounded-2xl",children:[f.jsx("div",{id:"paypal-button-container"}),f.jsxs("div",{className:"flex items-center justify-center gap-2 text-[10px] text-slate-500 mt-2 font-bold uppercase tracking-wide",children:[f.jsx(ow,{className:"w-3 h-3"}),"Secure Payment"]})]}),f.jsxs("div",{className:"relative flex py-4 items-center",children:[f.jsx("div",{className:"flex-grow border-t border-white/10"}),f.jsx("span",{className:"flex-shrink-0 mx-4 text-slate-500 text-[10px] uppercase tracking-widest font-bold",children:"Or Pay Locally (Maroc)"}),f.jsx("div",{className:"flex-grow border-t border-white/10"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("button",{onClick:c,className:"w-full bg-green-600 hover:bg-green-500 text-white font-bold py-3.5 rounded-xl transition shadow-lg shadow-green-900/20 flex items-center justify-center gap-2 group border border-white/10",children:[f.jsx(GO,{className:"w-5 h-5 group-hover:scale-110 transition"}),"Pay via WhatsApp"]}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-3 flex flex-col items-center justify-center gap-1 text-slate-300 hover:bg-white/10 transition cursor-pointer",children:[f.jsx(WO,{className:"w-5 h-5 text-yellow-500 mb-1"}),f.jsx("span",{className:"text-[10px] font-bold uppercase",children:"Wafacash"})]}),f.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-xl p-3 flex flex-col items-center justify-center gap-1 text-slate-300 hover:bg-white/10 transition cursor-pointer",children:[f.jsx(ow,{className:"w-5 h-5 text-blue-400 mb-1"}),f.jsx("span",{className:"text-[10px] font-bold uppercase",children:"CIH Bank"})]})]})]})]})]})]})},wB=({user:n,onLogout:e})=>{const t=Di(),[r,i]=H.useState("leagues"),[o,c]=H.useState(null),[h,d]=H.useState([]),[p,b]=H.useState(!1),[v,x]=H.useState(null),[T,N]=H.useState(null),[I,C]=H.useState(null),[U,K]=H.useState(null),B=H.useMemo(()=>{const V=[...h].sort((D,R)=>new Date(D.commence_time).getTime()-new Date(R.commence_time).getTime()),A=V.filter(D=>bB(D.commence_time));return A.length>0?A:V},[h]),$=H.useMemo(()=>h.length===0?!1:B.length>0&&B.length<h.length,[h.length,B.length]),Z=H.useCallback(()=>{i("leagues"),c(null),d([]),C(null),x(null),K(null),N(null)},[]),ve=H.useCallback(async V=>{c(V),i("matches"),b(!0),x(null),d([]),C(null);try{const A=await Qy(V.id);d(Array.isArray(A)?A:[])}catch(A){x((A==null?void 0:A.message)||"Failed to load matches")}finally{b(!1)}},[]),L=H.useCallback(async V=>{N(V.id),K(null),C(null),i("analysis");try{const[A,D]=await Promise.all([zA(V.home_team,V.away_team),HA(`${V.home_team} vs ${V.away_team}`)]),R=await Xy([V],{[V.id]:A});R?C({matchName:`${V.home_team} vs ${V.away_team}`,data:R,imageUrl:(D==null?void 0:D.imageUrl)||"",sofascoreLink:(D==null?void 0:D.link)||""}):K("AI analysis returned empty result.")}catch(A){K((A==null?void 0:A.message)||"Analysis failed")}finally{N(null)}},[]),k=H.useCallback(()=>{r==="analysis"?i("matches"):Z()},[Z,r]),P=H.useMemo(()=>{const V=["Leagues"];return o!=null&&o.name&&V.push(o.name),r==="analysis"&&V.push("Analysis"),V},[o==null?void 0:o.name,r]);return f.jsxs("div",{className:"min-h-screen bg-slate-950 text-white",children:[f.jsxs("div",{className:"pointer-events-none fixed inset-0 overflow-hidden",children:[f.jsx("div",{className:"absolute -top-40 left-1/2 h-[520px] w-[520px] -translate-x-1/2 rounded-full bg-blue-600/20 blur-[120px]"}),f.jsx("div",{className:"absolute -bottom-48 right-[-80px] h-[520px] w-[520px] rounded-full bg-indigo-600/20 blur-[140px]"}),f.jsx("div",{className:"absolute top-1/3 left-[-120px] h-[420px] w-[420px] rounded-full bg-emerald-500/10 blur-[140px]"}),f.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,rgba(255,255,255,0.06),transparent_45%)]"})]}),f.jsxs("div",{className:"relative mx-auto w-full max-w-7xl px-4 py-6 md:px-6 md:py-8",children:[f.jsxs("header",{className:"flex items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("button",{onClick:Z,className:zc("group flex items-center gap-3 rounded-3xl border border-white/10 bg-white/5 px-4 py-3 hover:bg-white/10 transition-all duration-300"),children:[f.jsx("div",{className:"relative grid h-10 w-10 place-items-center rounded-2xl bg-gradient-to-b from-white/10 to-black/30 border border-white/10",children:f.jsx("span",{className:"text-sm font-black tracking-widest",children:"Y"})}),f.jsxs("div",{className:"leading-tight text-left",children:[f.jsx("div",{className:"text-sm font-black tracking-widest",children:"YAKUZA AI"}),f.jsx("div",{className:"text-[11px] text-slate-400",children:"Odds  News  AI Picks"})]})]}),f.jsx("div",{className:"hidden md:flex items-center gap-2 text-xs text-slate-400",children:P.map((V,A)=>f.jsxs(bn.Fragment,{children:[f.jsx("span",{className:zc(A===P.length-1&&"text-slate-200 font-bold"),children:V}),A!==P.length-1&&f.jsx("span",{className:"opacity-40",children:"/"})]},`${V}-${A}`))})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:e,className:"text-xs font-bold text-red-400 hover:text-red-300 border border-red-500/30 bg-red-500/10 hover:bg-red-500/20 px-4 py-2 rounded-xl transition-all",children:"LOGOUT"}),r!=="leagues"?f.jsxs(If,{onClick:k,title:"Back",children:[f.jsx("span",{className:"text-base leading-none",children:""})," Back"]}):null]})]}),f.jsxs("div",{className:"mt-6 flex flex-wrap items-center justify-between gap-3",children:[f.jsxs("div",{children:[f.jsxs("h1",{className:"text-2xl md:text-3xl font-black tracking-tight",children:[r==="leagues"&&"Choose a League",r==="matches"&&"Upcoming Matches",r==="analysis"&&"AI Match Analysis"]}),f.jsxs("p",{className:"mt-1 text-sm text-slate-400",children:[r==="leagues"&&"Pick a league to load odds and matches.",r==="matches"&&($?"Showing tomorrows matches (auto-filter).":"Showing all available matches."),r==="analysis"&&"Safe bet + extra options + combo."]})]}),r==="matches"&&f.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[f.jsxs(_i,{className:"text-slate-200",children:[f.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-emerald-400"}),B.length," matches"]}),(o==null?void 0:o.country)&&f.jsxs(_i,{className:"text-slate-200",children:[f.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-blue-400"}),o.country]}),$&&f.jsx(_i,{className:"border-emerald-500/20 bg-emerald-500/10 text-emerald-200",children:"Tomorrow only"})]})]}),f.jsxs("main",{className:"mt-7",children:[r==="leagues"&&f.jsxs("div",{className:"space-y-8",children:[f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[f.jsxs("button",{onClick:()=>t("/smart-bet"),className:"relative group overflow-hidden rounded-[2.5rem] bg-gradient-to-br from-[#0f172a] to-[#1e3a8a]/20 border border-blue-500/30 p-8 text-left transition-all hover:border-blue-500/60 shadow-2xl hover:-translate-y-1",children:[f.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10 group-hover:opacity-30 transition-opacity",children:f.jsx("span",{className:"text-8xl",children:""})}),f.jsxs("div",{className:"relative z-10",children:[f.jsx("span",{className:"inline-block bg-blue-600 text-white text-[9px] font-black uppercase px-2 py-1 rounded mb-3 tracking-widest shadow-lg shadow-blue-500/40",children:"Daily Engine"}),f.jsxs("h2",{className:"text-2xl md:text-3xl font-black text-white italic uppercase tracking-tighter mb-2",children:["Smart ",f.jsx("span",{className:"text-blue-400",children:"Builder"})]}),f.jsx("p",{className:"text-slate-400 text-xs font-medium leading-relaxed max-w-xs mb-6 h-10",children:"Instant daily slips based on your capital & risk."}),f.jsxs("div",{className:"inline-flex items-center gap-2 text-blue-400 font-black text-[10px] uppercase tracking-widest group-hover:gap-4 transition-all",children:["Launch Terminal ",f.jsx("span",{children:""})]})]})]}),f.jsxs("button",{onClick:()=>t("/strategy-planner"),className:"relative group overflow-hidden rounded-[2.5rem] bg-gradient-to-br from-[#0f172a] to-[#581c87]/20 border border-purple-500/30 p-8 text-left transition-all hover:border-purple-500/60 shadow-2xl hover:-translate-y-1",children:[f.jsx("div",{className:"absolute top-0 right-0 p-6 opacity-10 group-hover:opacity-30 transition-opacity",children:f.jsx("span",{className:"text-8xl",children:""})}),f.jsxs("div",{className:"relative z-10",children:[f.jsx("span",{className:"inline-block bg-purple-600 text-white text-[9px] font-black uppercase px-2 py-1 rounded mb-3 tracking-widest shadow-lg shadow-purple-500/40",children:"Monthly Plan"}),f.jsxs("h2",{className:"text-2xl md:text-3xl font-black text-white italic uppercase tracking-tighter mb-2",children:["Strategy ",f.jsx("span",{className:"text-purple-400",children:"Planner"})]}),f.jsx("p",{className:"text-slate-400 text-xs font-medium leading-relaxed max-w-xs mb-6 h-10",children:"AI roadmap to manage your bankroll for 30 days."}),f.jsxs("div",{className:"inline-flex items-center gap-2 text-purple-400 font-black text-[10px] uppercase tracking-widest group-hover:gap-4 transition-all",children:["Create Roadmap ",f.jsx("span",{children:""})]})]})]})]}),f.jsx("div",{className:"grid grid-cols-1 gap-5 md:grid-cols-3",children:uj.map(V=>f.jsx("button",{onClick:()=>ve(V),className:"group text-left rounded-3xl border border-white/10 bg-white/[0.04] backdrop-blur-xl hover:bg-white/[0.07] transition-all duration-300 shadow-[0_18px_70px_rgba(0,0,0,0.55)]",children:f.jsxs("div",{className:"p-7",children:[f.jsxs("div",{className:"flex items-center justify-between gap-4",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"relative grid h-14 w-14 place-items-center rounded-2xl bg-gradient-to-b from-white/10 to-black/30 border border-white/10 overflow-hidden",children:[f.jsx("img",{src:V.logo,className:"h-10 w-10 object-contain",alt:V.name,loading:"lazy"}),f.jsx("div",{className:"absolute inset-0 bg-blue-500/10 opacity-0 group-hover:opacity-100 transition-opacity"})]}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-base font-black tracking-tight",children:V.name}),f.jsx("p",{className:"mt-1 text-xs text-slate-400",children:V.country||"International"})]})]}),f.jsx("div",{className:"opacity-60 group-hover:opacity-100 transition-opacity",children:f.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/10 bg-black/30 px-3 py-1 text-[10px] font-black uppercase tracking-[0.22em] text-slate-200",children:["Explore ",f.jsx("span",{className:"text-base leading-none",children:""})]})})]}),f.jsxs("div",{className:"mt-6 flex items-center justify-between",children:[f.jsx("p",{className:"text-xs text-slate-500",children:"Load odds & matches for this league"}),f.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/10 bg-white/5 grid place-items-center group-hover:bg-white/10 transition-colors",children:f.jsx("svg",{className:"h-5 w-5 opacity-80",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"})})})]})]})},V.id))})]}),r==="matches"&&f.jsxs("div",{className:"space-y-6",children:[f.jsx(Ts,{className:"p-6 md:p-7",children:f.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"relative h-14 w-14 rounded-2xl border border-white/10 bg-gradient-to-b from-white/10 to-black/30 overflow-hidden grid place-items-center",children:o!=null&&o.logo?f.jsx("img",{src:o.logo,alt:o.name,className:"h-10 w-10 object-contain"}):f.jsx("span",{className:"text-sm font-black",children:"L"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-black uppercase tracking-[0.2em] text-slate-400",children:"League"}),f.jsx("h2",{className:"text-xl md:text-2xl font-black tracking-tight",children:o==null?void 0:o.name})]})]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[f.jsx(If,{onClick:()=>o&&ve(o),disabled:p,className:"border-blue-500/20 bg-blue-600/15 hover:bg-blue-600/25 text-blue-200",children:p?"Refreshing...":"Refresh"}),f.jsx(If,{onClick:Z,className:"text-slate-200",children:"Change League"})]})]})}),p&&f.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:Array.from({length:6}).map((V,A)=>f.jsx(vB,{},A))}),!p&&v&&f.jsx(Ts,{className:"p-6 border-red-500/20 bg-red-500/10",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"mt-0.5 h-9 w-9 rounded-2xl border border-red-500/30 bg-red-500/15 grid place-items-center",children:f.jsx("span",{className:"text-red-200 font-black",children:"!"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-black text-red-200",children:"Failed to load matches"}),f.jsx("p",{className:"mt-1 text-sm text-red-200/80",children:v})]})]})}),!p&&!v&&B.length===0&&f.jsx(Ts,{className:"p-7",children:f.jsxs("div",{className:"flex flex-col items-center text-center",children:[f.jsx("p",{className:"text-base font-black",children:"No matches found"}),f.jsx("p",{className:"mt-1 text-sm text-slate-400",children:"Try refreshing or check back later."})]})}),!p&&!v&&B.length>0&&f.jsx("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:B.map(V=>f.jsx(oj,{match:V,onAnalyze:L,isAnalyzing:T===V.id},V.id))})]}),r==="analysis"&&f.jsxs("div",{className:"mx-auto max-w-5xl space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between gap-3",children:[f.jsxs(If,{onClick:()=>i("matches"),title:"Back to matches",children:[f.jsx("span",{className:"text-base leading-none",children:""})," Matches"]}),f.jsxs(_i,{className:"text-slate-200",children:[f.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-blue-400"})," AI Engine"]})]}),U&&f.jsxs(Ts,{className:"p-6 border-red-500/20 bg-red-500/10",children:[f.jsx("p",{className:"font-black text-red-200",children:"Analysis failed"}),f.jsx("p",{className:"mt-1 text-sm text-red-200/80",children:U})]}),!I&&!U&&f.jsx(Ts,{className:"p-7",children:f.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[f.jsxs("div",{className:"space-y-3",children:[f.jsx(Dr,{className:"h-7 w-64"}),f.jsx(Dr,{className:"h-4 w-80"}),f.jsx("div",{className:"pt-2",children:f.jsx(_i,{className:"border-blue-500/20 bg-blue-600/15 text-blue-200",children:"Analyzing"})})]}),f.jsx(Dr,{className:"h-40 w-full md:h-32 md:w-64 rounded-3xl"})]})}),I&&f.jsxs(f.Fragment,{children:[f.jsx(Ts,{className:"p-6 md:p-7",children:f.jsxs("div",{className:"flex flex-col gap-6 md:flex-row md:items-center md:justify-between",children:[f.jsxs("div",{className:"min-w-0",children:[f.jsx("p",{className:"text-xs font-black uppercase tracking-[0.22em] text-slate-400",children:"Match"}),f.jsx("h2",{className:"mt-1 text-2xl md:text-3xl font-black tracking-tight truncate",children:I.matchName}),f.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[I.sofascoreLink&&f.jsxs("a",{href:I.sofascoreLink,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-2xl border border-blue-500/20 bg-blue-600/15 px-4 py-2 text-xs font-black uppercase tracking-wider text-blue-200 hover:bg-blue-600/25 transition-all",children:["Open on Sofascore ",f.jsx("span",{className:"text-base leading-none",children:""})]}),f.jsxs(_i,{className:"text-slate-200",children:[f.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-emerald-400"})," Safe Bet Included"]})]})]}),f.jsx("div",{className:"w-full md:w-[360px]",children:I.imageUrl?f.jsx("img",{src:I.imageUrl,alt:I.matchName,className:"h-[190px] w-full rounded-3xl border border-white/10 object-cover"}):f.jsx("div",{className:"h-[190px] w-full rounded-3xl border border-white/10 bg-white/5 grid place-items-center",children:f.jsx("span",{className:"text-slate-400 text-sm",children:"No image"})})})]})}),f.jsx(Ts,{className:"p-7 border-emerald-500/25 bg-emerald-500/10",children:f.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-black uppercase tracking-[0.22em] text-emerald-200/80",children:"Safe Bet"}),f.jsx("p",{className:"mt-2 text-2xl md:text-3xl font-black text-emerald-100",children:I.data.safeBet.selection}),f.jsx("p",{className:"mt-3 text-sm text-emerald-100/80 leading-relaxed",children:I.data.safeBet.reason})]}),f.jsxs(_i,{className:"border-emerald-500/30 bg-black/30 text-emerald-100",children:[f.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-emerald-400"})," Recommended"]})]})}),f.jsxs(Ts,{className:"p-6 md:p-7",children:[f.jsxs("div",{className:"flex items-center justify-between gap-3",children:[f.jsx("h3",{className:"text-lg md:text-xl font-black tracking-tight",children:"Additional Options"}),f.jsxs(_i,{className:"text-slate-200",children:[I.data.additionalOptions.length," picks"]})]}),f.jsx("div",{className:"mt-5 space-y-3",children:I.data.additionalOptions.map((V,A)=>f.jsx("div",{className:"rounded-3xl border border-white/10 bg-black/30 p-5 hover:bg-black/35 transition-colors",children:f.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-start md:justify-between",children:[f.jsxs("div",{className:"min-w-0",children:[f.jsx("p",{className:"font-black tracking-tight",children:V.option}),f.jsx("p",{className:"mt-1 text-sm text-slate-400 leading-relaxed",children:V.reason})]}),f.jsxs("div",{className:"flex items-center gap-2 md:flex-col md:items-end md:gap-1",children:[f.jsx("span",{className:"inline-flex items-center justify-center rounded-2xl border border-blue-500/20 bg-blue-600/15 px-3 py-1 text-sm font-black text-blue-200",children:V.odds}),f.jsxs("span",{className:"text-[11px] text-slate-400",children:["Prob: ",f.jsx("span",{className:"font-bold text-slate-200",children:V.probability})]})]})]})},A))})]}),f.jsxs(Ts,{className:"p-6 md:p-7",children:[f.jsxs("div",{className:"flex items-center justify-between gap-3",children:[f.jsx("h3",{className:"text-lg md:text-xl font-black tracking-tight",children:"YAKUZA COMBO"}),f.jsx(_i,{className:"border-indigo-500/20 bg-indigo-600/15 text-indigo-100",children:"Combo Mode"})]}),f.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-4 md:grid-cols-2",children:[f.jsxs("div",{className:"rounded-3xl border border-white/10 bg-black/30 p-5",children:[f.jsx("p",{className:"text-xs font-black uppercase tracking-[0.22em] text-slate-400",children:"Bet 1"}),f.jsx("p",{className:"mt-2 font-black text-slate-100",children:I.data.comboBet.bet1})]}),f.jsxs("div",{className:"rounded-3xl border border-white/10 bg-black/30 p-5",children:[f.jsx("p",{className:"text-xs font-black uppercase tracking-[0.22em] text-slate-400",children:"Bet 2"}),f.jsx("p",{className:"mt-2 font-black text-slate-100",children:I.data.comboBet.bet2})]})]}),f.jsxs("div",{className:"mt-4 rounded-3xl border border-white/10 bg-black/30 p-5",children:[f.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-black uppercase tracking-[0.22em] text-slate-400",children:"Total Odds"}),f.jsx("p",{className:"mt-1 text-2xl font-black text-blue-200",children:I.data.comboBet.totalOdds})]}),f.jsxs(_i,{className:"border-white/10 bg-white/5 text-slate-100",children:["Risk: ",f.jsx("span",{className:"font-black text-slate-100",children:I.data.comboBet.riskLevel})]})]}),f.jsx("p",{className:"mt-3 text-sm text-slate-300/80 leading-relaxed",children:I.data.comboBet.comment})]})]})]})]})]}),f.jsxs("footer",{className:"mt-10 pb-4 text-center text-xs text-slate-500",children:["Built with ",f.jsx("span",{className:"text-slate-300 font-bold",children:"Odds"})," + ",f.jsx("span",{className:"text-slate-300 font-bold",children:"News"})," + ",f.jsx("span",{className:"text-slate-300 font-bold",children:"AI"})]})]})]})},EB=()=>{const[n,e]=H.useState(null),t=Di(),r=Ra();H.useEffect(()=>{const d=fC(ma,async p=>{p?await i(p):(e(null),(r.pathname==="/dashboard"||r.pathname==="/subscription")&&t("/"))});return()=>d()},[]);const i=async d=>{try{const p=await qN(qp(yo,"subscribers",d.uid));let b=!1;if(p.exists()){const N=p.data();N.expireAt&&N.expireAt.toDate()>new Date&&(b=!0)}const v={email:d.email||"",uid:d.uid,subscribed:b};e(v);const x=r.pathname==="/auth",T=r.pathname==="/";b?(x||T)&&t("/dashboard"):(x||T)&&t("/subscription")}catch(p){console.error(p),t("/subscription")}},o=async()=>{await mp(ma),e(null),t("/")},c=()=>{e(d=>d?{...d,subscribed:!0}:null),t("/dashboard")},h=()=>`https://yakuza-ai.com${r.pathname==="/"?"":r.pathname}`;return f.jsxs(f.Fragment,{children:[f.jsx(Tp,{children:f.jsx("link",{rel:"canonical",href:h()})}),f.jsxs(x5,{children:[f.jsx(Zr,{path:"/",element:f.jsx(Gj,{onEnter:()=>t("/auth"),onGoToContact:()=>t("/contact"),onGoToNews:()=>t("/news"),onGoToBlog:()=>t("/blog")})}),f.jsx(Zr,{path:"/news",element:f.jsx(Qj,{onBack:()=>t("/")})}),f.jsx(Zr,{path:"/contact",element:f.jsx(Kj,{onBack:()=>t("/")})}),f.jsx(Zr,{path:"/admin",element:f.jsx(pB,{})}),f.jsx(Zr,{path:"/blog",element:f.jsx(b9,{})}),f.jsx(Zr,{path:"/blog/:id",element:f.jsx(v9,{})}),f.jsx(Zr,{path:"/auth",element:f.jsx(xB,{})}),f.jsx(Zr,{path:"/subscription",element:n?f.jsx(_B,{user:n,onUpgradeSuccess:c}):f.jsx(Uu,{to:"/auth"})}),f.jsx(Zr,{path:"/dashboard",element:n&&n.subscribed?f.jsx(wB,{user:n,onLogout:o}):f.jsx(Uu,{to:n?"/subscription":"/auth"})}),f.jsx(Zr,{path:"/smart-bet",element:n&&n.subscribed?f.jsx(mB,{}):f.jsx(Uu,{to:n?"/subscription":"/auth"})}),f.jsx(Zr,{path:"/strategy-planner",element:n&&n.subscribed?f.jsx(yB,{}):f.jsx(Uu,{to:n?"/subscription":"/auth"})}),f.jsx(Zr,{path:"*",element:f.jsx(Uu,{to:"/"})})]})]})},TB=()=>f.jsx($y,{children:f.jsx(F5,{children:f.jsx(EB,{})})}),jR=document.getElementById("root");if(!jR)throw new Error("Could not find root element to mount to");const AB=w4.createRoot(jR);AB.render(f.jsx(bn.StrictMode,{children:f.jsx($y,{children:f.jsx(TB,{})})}))});export default SB();
